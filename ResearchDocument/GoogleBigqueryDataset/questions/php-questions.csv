_id,title,content,total_like,tags
32561991,Is it ok to create databases in AWS RDS dynamically?,"<p>I am trying to create a new database so that I can transfer my application to AWS without much work. According to this <a href=""http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_PHP.rds.html"" rel=""nofollow"">link</a> I should do this to connect to a RDS Database:</p>

<pre><code>$link = mysqli_connect($_SERVER['RDS_HOSTNAME'],
$_SERVER['RDS_USERNAME'],
$_SERVER['RDS_PASSWORD'],
$_SERVER['RDS_DB_NAME'],
$_SERVER['RDS_PORT']);
</code></pre>

<p>It works, so I tried adding a new database and made a new connection + query using the new database and it also worked.</p>

<p>My question is, the database name from the link, is fetch from <code>$_SERVER['RDS_DB_NAME']</code>, I do not know if there is any <code>AWS</code> dependent thing with them adding the db details to <code>$_SERVER</code> variable.</p>

<p>So is it safe if I create a new database <strong>dynamically</strong> using php? I am wondering if tomorrow morning their system will suddenly drop my new database because it was created outside <code>RDS</code>?</p>

<p>The AWS Server (EC2, RDS, etc.) were set up by <code>AWS Elastic Beanstalk</code>, I didn't set them up manually so I am having those <code>am I allowed to do this situations</code></p>",0,php|mysql|amazon-web-services|amazon-ec2|amazon-rds
32729160,SCRAM-SHA-1 auth by PHP,"<p>help me please with implementing semantic code from manual about SCRAM-SHA-1 authorization in XMPP server. So, we got:</p>

<pre><code>clientFinalMessageBare = ""c=biws,r="" .. serverNonce
saltedPassword = PBKDF2-SHA-1(normalizedPassword, salt, i)
clientKey = HMAC-SHA-1(saltedPassword, ""Client Key"")
storedKey = SHA-1(clientKey)
authMessage = initialMessage .. "","" .. serverFirstMessage .. "","" .. clientFinalMessageBare
clientSignature = HMAC-SHA-1(storedKey, authMessage)
clientProof = clientKey XOR clientSignature
clientFinalMessage = clientFinalMessageBare .. "",p="" .. base64(clientProof)
</code></pre>

<p>My PHP code:</p>

<pre><code>$cfmb = 'c=biws,r='.$salt;     
$saltpass = hash_pbkdf2('sha1', 'IDoMdGuFE9S0', $ps, $iter);        
//hash_pbkdf2('sha1', 'IDoMdGuFE9S0', $salt, $iter, 0, true); maybe like that???
$ckey = hash_hmac('sha1', $saltpass, 'Client Key');
$sckey = sha1($ckey);
$authmsg = $im.','.$chal.','.$cfmb;
$csign = hash_hmac('sha1', $sckey, $authmsg);
$cproof = bin2hex(pack('H*',$ckey) ^ pack('H*',$csign));
$cfm = $cfmb.',p='.base64_encode($cproof);
</code></pre>

<p>Somewhere error (maybe ALL big error ;)) and I very need your help for correcting my code, maybe I am use wrong functions, or arguments in wrong positions? Because result - fail, server sends me that:</p>

<p>""The response provided by the client doesn't match the one we calculated.""</p>

<p>PS: Sorry for my bad English ;)</p>",0,php|xmpp|sasl|sasl-scram
32745395,Send SMS from PHP script with FreePBX Bootstrap,"<p>In the below script, which was written by an unknown third party, the only changes I've made were changing the value of $to, $from, and $body from hard-coded strings to $_GET elements. The aim of the project is to pass some parameters to this script in a query string, and then compose and send and SMS message with it.</p>

<pre><code>&lt;?php

/**** **** **** **** **** **** **** **** **** **** **** 
 * sms.php 
 * 
 * sample PHP code to send an SMS message to a registered 
 * extension on a FreeBX 12 server 
 * 
 * version history
 *    2015-09-22   version 0 by lgaetz@sangoma.com
 **** **** **** **** **** **** **** **** **** **** ****/

// Load the FreeBPX bootstrap, requires FreePBX 12
if (!@include_once(getenv('FREEPBX_CONF') ? getenv('FREEPBX_CONF') : '/etc/freepbx.conf')) {
    include_once('/etc/asterisk/freepbx.conf');
}

// The Asterisk Manager Class from the boostrap is $astman 
// If using FreePBX 13+ must set asman with 
//  $astman = new AGI_AsteriskManager( );
if ($astman) {
    // $to = ""sip:#######"";
    // $from = '""Caller ID Name"" &lt;#######&gt;';
    // $body = ""cats are yummy"";
    $to = $_GET['to'];
    $from = $_GET['from'];
    $body = $_GET['body'];

    $result = $astman-&gt;MessageSend($to, $from, $body);

    print_r($result);   //debug

    // the variable $result will be an array of the formats
    // Array ( [Response] =&gt; Success [Message] =&gt; Message successfully sent )
    // Array ( [Response] =&gt; Error [Message] =&gt; Message failed to send. )
} else {
    echo ""No Asterisk Manager Connection"";
}
</code></pre>

<p>However, even though this script works fine with those commented-out hard-coded values, changing those values to $_GET elements results in this error message:</p>

<pre><code>Array ( [Response] =&gt; Error [Message] =&gt; Message technology not found. )
</code></pre>

<p>I'm trying to find some sort of documentation to explain to me how this works... Any ideas from anyone else who's worked with FreePBX bootstrap?</p>",2,php|get|sms|freepbx
32539149,how to make a select option using ajax call .on retrieval it produces an array,"<p>how to add the resultant array data as a select option to get dropdown?   </p>

<pre><code> &lt;html&gt;
    &lt;script&gt;
    $(document).ready(function() {
        $(""#class_name"").change(function(){
            var class_id=$(""#class_name"").val();
            //alert(""""+class_id);
            $.ajax({
                url: ""../masters/getsection.php"", 
                type: ""POST"",            
                data:""class_id=""+class_id,

                 success: function(data){
                    alert(data);

                }



    });
        });
});

&lt;/script&gt;
&lt;body&gt;
&lt;div class=""form-group""&gt;
            &lt;div class=""col-sm-9""&gt;
            &lt;select name=""class_name"" class=""form-control"" id=""class_name""&gt;
            &lt;?php
            sizeof($StudentArray);
            for($i=0;$i&lt;sizeof($StudentArray);$i++){
            echo ""&lt;option value='"".$StudentArray[$i]     ['classId'].""'&gt;"".$StudentArray[$i]['name'].""&lt;/option&gt;"";
            }
            ?&gt;
            &lt;/select&gt;
        &lt;/div&gt;
    &lt;div class=""form-group""&gt;
                &lt;div class=""col-sm-9""&gt;
                &lt;select  class=""form-control"" name=""section_name"" id=""section_name"" &gt;
                &lt;option value=array['sec_id']&gt;.array['sec_name']&lt;/option&gt;//how to give the array value here?

            &lt;/select&gt;
        &lt;/div&gt;
    &lt;/div&gt;
</code></pre>

<p>
</p>

<p>success of data array gives result as</p>

<pre><code> array([0]=&gt;array(['sec_id']=&gt;1['name']=&gt;A)
 [1]=&gt;array(['sec_id']=&gt;2['name']=&gt;B)
 )
</code></pre>

<p>my question is how to print this array value in the secont ?
my getsection.php is </p>

<pre><code>&lt;?php
include '../common/inc.common.php';
$class_id=$_POST['class_id'];
$tableName1 = ""section"";
$fields1=""sec_id,sec_name"";
$conditions1=""where stat='A' and class_id='$class_id'"";
 $SectionArray = $Cobj-&gt;getCustomData($tableName1,$fields1, $conditions1);
print_r($SectionArray);
?&gt;
</code></pre>",0,javascript|php|jquery|json|ajax
32686708,Web statistics using PHP (laravel)/Mysql,"<p>I have a login/logout application which I created using Laravel 4. I need to make a web statistics so whenever the user login it will show me a line graph with the amount of users within a day. </p>

<p>Below is my login method from which I save data in the database whenever a user login.</p>

<pre><code> public function postLogin() {

    $input = Input::all();
    $rules = array('email' =&gt; 'required', 'password' =&gt; 'required');
    $v = Validator::make($input, $rules);

    if ($v-&gt;fails()) {
        return Redirect::to('login')-&gt;withErrors($v);
    } else {
        $credentials = array('email' =&gt; $input['email'], 'password' =&gt; $input['password']);

        if (Auth::attempt($credentials)) {
            $id = Auth::user()-&gt;id;
            $auditor = new Auditor();
            $auditor-&gt;user_id = $id;
            $auditor-&gt;operation = 'login';
            $auditor-&gt;save();
            return Redirect::to('admin');
        } else {
            return View::make('home.login', array('message' =&gt; 'Wrong username/password!'));
        }
    }
}
</code></pre>

<p>I have a controller where I group my data from database. I know it is not correct but I don't know how to continue to create the graph.</p>

<pre><code>public function graph() {
    $auditor = new Auditor();
    $auditor = array();
    //get data from database
    $sql = ""SELECT  DATE('auditor'.'created') AS date"" . ""COUNT('auditor'.'auditor_id') AS 'count'"". ""FROM 'auditor'"".
    ""WHERE auditor .created BETWEEN 2015-09-01 00:00:00 AND 2015-09-31 23:59:59"". ""GROUP BY date"".""ORDER BY date"";
    $result = mysqli_query($sql) or die('Query failed: ' . mysql_error());
    if ($result) {
        while ($row = mysql_fetch_assoc($result)) {

        }
    }
</code></pre>

<p>Please can you help me how to draw a graph and is it possible to display data in the graph after grouped?</p>",0,php|mysql|laravel
32743093,Get $request variable in route function - laravel?,"<p>I have this route</p>

<pre><code>Route::post('/unicorn',['as' =&gt; 'unicorn',function ()
{
    //Despite popular belief unicorns can be controlled
    $pony = $this-&gt;app-&gt;make('App\Http\Controllers\UnicornController')-&gt;saddle(); 
}]);
</code></pre>

<p>And I also have a good reason to be making the controller within the route function instead of just using <code>'uses' =&gt; 'UnicornController'</code>.</p>

<p>The issue arises from the fact that the <code>saddle()</code> function requires the request</p>

<pre><code>public function saddle(Request $request){
    dd($request-&gt;input('type'));
}
</code></pre>

<p>So... how can I</p>

<p><strong>A.</strong> ideally be able to access <code>$request</code> within the route function</p>

<p>or </p>

<p><strong>B.</strong> Get <code>$this-&gt;app-&gt;make()</code> to inject the request like using <code>'uses' =&gt;</code> does</p>

<p><strong>..?</strong></p>",0,php|laravel|laravel-5
32849778,Laravel GET moved permanently on POST forms 301,"<p>I have this very weird error. </p>

<p>Whenever I attempt to use a form on this particular call, it will automatically do a Moved Permanently 301 call to the exact same page as GET. I'm not sure what is causing this but I'm guessing this is something with how Laravel handles URLs.</p>

<p>For example I have:</p>

<pre><code>&lt;?php echo Form::open(array('url' =&gt;  'storage/remove/?page=' . $page)) ?&gt;
</code></pre>

<p>Where $page is a _GET variable. </p>

<p>When I run this page in FireBug, I see that it always tries to redirect it to a GET page. </p>

<p>My routes:</p>

<pre><code>Route::any(""storage/{id?}"", array(""uses"" =&gt; ""StorageController@index"", ""before"" =&gt; array(""auth"", ""maintenance_check"")));
Route::post(""storage/remove"", array(""uses"" =&gt; ""StorageController@remove"", ""before"" =&gt; array(""auth"", ""csrf_check"", ""maintenance_check"")));
</code></pre>

<p>Can someone let me know what I'm doing wrong for this issue?</p>",2,php|laravel|redirect|get
32612814,PHP MySQLI Select multi columns returning null,"<p>I'm attempting to retrieve 2 columns from my database with the following prepared statement:</p>

<pre><code>$statement = $conn-&gt;prepare(""SELECT script, work_instruction FROM "".$table."" WHERE category='"".$category.""' AND sub_category='"".$sub_category.""' AND issue='"".$issue.""'"");
</code></pre>

<p>Whenever I use this query, the PHP is returning <code>null</code> to my webpage, even though the data is present in the DB. However, the following statement <strong>does</strong> work (Same for work_instruction):</p>

<pre><code>$statement = $conn-&gt;prepare(""SELECT script FROM "".$table."" WHERE category='"".$category.""' AND sub_category='"".$sub_category.""' AND issue='"".$issue.""'"");
</code></pre>

<p>Once I prepare the statement I execute and loop through my results, before returning them. I think the problem may lie here, but am not sure.</p>

<pre><code>$statement-&gt;execute();
$statement-&gt;bind_result($results);

while($statement-&gt;fetch()){
    array_push($myArr, $results);
}

$statement-&gt;free_result();
echo json_encode($myArr);
</code></pre>

<p><br>Here is an example of what my table looks like:
<a href=""https://i.stack.imgur.com/lqGa4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lqGa4.png"" alt=""enter image description here""></a>
<br><hr>Here is the entire function, just in case you need to see more:</p>

<pre><code>// Responsible for generating queries to the database
// and returning the data collected
function query($conn, $column) {    
    $myArr = array();
    $table = $_POST['table'];
    $category = $_POST['category'];
    $sub_category = $_POST['sub_category'];
    $issue = $_POST['issue'];

    switch ($column) {
        case 'category':
            $statement = $conn-&gt;prepare(""SELECT DISTINCT category FROM "".$table);
            break;

        case 'sub_category':
            $statement = $conn-&gt;prepare(""SELECT DISTINCT sub_category FROM "".$table."" WHERE category='"".$category.""'"");
            break;

        case 'issue':
            $statement = $conn-&gt;prepare(""SELECT DISTINCT issue FROM "".$table."" WHERE category='"".$category.""' AND sub_category='"".$sub_category.""'"");
            break;

        //This does not work
        case 'script':
        $statement = $conn-&gt;prepare(""SELECT script, work_instruction FROM "".$table."" WHERE category='"".$category.""' AND sub_category='"".$sub_category.""' AND issue='"".$issue.""'"");
        break;

        //This does work
        case 'work_instruction':
        $statement = $conn-&gt;prepare(""SELECT work_instruction FROM "".$table."" WHERE category='"".$category.""' AND sub_category='"".$sub_category.""' AND issue='"".$issue.""'"");
        break;

        case 'doc_link':
            //$statement = $conn-&gt;prepare($query);
            break;

        default:
            break;
    }
    $statement-&gt;execute();
    $statement-&gt;bind_result($results);

    while($statement-&gt;fetch()){
        array_push($myArr, $results);
    }

    $statement-&gt;free_result();
    echo json_encode($myArr);

}
</code></pre>",0,php|mysql|mysqli
32688789,Monolog get requested url and simple log on in Laravel 5,"<p>I have checked the official repo of monolog and put together below code, its working great and I am getting response in Slack. But the response are very verbose, How Can i get simple response, without Stack Trace.</p>

<p>And as suggested <a href=""https://github.com/Seldaek/monolog/blob/master/doc/02-handlers-formatters-processors.md"" rel=""nofollow"">on doc</a> I have added <code>$monolog-&gt;pushProcessor(new WebProcessor($_SERVER));</code> but its not giving any information about requested URL and server.</p>

<pre><code>class AppServiceProvider extends ServiceProvider {

    /**
     * Bootstrap any application services.
     *
     * @return void
     */
    public function boot()
    {
        if ($this-&gt;app-&gt;environment('production')) {
            // Get The Logger
            $monolog = Log::getMonolog();

    // **********************************************************************************************
    // I have tried official WebProcessor to get url, but its not giving me anything
    // **********************************************************************************************

            $monolog-&gt;pushProcessor(new WebProcessor($_SERVER));

            $monolog-&gt;pushProcessor(function ($record) {
                $record['extra']['session_id'] = Cookie::get(config('session.cookie'));
                $record['extra']['request_id'] = Session::get('request_id');
                return $record;
            });

            $slackHandler = new SlackHandler(env('SLACK_TOKEN'), '#sss-sslogs', 'sss-log', true, ':warning:', Logger::ERROR);

    // **********************************************************************************************
    // Setup Line Formatter but no luck 
    // **********************************************************************************************

            // the default date format is ""Y-m-d H:i:s""
            $dateFormat = ""Y n j, g:i a"";
            // the default output format is ""[%datetime%] %channel%.%level_name%: %message% %context% %extra%\n""
            $output = ""%datetime% &gt; %level_name% &gt; %message% %context% %extra%\n"";
            // finally, create a formatter
            $formatter = new LineFormatter($output, $dateFormat);
            $slackHandler-&gt;setFormatter($formatter);

            $monolog-&gt;pushHandler($slackHandler);
        }
    }
</code></pre>

<p>Above code is giving me below response in Slack channel </p>

<pre><code>exception 'Illuminate\Database\Eloquent\ModelNotFoundException' with message 'No query results for model [App\User].' in /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:151
Stack trace:
#0 /home/vagrant/Code/App/app/Http/Controllers/PortfolioController.php(30): Illuminate\Database\Eloquent\Builder-&gt;firstOrFail()
#1 [internal function]: App\Http\Controllers\PorofileController-&gt;show('users')
#2 /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(246): call_user_func_array(Array, Array)
#3 /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(162): Illuminate\Routing\Controller-&gt;callAction('show', Array)
#4 /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(107): Illuminate\Routing\ControllerDispatcher-&gt;call(Object(App\Http\Controllers\PortfolioController), Object(Illuminate\Routing\Route), 'show')
#5 [internal function]: Illuminate\Routing\ControllerDispatcher-&gt;Illuminate\Routing\{closure}(Object(Illuminate\Http\Request))
#6 /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#7 [internal function]: Illuminate\Pipeline\Pipeline-&gt;Illuminate\Pipeline\{closure}(Object(Illuminate\Http\Request))
#8 /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(101): call_user_func(Object(Closure), Object(Illuminate\Http\Request))
#9 /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(108): Illuminate\Pipeline\Pipeline-&gt;then(Object(Closure))
#10 /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(67): Illuminate\Routing\ControllerDispatcher-&gt;callWithinStack(Object(App\Http\Controllers\PortfolioController), Object(I…

Level
----------------
ERROR
</code></pre>

<p><strong>Where is the requested URL and session data??</strong> </p>

<p>How can I get only below part with <code>requested URL</code>, I am not interested in <code>Stack trace:</code></p>

<pre><code>exception 'Illuminate\Database\Eloquent\ModelNotFoundException' with message 'No query results for model [App\User].' in /home/vagrant/Code/App/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php:151
</code></pre>",1,php|laravel-5|monolog
32766418,How to show/hide <div> with <?php?> in it,"<p>I'm trying to create a dropdown list which will show some divs. In the divs, I include a PHP file. When I try to show/hide a div using the dropdown list, it doesn't work. What is wrong with my code?</p>

<pre><code> $(document).ready(function(){
        $('.report').hide();
        $('#prodi').change(function () {
            $(this).find(""option"").each(function () {
                $('#' + this.value).hide();
            });
            $('#' + this.value).show();

        });
      });
    &lt;/script&gt;
</code></pre>

<p>dropdown</p>

<pre><code>&lt;div class=""prodi ops"" style=""margin-bottom:10px;""&gt;
       Program Studi :
           &lt;select id=""prodi""&gt;
         &lt;option value=""""&gt;-Pilih Prodi-&lt;/option&gt;
         &lt;option value=""D3-Teknik Informatika""&gt;D3-Teknik Informatika&lt;/option&gt;
         &lt;option value=""Program Kompetensi""&gt;Program Kompetensi&lt;/option&gt;
         &lt;option value=""S1-Teknik Informatika""&gt;S1-Teknik Informatika&lt;/option&gt;
         &lt;option value=""S1-Sistem Informasi""&gt;S1-Sistem Informasi&lt;/option&gt;
           &lt;/select&gt;
       &lt;/div&gt;
</code></pre>

<p>other divs</p>

<pre><code>    &lt;div class=""report"" id=""S1-Teknik Informatika""&gt;
        &lt;?php include 'searchs1if.php'; ?&gt;
    &lt;/div&gt;
  &lt;div class=""report"" id=""S1-Sistem Informasi""&gt;
    &lt;?php include 'search_s1si.php'; ?&gt;
  &lt;/div&gt;
  &lt;div class=""report"" id=""D3-Teknik Informatika""&gt;
    &lt;?php include 'searchd3if.php'; ?&gt;
  &lt;/div&gt;
  &lt;div class=""report"" id=""Program Kompetensi""&gt;
    &lt;?php include 'searchprokom.php'; ?&gt;
  &lt;/div&gt;
</code></pre>

<p>Thank you for any suggestion.</p>",-1,javascript|php|jquery|html|css
32657069,CURL modifying request headers,"<p>I'm hoping someone can help me. I'm sending an API request, via CURL, using PHP. The headers to the third party application need to be as follows:</p>

<pre><code>    $headers = array( 
        ""content-type: application/json"",
        ""Accept: application/json""
    );
</code></pre>

<p>The CURL request is initialised and sent as follows:</p>

<pre><code>    // 1. initialize
    $ch = curl_init();

    // 2. set the options, including the url
    curl_setopt($ch, CURLOPT_URL, $this-&gt;sendPropertyUrl);
    curl_setopt($ch, CURLOPT_HEADER, $headers);
    curl_setopt($ch, CURLINFO_HEADER_OUT, true);
    curl_setopt($ch, CURLOPT_POST, true);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);
    curl_setopt($ch, CURLOPT_SSLCERT, $this-&gt;certPath);
    curl_setopt($ch, CURLOPT_CAINFO, $this-&gt;certPath);
    curl_setopt($ch, CURLOPT_SSLKEYPASSWD, $this-&gt;certPassword);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $propertyDataString);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

    // 3. execute and fetch the resulting HTML output
    $rightmoveResponse = curl_exec($ch);
    $output = json_decode($rightmoveResponse, true);
</code></pre>

<p>However if I trap the header info actually sent in the CURL request the output is as follows:</p>

<pre><code>    POST /v1/property/sendpropertydetails HTTP/1.1
    Host: adfapi.adftest.rightmove.com
    Accept: */*
    Content-Length: 1351
    Content-Type: application/x-www-form-urlencoded
    Expect: 100-continue
</code></pre>

<p>Can anyone explain why CURL has modified the Accept and Content-Type parameters?</p>

<p>Any help greatly appreciated.</p>

<p>Brian</p>",1,php|curl
32550790,PHP imap_search multiple FROM,"<p>I'm trying to use multiple FROM filter in imap_search but seems it doesn't work. I might be doing in wrong way. Please draw my attention.</p>

<p>Code : </p>

<pre><code>$emails = imap_search($inbox,'FROM ""John"" FROM ""Katrihan""');
</code></pre>

<p>This code doesn't work. Please tell me the alternative.</p>

<p>Thank You!</p>",0,php|gmail|imap|gmail-imap
32603546,Export MySQL database tables using Symfony only,"<p>I am creating a Module in which I have to export some of the tables from the db as sql file. I am using the reference code from <a href=""https://stackoverflow.com/questions/22195493/export-mysql-database-using-php-only/22201084#22201084"">Export MySQL database using PHP only</a>. I want to use it in my executeFunction but it has some Core PHP functions which are not working when I put then in my executeFunction. But these work when I place this script in Source Files and execute the file. I have tried to find the alternate functions of these in Symfony but not able to do this. If someone could help me on this part. My code is as:</p>

<pre><code> function Export_Database($host,$user,$pass,$name,$tables=false, $backup_name=false )
{

    $conn = Doctrine_Manager::connection();

    $rus;
    $rus[""Users""] = ""tbl_users"";
    $rus[""Placemaster""] = ""placemaster"";

    foreach($rus as  $key =&gt; $value)
    {   
        $result = $conn-&gt;fetchAll('SELECT * FROM '.$value);

        $fields_amount  =   $result-&gt;field_count;  // Gives No Value
        $rows_num       =   $mysqli-&gt;affected_rows;     // Gives No Value
        $res            =   $conn-&gt;execute('SHOW CREATE TABLE '.$value); // Gives something else which the reference code gives.
        $TableMLine     =   $res-&gt;fetch_row(); 
        $content        =   (!isset($content) ?  '' : $content) . ""\n\n"".$TableMLine[1]."";\n\n"";
        for ($i = 0, $st_counter = 0; $i &lt; $fields_amount;   $i++, $st_counter=0) 
        {
            while($row = $result-&gt;fetch_row())  
            { //when started (and every after 100 command cycle):
                if ($st_counter%100 == 0 || $st_counter == 0 )  
                {
                        $content .= ""\nINSERT INTO "".$table."" VALUES"";
                }
                $content .= ""\n("";
                for($j=0; $j&lt;$fields_amount; $j++)  
                { 
                    $row[$j] = str_replace(""\n"",""\\n"", addslashes($row[$j]) ); 
                    if (isset($row[$j]))
                    {
                        $content .= '""'.$row[$j].'""' ; 
                    }
                    else 
                    {   
                        $content .= '""""';
                    }     
                    if ($j&lt;($fields_amount-1))
                    {
                            $content.= ',';
                    }      
                }
                $content .="")"";
                //every after 100 command cycle [or at last line] ....p.s. but should be inserted 1 cycle eariler
                if ( (($st_counter+1)%100==0 &amp;&amp; $st_counter!=0) || $st_counter+1==$rows_num) 
                {   
                    $content .= "";"";
                } 
                else 
                {
                    $content .= "","";
                } 
                $st_counter=$st_counter+1;
            }
        } $content .=""\n\n\n"";
    }
    //$backup_name = $backup_name ? $backup_name : $name.""___("".date('H-i-s').""_"".date('d-m-Y')."")__rand"".rand(1,11111111)."".sql"";
    $backup_name = $backup_name ? $backup_name : $name."".sql"";
    header('Content-Type: application/octet-stream');   
    header(""Content-Transfer-Encoding: Binary""); 
    header(""Content-disposition: attachment; filename=\"""".$backup_name.""\"""");  
    echo $content; exit;
} 
?&gt;
</code></pre>",0,php|symfony1
32865913,PHP get final redirect url,"<p>I like to get the final redirect url from the this: <a href=""http://thatsthem.com/searching?ff=true&amp;q0=Rob+Stott"" rel=""nofollow"">http://thatsthem.com/searching?ff=true&amp;q0=Rob+Stott</a> which actually redirects to this: <a href=""http://thatsthem.com/search/Rob-Stott/325712f7"" rel=""nofollow"">http://thatsthem.com/search/Rob-Stott/325712f7</a></p>

<p>I tried the answers from other stackoverflow answers which works for other websites but not for the above link. please help.</p>",-1,php|redirect|curl|url-redirection
32946943,PHP - Creating categories and tags using the woocommerce REST api(V3) issue,"<p>I'm using woocommerce plugin version 2.4.7 and want to populate my woo store using the woocommerce REST api(i'm using V3 of the api)</p>

<p>Below is the php code:</p>

<pre><code>   print_r( $client-&gt;products-&gt;create( array( 'title' =&gt; 'product_name','sku' =&gt; 'sku_value', 'type' =&gt; 'simple', 'regular_price' =&gt; '1000', 'short_description'=&gt;'short description', 'categories' =&gt; Array ('category1','category2','category3' ), 'tags'=&gt; array('product_tag'))));
</code></pre>

<p>The product is created but two properties are not created i.e <strong>categories</strong> and <strong>tags</strong></p>

<pre><code>[""categories""]=&gt;
    array(0) {
    }
[""tags""]=&gt;
   array(0) {
    }
</code></pre>

<p>as shown above, categories and tags are not created(returns an empty array) in the api call but ALL the other properties are created.</p>

<p>I should mention that this happened once i upgraded my woocommerce plugin. my previous version was V2.3 and while using this everything was working well. Immediately after upgrading my plugin, the categories and tags properties ceased being created when creating a product.</p>

<p>I'm stuck on this and do not really know why this is happening so any help is welcome</p>",1,php|rest|woocommerce
32911609,Wordpress admin: how to add text editor into plugin textarea?,"<p>I recently had to update an old (3.0.1) Wordpress site while keeping all admin functions, plugins, etc. the same as before. The only thing that messed up is the wysiwyg field in an old 'More Fields' plugin, it used to work as a tinyMCE text editor and now it's just a textarea with html markup.</p>

<p>From what I can tell this is how it gets called from more-fields-object.php:</p>

<pre><code>    $wysiwyg = new mf_field_type;
    $wysiwyg-&gt;title = __('WYSIWYG', 'more-fields');
    $wysiwyg-&gt;html_before = '

    &lt;script type=""text/javascript""&gt;
        /* &lt;![CDATA[ */
//  jQuery(document).ready( function () { 
//      tinyMCE2 = tinyMCE;
        tinyMCE.init({
            mode:""textareas"",
            width:""100%"",
            theme:""advanced"",
            skin:""wp_theme"",
            theme_advanced_buttons1:""bold,italic,strikethrough,|,bullist,numlist,blockquote,|,justifyleft,justifycenter,justifyright,|,link,unlink,wp_more,|,spellchecker,fullscreen,wp_adv"",
            theme_advanced_buttons2:"""", //formatselect,underline,justifyfull,forecolor,|,pastetext,pasteword,removeformat,|,media,charmap,|,outdent,indent,|,undo,redo,wp_help"",
            theme_advanced_buttons3:"""",
            theme_advanced_buttons4:"""",language:""en"",spellchecker_languages:""+English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv"",
            theme_advanced_toolbar_location:""top"",
            theme_advanced_toolbar_align:""left"",
            theme_advanced_statusbar_location:""bottom"",
            theme_advanced_resizing:""0"",
            theme_advanced_resize_horizontal:"""",
            plugins:""safari,inlinepopups,spellchecker,paste,wordpress,media,fullscreen,wpeditimage"",
            editor_selector:""%key%""
        });
//  });     

        jQuery(document).ready( function () { 
            jQuery(""#%key%"").addClass(""mceEditor"");
            if ( typeof( tinyMCE ) == ""object"" &amp;&amp; typeof( tinyMCE.execCommand ) == ""function"" ) {
            tinyMCE.execCommand(""mceAddControl"", false, ""%key%"");
            }
        }); 

        /* ]]&gt; */
        &lt;/script&gt;
        &lt;div style=""width: 100%""&gt;
    &lt;textarea class=""%class% %key%"" name=""%key%"" id=""%key%""&gt;' . ""\n"";

    $wysiwyg-&gt;html_item = ""%value%"";
    $wysiwyg-&gt;html_after = ""&lt;/textarea&gt;&lt;/div&gt;\n"";
    $this-&gt;field_types[] = $wysiwyg;
</code></pre>

<p><a href=""https://www.dropbox.com/s/9scickp3wqe9yeb/more-fields-object.php?dl=0"" rel=""nofollow"">This is the whole file</a></p>

<p>I've tried crowbarring in wp_editor in various ways but my php skills are very basic, so can anyone please tell me how I can make that textarea into a text editor box? Whether it's with php or jQuery or whatever, it really needs to only have a bunch of formatting buttons so it's easier for the editor to post content.</p>

<p>Thanks!</p>",0,php|jquery|wordpress|wordpress-plugin|tinymce
32788713,Passing value from one field to another,"<p>I want to pass the value <code>9112232453</code> of one textfield to another.</p>

<p>I know I need Javascript for this but I don't know how to do it.</p>

<p><strong>HTML</strong></p>

<pre><code>&lt;form method = ""post"" action=""""&gt;
  &lt;input type=""checkbox"" name=""phone"" value=""9112232453"" onclick='some_func();' &gt;
  &lt;input type=""text"" name=""phone"" value="""" id=""phone""&gt;
  &lt;input type=""submit"" name=""Go""&gt;
&lt;/form&gt; 
</code></pre>

<p>Then later, I want to use the value in my php.</p>",5,javascript|php|html
32645840,How to set full width image in footer of pdf in tcpdf library codeigniter?,"<p>I'm using the TCPDF library to create a <code>.pdf</code> file. I have to add an image in the footer which should cover 100% of the width, but it's coming in the center with equal margin from left and right. I want to remove those margins and set full width to the footer image. The code I'm using to set the footer is below. You can also see in the attach image how my image appears in the footer:-</p>

<pre><code>$footer_image_file = './images/logo/footer.png';
$footer_logo_html = '&lt;div style=""width:100opx !important;height:100px;""&gt;&lt;img width:""1000px;"" src=""' . $footer_image_file . '"" /&gt;&lt;/div&gt;';
$pdf-&gt;writeHTML($footer_logo_html, true, 0, true, 0);
</code></pre>

<p><a href=""https://i.stack.imgur.com/8nElk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8nElk.png"" alt=""enter image description here""></a></p>",0,php|codeigniter|pdf|tcpdf
32651060,Prestashop $logged and $is_logged,"<p>I get issue with Smarty, sometimes in default code occures $is_logged</p>

<p><strong>..\modules\blockuserinfo\blockuserinfo.php</strong></p>

<pre><code>[...]
public function hookDisplayTop($params)
    {
        if (!$this-&gt;active)
            return;

        $this-&gt;smarty-&gt;assign(array(
            [...]
            'is_logged' =&gt; $this-&gt;context-&gt;customer-&gt;isLogged(),
            [...]
        ));
        return $this-&gt;display(__FILE__, 'blockuserinfo.tpl');
    }
[...]
</code></pre>

<p><strong>..\themes\presta-bootstrap\modules\blockuserinfo\nav.tpl</strong></p>

<pre><code>&lt;!-- Block user information module NAV  --&gt;
{if $is_logged}
    &lt;div class=""header_user_info""&gt;
            [...]
    &lt;/div&gt;
{/if}
</code></pre>

<p>but it's no working until change var's name in .tpl on <strong>$logged</strong>. Then suddenly it works! How?</p>

<p>Similar situation.</p>

<p><strong>..\themes\presta-bootstrap\order-opc.tpl</strong></p>

<pre><code>&lt;!-- Shopping Cart --&gt;

        {include file=""$tpl_dir./shopping-cart.tpl""}
        &lt;!-- End Shopping Cart --&gt;
        {if $is_logged AND !$is_guest}
            {include file=""$tpl_dir./order-address.tpl""}
        {else}
            &lt;!-- Create account / Guest account / Login block --&gt;
            {include file=""$tpl_dir./order-opc-new-account.tpl""}
            &lt;!-- END Create account / Guest account / Login block --&gt;
</code></pre>

<p>works properly only when i replace $is_logged with $logged. Both case doesn't make errors, just get FALSE value and give unexpected resuts.</p>

<p>Where should i looking for reasons?</p>",2,php|logging|smarty|prestashop-1.6
32755906,How can I open bootstrap modal on select box option change?,"<p>I have a form which is submitted on option change. It is connected to the database. So everytime I submit the form, the page reloads and the value is selected (the value is now saved as ""car"" in the database).</p>

<pre><code>&lt;form class=""cars"" id=""carSelect"" name=""car"" action=""index.php"" method=""get""&gt;
 &lt;select onchange='this.form.submit()'&gt;
  &lt;option &lt;?php if ($row['car'] == Volvo ) echo 'selected'; ?&gt; value=""volvo""&gt;Volvo&lt;/option&gt;
  &lt;option &lt;?php if ($row['car'] == Saab ) echo 'selected'; ?&gt;  value=""saab""&gt;Saab&lt;/option&gt;
  &lt;option &lt;?php if ($row['car'] == Opel ) echo 'selected'; ?&gt;  value=""opel""&gt;Opel&lt;/option&gt;
  &lt;option &lt;?php if ($row['car'] == Audi ) echo 'selected'; ?&gt; value=""audi""&gt;Audi&lt;/option&gt;
 &lt;/select&gt; 
&lt;/form&gt;
</code></pre>

<p>when the form is submitted and the selected option is <code>Volvo</code>, a modal (I am using the bootstrap modal) should appear. This is the bootstrap modal code, which opens the modal when I click on the ""openBtn"" Button.</p>

<pre><code>&lt;a href=""#"" class=""btn btn-default"" id=""openBtn""&gt;Volvo&lt;/a&gt;

&lt;div id=""modal-content"" class=""modal fade"" tabindex=""-1"" role=""dialog""&gt;
    &lt;div class=""modal-dialog""&gt;
        &lt;div class=""modal-content""&gt;
            &lt;div class=""modal-header""&gt;
                &lt;button type=""button"" class=""close"" data-dismiss=""modal""&gt;×&lt;/button&gt;
                &lt;h3&gt;Volvo&lt;/h3&gt;
            &lt;/div&gt;
            &lt;div class=""modal-body""&gt;
                &lt;p&gt;
                    &lt;input type=""text"" id=""txtname"" /&gt;
                &lt;/p&gt;
            &lt;/div&gt;
            &lt;div class=""modal-footer""&gt; 
                &lt;a href=""#"" class=""btn"" data-dismiss=""modal""&gt;cancel&lt;/a&gt;
                 &lt;a href=""#"" class=""btn btn-primary""&gt;save&lt;/a&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>The bootstrap modal script for opening the modal with a button:   </p>

<pre><code>$('#openBtn').click(function () {
    $('#modal-content').modal({
        show: true
    });
});
</code></pre>

<p><strong>So here is my approach</strong>:</p>

<pre><code>$(window).load(function(){
    if($(.cars option:Volvo).is(':selected')){
        $('#modal-content').modal({
            show: true
        });
    }
});
</code></pre>

<p>But my code is not working. The other problem is, the modal should only appear if I selected ""Volvo"". Not everytime the page is loaded. But I do not know how I can detect that the form was submitted before the page is loaded. </p>",0,php|jquery|twitter-bootstrap
32656728,Retrieving all users of a specific permission in Laravel 5 / Entrust,"<p>How can I retrieve the users of a specific permission in Entrust for Laravel 5.0. </p>

<pre><code>use App\Role;
use App\Permission;    

$permission = Permission::find(1);
$roles = $permission-&gt;roles;
$users = $roles-&gt;users;
</code></pre>

<p>I know the code doesn't work... Just an example.</p>",2,php|laravel|laravel-5
32691015,Auto join Facebook in PHP,"<p>I want to create a PHP script which allow me fill the Group ID then it will join to Facebook Group automatically.
API is not supported. Can you give me an idea? PHP or JS?</p>",-2,php|facebook
32601707,Get magento shipping amount from each ordered item,"<p>I am trying to get shipping and handling amount. I was trying the snippet code below but it's not working. I am successfully sending some data to third party API after the place order .</p>

<pre><code>echo $item-&gt;getShippingAmount();
</code></pre>

<p>but if I tried with. </p>

<pre><code>echo $order-&gt;getShippingAmount();
</code></pre>

<p>It works but it shows total of shipping amount of all orders, but conversely I want each single amount to be shown. </p>

<p><code>item ordered * quantity</code> </p>

<p>Can anybody tell me how to do that?</p>",0,php|magento
32650776,Image validation extension validation only if not empty issue,"<p>im using a validation rule for image file in cakephp that i want to validate image extension  only if not empty.
the problem is that  cakephp is validating the extension if i don't give an image so it gives the validation error 'Only images files'
here's my validation rule that i use to validate an image </p>

<pre><code>image' =&gt; array(
            'notEmpty' =&gt; array(
                //'message' =&gt; 'Your custom message here',
                'allowEmpty' =&gt; true,
                'required' =&gt; false,
                //'last' =&gt; false, // Stop validation after this rule
                //'on' =&gt; 'create', // Limit validation to 'create' or 'update' operations
            ),
            'extension' =&gt; array(
                'rule' =&gt; array('extension', array('png','jpg','jpeg')),
                'message' =&gt; 'Only images files',
            ),
</code></pre>

<p>i use this plugin for image upload <a href=""https://github.com/josegonzalez/cakephp-upload"" rel=""nofollow"">https://github.com/josegonzalez/cakephp-upload</a>.</p>",1,php|validation|cakephp
32781185,sending email in localhost via laravel 4.2 using gmail mail driver,"<p>im trying to send an email using laravel 4 and using the gmail mail driver i've already changed my <code>config/mail.php</code>file into something like this: </p>

<pre><code>return array(

'driver' =&gt; 'smtp',

'host' =&gt; 'smtp.gmail.com',

'port' =&gt; 587,

'from' =&gt; array('address' =&gt; 'email_that_im_using', 'name' =&gt; 'Trial'),

'encryption' =&gt; 'ssl',

'username' =&gt; 'mygmailusername',

'password' =&gt; 'mygmailpassword',

'sendmail' =&gt; '/usr/sbin/sendmail -bs',

'pretend' =&gt; false,
</code></pre>

<p>);</p>

<p>and here is my code inside the controller</p>

<pre><code>Mail::send('view', $data, function($message) 
            {
                $message-&gt;to(Input::get('SupplierEmail') , 'Jon Doe')-&gt;subject('Sample Mail!');
            });
</code></pre>

<p>im kinda lost on what will i put on the 'view' part and the $data part here is what my view looks like 
<a href=""https://i.stack.imgur.com/u2GeG.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/u2GeG.jpg"" alt=""my view""></a></p>

<p>and here is the code of my form inside my view</p>

<pre><code>{{ Form::open(array('url' =&gt; 'addpurchorder')) }}
  &lt;div class=""form-group""&gt;
      {{ Form::label('module', 'Select Module: ') }}
      {{ Form::select('ModuleInfo', [null=&gt;'Please Select Module'] + $modules , Input::old('ModuleInfo'), array('class'=&gt;'form-control'))}}
  &lt;/div&gt;

  &lt;div class=""form-group""&gt;
      {{ Form::label('qty', 'Quantity') }}
      {{ Form::text('Quantity', Input::old('Quantity'), array('class' =&gt; 'form-control','placeholder' =&gt; 'Enter Quantity')) }}
  &lt;/div&gt;
  &lt;div class=""form-group""&gt;
      &lt;h4&gt;&lt;i&gt;&lt;span class=""label label-success""&gt;NOTE: Default Status is pending&lt;/span&gt;&lt;/i&gt;&lt;/h4&gt;
  &lt;/div&gt;
  &lt;div class=""form-group""&gt;
      {{ Form::label('from', 'School Email (From)') }}
      {{ Form::text('SchoolEmail', Input::old('SchoolEmail'), array('class' =&gt; 'form-control','placeholder' =&gt; 'Enter School Email')) }}
  &lt;/div&gt;
  &lt;div class=""form-group""&gt;
      {{ Form::label('to', 'Supplier Email (To)') }}
      {{ Form::text('SupplierEmail', Input::old('SupplierEmail'), array('class' =&gt; 'form-control','placeholder' =&gt; 'Enter Supplier Email')) }}
  &lt;/div&gt;
   &lt;div class=""form-group""&gt;
      {{ Form::label('captcha', 'CAPTCHA image: ') }}
      &lt;/br&gt;

      {{ HTML::image('http://localhost:8080/laravel3/app/captcha.php', 'alt' , array( 'width' =&gt; 250, 'height' =&gt; 43 )) }} &lt;/br&gt;&lt;/br&gt;
      {{ Form::text('capt', Input::old('capt'), array('class' =&gt; 'form-control','placeholder' =&gt; 'enter generated captcha')) }}
  &lt;/div&gt;

  {{ Form::submit('Create Purchase Order', array('class' =&gt; 'btn btn-primary')) }}

{{ Form::close()}}
</code></pre>

<p>thanks in advance</p>",1,php|email|laravel|laravel-4
32938295,$wpdb->update() not working,"<p>I am modifying an existing plugin by creating an extension to it. I am trying to update a row with basic info just to test to see if the $wpdb->update works, but even using plain values it seems to get stuck. Please take a look at this <a href=""https://imgur.com/v4XLWP8"" rel=""nofollow noreferrer"">image</a>. The form keeps showing the working symbol but when I look in the database a new row has already been created, so the post went through. I think it is getting stuck on my lines of code below. I read some other similar <a href=""https://stackoverflow.com/questions/11350886/wordpress-wpdb-update-not-working"">questions</a> on this website where people solved the problem by putting the <code>$data</code> and <code>$where</code> terms into variables, so I did that. It made it easier to read, but it doesn't seem to fix my problems.</p>

<pre><code>$amount_field_col = array('post_amount' =&gt; '12.15');
$where_clause = array('ID' =&gt; '30');
$wpdb-&gt;update('wp_posts', $amount_field_col, $where_clause);
</code></pre>

<p>Any idea why it might not be updatig the row and why it could be getting stuck? The overall goal here is that I made a new field to an existing form and I want to be able to take inputs to the form and plug it into a new column I made in PHPMyAdmin called <code>post_amount</code>.</p>",1,php|mysql|wordpress
32536126,Yii2 can't find files when running multiple applications with common directory,"<p>I'm running <code>Yii2</code> and I have up until recently been working within a single application; however I needed to start adding an admin area and I didn't start with the advanced application template, just the basic one, but still move some directories around then and everything worked fine.</p>

<p>Now I have a directory structure like this...</p>

<pre><code>admin/
    system/
        controllers/
        models/
        views/
    index.php
common/
    vendor/
    .bowerrc
    composer.json
    composer.lock
    yii
    yii.bat
console/
css/
images/
js/
system/
    controllers/
    models/
    views/
index.php
</code></pre>

<p>So as you can see, the <code>root</code> dir acts as the <code>web</code> dir and the <code>system/</code> dir acts as the <code>application</code> dir for the <code>frontend</code>.</p>

<p>The <em>frontend</em> of the site works absolutely fine, but I am having issues with the <code>admin</code> section.</p>

<p>Within the <code>admin</code> dir, the <code>base</code> dir acts as the <code>web</code> directory the <code>admin/system/</code> acts as the <code>application</code> directory.</p>

<p>This is the error I get when attempting to access: <code>admin/staff/login</code></p>

<blockquote>
  <p>Invalid Parameter – yii\base\InvalidParamException
      The file or directory to be published does not exist: common\vendor\bower/jquery/dist</p>
</blockquote>

<p>This is the contents of the <code>admin/index.php</code> file:</p>

<pre><code>// comment out the following two lines when deployed to production
defined('YII_DEBUG') or define('YII_DEBUG', true);
defined('YII_ENV') or define('YII_ENV', 'dev');

require(__DIR__ . '/../common/vendor/autoload.php');
require(__DIR__ . '/../common/vendor/yiisoft/yii2/Yii.php');
require(__DIR__ . '/../common/config/bootstrap.php');
require(__DIR__ . '/../common/config/constants.php');

$config = require(__DIR__ . '/system/config/main.php');

(new yii\web\Application($config))-&gt;run();
</code></pre>

<p>Here are the contents of the <code>admin/system/config/main.php</code> file:</p>

<pre><code>&lt;?php

$params = require(__DIR__ . '/../../../common/config/params.php');

$config = [
    'id' =&gt; 'basic',
    'basePath' =&gt; dirname(__DIR__),
    'version' =&gt; '0.1',
    'vendorPath' =&gt; 'common\vendor',
    'defaultRoute' =&gt; 'site/index',
    'bootstrap' =&gt; [
                    'log',
                    'common\base\Settings',
    ],
    'components' =&gt; [
        'request' =&gt; [
            'enableCookieValidation' =&gt; false,
            'enableCsrfCookie' =&gt; false,
            'csrfParam' =&gt; '_admin_csrf',
        ],
        'view' =&gt; [
            'theme' =&gt; [
                // This data is setup dynamically via the bootstrapping process
            ],
        ],
        'cache' =&gt; [
            'class' =&gt; 'yii\caching\FileCache',
        ],
        'user' =&gt; [
            'identityClass' =&gt; 'app\models\Staff',
            'enableAutoLogin' =&gt; false,
            'loginUrl' =&gt; 'staff/login',
        ],
        'errorHandler' =&gt; [
            'errorAction' =&gt; 'site/error',
        ],
        'session' =&gt; [
            'name' =&gt; 'PHPADMINSESSID',
        ],
        'formatter' =&gt; [

        ],      
        'mailer' =&gt; [
            'class' =&gt; 'yii\swiftmailer\Mailer',
            // send all mails to a file by default. You have to set
            // 'useFileTransport' to false and configure a transport
            // for the mailer to send real emails.
            'useFileTransport' =&gt; false,
            // The below viewPath only acts as the base dir and will be changed during the bootstrap process to append the correct locale dir to it
            'viewPath' =&gt; '@common/mail',
            // These are relative to the final value of viewPath
            'htmlLayout' =&gt; 'layouts/default-html',
            'textLayout' =&gt; 'layouts/default-text',
        ],      
        'authManager' =&gt; [
            'class' =&gt; 'app\components\AuthManager',
        ],
        'log' =&gt; [
            'traceLevel' =&gt; YII_DEBUG ? 3 : 0,
            'targets' =&gt; [
                [
                    'class' =&gt; 'yii\log\FileTarget',
                    'levels' =&gt; ['error'],
                    'logFile' =&gt; '@app/runtime/logs/errors.log',
                ],
                [
                    'class' =&gt; 'yii\log\FileTarget',
                    'levels' =&gt; ['warning'],
                    'logFile' =&gt; '@app/runtime/logs/warnings.log',
                ],
                [
                    'class' =&gt; 'yii\log\FileTarget',
                    'levels' =&gt; ['info'],
                    'logFile' =&gt; '@app/runtime/logs/info.log',
                    'enabled' =&gt; false,
                ],
                [
                    'class' =&gt; 'yii\log\FileTarget',
                    'levels' =&gt; ['trace'],
                    'logFile' =&gt; '@app/runtime/logs/trace.log',
                    'enabled' =&gt; false,
                ],              
            ],
        ],      
        'urlManager' =&gt; [
            'enablePrettyUrl' =&gt; true,
            'showScriptName' =&gt; false,
            'enableStrictParsing' =&gt; false,
            'rules' =&gt; [

            ],
        ],
        'assetManager' =&gt; [
            'bundles' =&gt; [
                'yii\web\JqueryAsset' =&gt; [
                    'js'=&gt;[]
                ],
                'yii\bootstrap\BootstrapPluginAsset' =&gt; [
                    'js'=&gt;[]
                ],
                'yii\bootstrap\BootstrapAsset' =&gt; [
                    'css' =&gt; [],
                ],
            ],
        ],
        'i18n' =&gt; [
            'translations' =&gt; [         
                '*' =&gt; [
                    'class' =&gt; 'yii\i18n\PhpMessageSource',
                    'basePath' =&gt; '@common/languages',
                    //'on missingTranslation' =&gt; ['common\components\TranslationEventHandler', 'handleMissingTranslation'],
                ],
            ],
        ],          
        'db' =&gt; require(__DIR__ . '/../../../common/config/db.php'),        
    ],
    'params' =&gt; $params,
];

if (YII_ENV_DEV) {
    // configuration adjustments for 'dev' environment
    $config['bootstrap'][] = 'debug';
    $config['modules']['debug'] = [
                                   'class' =&gt; 'yii\debug\Module',
                                   'allowedIPs' =&gt; ['127.0.0.1','::1']
                                   ];

    $config['bootstrap'][] = 'gii';
    $config['modules']['gii'] = [
                                   'class' =&gt; 'yii\gii\Module',
                                   'allowedIPs' =&gt; ['127.0.0.1','::1']
                                   ];
}

return $config;
</code></pre>

<p>I have deleted by <code>common/vendor</code> dir and ran <code>composer install</code> again but no change.</p>

<p>Do I have some paths wrong somewhere or what is the problem?</p>",3,php|yii|yii2
32644300,Codeigniter unable to load Facebook class under a subfolder,"<p>The path of the libraries directory of my codeigniter project is like what shown in the image.</p>

<p>I tried to load Facebook.php class using these following codes, but both of them returned the same error : <code>Unable to load the requested class: Facebook</code></p>

<pre><code>$this-&gt;load-&gt;library('facebook/facebook', $fb_config);
</code></pre>

<p>or
    <code>$this-&gt;load-&gt;library('Facebook/Facebook', $fb_config);</code></p>

<p>This is so frustrating, the class <code>Facebook.php</code> is clearly there.</p>

<p>Why codeigniter is unable to load the classes under a subfolder of libraries ?
Meanwhile it works fine with the classes in libraries root (without subfolder).</p>

<p>This is what inside <code>Facebook.php</code></p>

<pre><code>&lt;?php
/**
 * Copyright 2014 Facebook, Inc.
 *
 * You are hereby granted a non-exclusive, worldwide, royalty-free license to
 * use, copy, modify, and distribute this software in source code or binary
 * form for use in connection with the web services and APIs provided by
 * Facebook.
 *
 * As with any software that integrates with the Facebook platform, your use
 * of this software is subject to the Facebook Developer Principles and
 * Policies [http://developers.facebook.com/policy/]. This copyright notice
 * shall be included in all copies or substantial portions of the software.
 *
 * THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 *
 */
namespace Facebook;

use Facebook\Authentication\AccessToken;
use Facebook\Authentication\OAuth2Client;
use Facebook\FileUpload\FacebookFile;
use Facebook\FileUpload\FacebookVideo;
use Facebook\GraphNodes\GraphEdge;
use Facebook\Url\UrlDetectionInterface;
use Facebook\Url\FacebookUrlDetectionHandler;
use Facebook\PseudoRandomString\PseudoRandomStringGeneratorInterface;
use Facebook\PseudoRandomString\McryptPseudoRandomStringGenerator;
use Facebook\PseudoRandomString\OpenSslPseudoRandomStringGenerator;
use Facebook\PseudoRandomString\UrandomPseudoRandomStringGenerator;
use Facebook\HttpClients\FacebookHttpClientInterface;
use Facebook\HttpClients\FacebookCurlHttpClient;
use Facebook\HttpClients\FacebookStreamHttpClient;
use Facebook\HttpClients\FacebookGuzzleHttpClient;
use Facebook\PersistentData\PersistentDataInterface;
use Facebook\PersistentData\FacebookSessionPersistentDataHandler;
use Facebook\PersistentData\FacebookMemoryPersistentDataHandler;
use Facebook\Helpers\FacebookCanvasHelper;
use Facebook\Helpers\FacebookJavaScriptHelper;
use Facebook\Helpers\FacebookPageTabHelper;
use Facebook\Helpers\FacebookRedirectLoginHelper;
use Facebook\Exceptions\FacebookSDKException;

/**
 * Class Facebook
 *
 * @package Facebook
 */
class Facebook
{
    /**
     * @const string Version number of the Facebook PHP SDK.
     */
    const VERSION = '5.0.0';

    /**
     * @const string Default Graph API version for requests.
     */
    const DEFAULT_GRAPH_VERSION = 'v2.4';

    /**
     * @const string The name of the environment variable that contains the app ID.
     */
    const APP_ID_ENV_NAME = 'FACEBOOK_APP_ID';

    /**
     * @const string The name of the environment variable that contains the app secret.
     */
    const APP_SECRET_ENV_NAME = 'FACEBOOK_APP_SECRET';

    /**
     * @var FacebookApp The FacebookApp entity.
     */
    protected $app;

    /**
     * @var FacebookClient The Facebook client service.
     */
    protected $client;

    /**
     * @var OAuth2Client The OAuth 2.0 client service.
     */
    protected $oAuth2Client;

    /**
     * @var UrlDetectionInterface|null The URL detection handler.
     */
    protected $urlDetectionHandler;

    /**
     * @var PseudoRandomStringGeneratorInterface|null The cryptographically secure pseudo-random string generator.
     */
    protected $pseudoRandomStringGenerator;

    /**
     * @var AccessToken|null The default access token to use with requests.
     */
    protected $defaultAccessToken;

    /**
     * @var string|null The default Graph version we want to use.
     */
    protected $defaultGraphVersion;

    /**
     * @var PersistentDataInterface|null The persistent data handler.
     */
    protected $persistentDataHandler;

    /**
     * @var FacebookResponse|FacebookBatchResponse|null Stores the last request made to Graph.
     */
    protected $lastResponse;

    /**
     * Instantiates a new Facebook super-class object.
     *
     * @param array $config
     *
     * @throws FacebookSDKException
     */
    public function __construct(array $config = [])
    {
        $appId = isset($config['app_id']) ? $config['app_id'] : getenv(static::APP_ID_ENV_NAME);
        if (!$appId) {
            throw new FacebookSDKException('Required ""app_id"" key not supplied in config and could not find fallback environment variable ""' . static::APP_ID_ENV_NAME . '""');
        }

        $appSecret = isset($config['app_secret']) ? $config['app_secret'] : getenv(static::APP_SECRET_ENV_NAME);
        if (!$appSecret) {
            throw new FacebookSDKException('Required ""app_secret"" key not supplied in config and could not find fallback environment variable ""' . static::APP_SECRET_ENV_NAME . '""');
        }

        $this-&gt;app = new FacebookApp($appId, $appSecret);

        $httpClientHandler = null;
        if (isset($config['http_client_handler'])) {
            if ($config['http_client_handler'] instanceof FacebookHttpClientInterface) {
                $httpClientHandler = $config['http_client_handler'];
            } elseif ($config['http_client_handler'] === 'curl') {
                $httpClientHandler = new FacebookCurlHttpClient();
            } elseif ($config['http_client_handler'] === 'stream') {
                $httpClientHandler = new FacebookStreamHttpClient();
            } elseif ($config['http_client_handler'] === 'guzzle') {
                $httpClientHandler = new FacebookGuzzleHttpClient();
            } else {
                throw new \InvalidArgumentException('The http_client_handler must be set to ""curl"", ""stream"", ""guzzle"", or be an instance of Facebook\HttpClients\FacebookHttpClientInterface');
            }
        }

        $enableBeta = isset($config['enable_beta_mode']) &amp;&amp; $config['enable_beta_mode'] === true;
        $this-&gt;client = new FacebookClient($httpClientHandler, $enableBeta);

        if (isset($config['url_detection_handler'])) {
            if ($config['url_detection_handler'] instanceof UrlDetectionInterface) {
                $this-&gt;urlDetectionHandler = $config['url_detection_handler'];
            } else {
                throw new \InvalidArgumentException('The url_detection_handler must be an instance of Facebook\Url\UrlDetectionInterface');
            }
        }

        if (isset($config['pseudo_random_string_generator'])) {
            if ($config['pseudo_random_string_generator'] instanceof PseudoRandomStringGeneratorInterface) {
                $this-&gt;pseudoRandomStringGenerator = $config['pseudo_random_string_generator'];
            } elseif ($config['pseudo_random_string_generator'] === 'mcrypt') {
                $this-&gt;pseudoRandomStringGenerator = new McryptPseudoRandomStringGenerator();
            } elseif ($config['pseudo_random_string_generator'] === 'openssl') {
                $this-&gt;pseudoRandomStringGenerator = new OpenSslPseudoRandomStringGenerator();
            } elseif ($config['pseudo_random_string_generator'] === 'urandom') {
                $this-&gt;pseudoRandomStringGenerator = new UrandomPseudoRandomStringGenerator();
            } else {
                throw new \InvalidArgumentException('The pseudo_random_string_generator must be set to ""mcrypt"", ""openssl"", or ""urandom"", or be an instance of Facebook\PseudoRandomString\PseudoRandomStringGeneratorInterface');
            }
        }

        if (isset($config['persistent_data_handler'])) {
            if ($config['persistent_data_handler'] instanceof PersistentDataInterface) {
                $this-&gt;persistentDataHandler = $config['persistent_data_handler'];
            } elseif ($config['persistent_data_handler'] === 'session') {
                $this-&gt;persistentDataHandler = new FacebookSessionPersistentDataHandler();
            } elseif ($config['persistent_data_handler'] === 'memory') {
                $this-&gt;persistentDataHandler = new FacebookMemoryPersistentDataHandler();
            } else {
                throw new \InvalidArgumentException('The persistent_data_handler must be set to ""session"", ""memory"", or be an instance of Facebook\PersistentData\PersistentDataInterface');
            }
        }

        if (isset($config['default_access_token'])) {
            $this-&gt;setDefaultAccessToken($config['default_access_token']);
        }

        if (isset($config['default_graph_version'])) {
            $this-&gt;defaultGraphVersion = $config['default_graph_version'];
        } else {
            // @todo v6: Throw an InvalidArgumentException if ""default_graph_version"" is not set
            $this-&gt;defaultGraphVersion = static::DEFAULT_GRAPH_VERSION;
        }
    }

    /**
     * Returns the FacebookApp entity.
     *
     * @return FacebookApp
     */
    public function getApp()
    {
        return $this-&gt;app;
    }

    /**
     * Returns the FacebookClient service.
     *
     * @return FacebookClient
     */
    public function getClient()
    {
        return $this-&gt;client;
    }

    /**
     * Returns the OAuth 2.0 client service.
     *
     * @return OAuth2Client
     */
    public function getOAuth2Client()
    {
        if (!$this-&gt;oAuth2Client instanceof OAuth2Client) {
            $app = $this-&gt;getApp();
            $client = $this-&gt;getClient();
            $this-&gt;oAuth2Client = new OAuth2Client($app, $client, $this-&gt;defaultGraphVersion);
        }

        return $this-&gt;oAuth2Client;
    }

    /**
     * Returns the last response returned from Graph.
     *
     * @return FacebookResponse|FacebookBatchResponse|null
     */
    public function getLastResponse()
    {
        return $this-&gt;lastResponse;
    }

    /**
     * Returns the URL detection handler.
     *
     * @return UrlDetectionInterface
     */
    public function getUrlDetectionHandler()
    {
        if (!$this-&gt;urlDetectionHandler instanceof UrlDetectionInterface) {
            $this-&gt;urlDetectionHandler = new FacebookUrlDetectionHandler();
        }

        return $this-&gt;urlDetectionHandler;
    }

    /**
     * Returns the default AccessToken entity.
     *
     * @return AccessToken|null
     */
    public function getDefaultAccessToken()
    {
        return $this-&gt;defaultAccessToken;
    }

    /**
     * Sets the default access token to use with requests.
     *
     * @param AccessToken|string $accessToken The access token to save.
     *
     * @throws \InvalidArgumentException
     */
    public function setDefaultAccessToken($accessToken)
    {
        if (is_string($accessToken)) {
            $this-&gt;defaultAccessToken = new AccessToken($accessToken);

            return;
        }

        if ($accessToken instanceof AccessToken) {
            $this-&gt;defaultAccessToken = $accessToken;

            return;
        }

        throw new \InvalidArgumentException('The default access token must be of type ""string"" or Facebook\AccessToken');
    }

    /**
     * Returns the default Graph version.
     *
     * @return string
     */
    public function getDefaultGraphVersion()
    {
        return $this-&gt;defaultGraphVersion;
    }

    /**
     * Returns the redirect login helper.
     *
     * @return FacebookRedirectLoginHelper
     */
    public function getRedirectLoginHelper()
    {
        return new FacebookRedirectLoginHelper(
            $this-&gt;getOAuth2Client(),
            $this-&gt;persistentDataHandler,
            $this-&gt;urlDetectionHandler,
            $this-&gt;pseudoRandomStringGenerator
        );
    }

    /**
     * Returns the JavaScript helper.
     *
     * @return FacebookJavaScriptHelper
     */
    public function getJavaScriptHelper()
    {
        return new FacebookJavaScriptHelper($this-&gt;app, $this-&gt;client, $this-&gt;defaultGraphVersion);
    }

    /**
     * Returns the canvas helper.
     *
     * @return FacebookCanvasHelper
     */
    public function getCanvasHelper()
    {
        return new FacebookCanvasHelper($this-&gt;app, $this-&gt;client, $this-&gt;defaultGraphVersion);
    }

    /**
     * Returns the page tab helper.
     *
     * @return FacebookPageTabHelper
     */
    public function getPageTabHelper()
    {
        return new FacebookPageTabHelper($this-&gt;app, $this-&gt;client, $this-&gt;defaultGraphVersion);
    }

    /**
     * Sends a GET request to Graph and returns the result.
     *
     * @param string                  $endpoint
     * @param AccessToken|string|null $accessToken
     * @param string|null             $eTag
     * @param string|null             $graphVersion
     *
     * @return FacebookResponse
     *
     * @throws FacebookSDKException
     */
    public function get($endpoint, $accessToken = null, $eTag = null, $graphVersion = null)
    {
        return $this-&gt;sendRequest(
            'GET',
            $endpoint,
            $params = [],
            $accessToken,
            $eTag,
            $graphVersion
        );
    }

    /**
     * Sends a POST request to Graph and returns the result.
     *
     * @param string                  $endpoint
     * @param array                   $params
     * @param AccessToken|string|null $accessToken
     * @param string|null             $eTag
     * @param string|null             $graphVersion
     *
     * @return FacebookResponse
     *
     * @throws FacebookSDKException
     */
    public function post($endpoint, array $params = [], $accessToken = null, $eTag = null, $graphVersion = null)
    {
        return $this-&gt;sendRequest(
            'POST',
            $endpoint,
            $params,
            $accessToken,
            $eTag,
            $graphVersion
        );
    }

    /**
     * Sends a DELETE request to Graph and returns the result.
     *
     * @param string                  $endpoint
     * @param array                   $params
     * @param AccessToken|string|null $accessToken
     * @param string|null             $eTag
     * @param string|null             $graphVersion
     *
     * @return FacebookResponse
     *
     * @throws FacebookSDKException
     */
    public function delete($endpoint, array $params = [], $accessToken = null, $eTag = null, $graphVersion = null)
    {
        return $this-&gt;sendRequest(
            'DELETE',
            $endpoint,
            $params,
            $accessToken,
            $eTag,
            $graphVersion
        );
    }

    /**
     * Sends a request to Graph for the next page of results.
     *
     * @param GraphEdge $graphEdge The GraphEdge to paginate over.
     *
     * @return GraphEdge|null
     *
     * @throws FacebookSDKException
     */
    public function next(GraphEdge $graphEdge)
    {
        return $this-&gt;getPaginationResults($graphEdge, 'next');
    }

    /**
     * Sends a request to Graph for the previous page of results.
     *
     * @param GraphEdge $graphEdge The GraphEdge to paginate over.
     *
     * @return GraphEdge|null
     *
     * @throws FacebookSDKException
     */
    public function previous(GraphEdge $graphEdge)
    {
        return $this-&gt;getPaginationResults($graphEdge, 'previous');
    }

    /**
     * Sends a request to Graph for the next page of results.
     *
     * @param GraphEdge $graphEdge The GraphEdge to paginate over.
     * @param string    $direction The direction of the pagination: next|previous.
     *
     * @return GraphEdge|null
     *
     * @throws FacebookSDKException
     */
    public function getPaginationResults(GraphEdge $graphEdge, $direction)
    {
        $paginationRequest = $graphEdge-&gt;getPaginationRequest($direction);
        if (!$paginationRequest) {
            return null;
        }

        $this-&gt;lastResponse = $this-&gt;client-&gt;sendRequest($paginationRequest);

        // Keep the same GraphNode subclass
        $subClassName = $graphEdge-&gt;getSubClassName();
        $graphEdge = $this-&gt;lastResponse-&gt;getGraphEdge($subClassName, false);

        return count($graphEdge) &gt; 0 ? $graphEdge : null;
    }

    /**
     * Sends a request to Graph and returns the result.
     *
     * @param string                  $method
     * @param string                  $endpoint
     * @param array                   $params
     * @param AccessToken|string|null $accessToken
     * @param string|null             $eTag
     * @param string|null             $graphVersion
     *
     * @return FacebookResponse
     *
     * @throws FacebookSDKException
     */
    public function sendRequest($method, $endpoint, array $params = [], $accessToken = null, $eTag = null, $graphVersion = null)
    {
        $accessToken = $accessToken ?: $this-&gt;defaultAccessToken;
        $graphVersion = $graphVersion ?: $this-&gt;defaultGraphVersion;
        $request = $this-&gt;request($method, $endpoint, $params, $accessToken, $eTag, $graphVersion);

        return $this-&gt;lastResponse = $this-&gt;client-&gt;sendRequest($request);
    }

    /**
     * Sends a batched request to Graph and returns the result.
     *
     * @param array                   $requests
     * @param AccessToken|string|null $accessToken
     * @param string|null             $graphVersion
     *
     * @return FacebookBatchResponse
     *
     * @throws FacebookSDKException
     */
    public function sendBatchRequest(array $requests, $accessToken = null, $graphVersion = null)
    {
        $accessToken = $accessToken ?: $this-&gt;defaultAccessToken;
        $graphVersion = $graphVersion ?: $this-&gt;defaultGraphVersion;
        $batchRequest = new FacebookBatchRequest(
            $this-&gt;app,
            $requests,
            $accessToken,
            $graphVersion
        );

        return $this-&gt;lastResponse = $this-&gt;client-&gt;sendBatchRequest($batchRequest);
    }

    /**
     * Instantiates a new FacebookRequest entity.
     *
     * @param string                  $method
     * @param string                  $endpoint
     * @param array                   $params
     * @param AccessToken|string|null $accessToken
     * @param string|null             $eTag
     * @param string|null             $graphVersion
     *
     * @return FacebookRequest
     *
     * @throws FacebookSDKException
     */
    public function request($method, $endpoint, array $params = [], $accessToken = null, $eTag = null, $graphVersion = null)
    {
        $accessToken = $accessToken ?: $this-&gt;defaultAccessToken;
        $graphVersion = $graphVersion ?: $this-&gt;defaultGraphVersion;

        return new FacebookRequest(
            $this-&gt;app,
            $accessToken,
            $method,
            $endpoint,
            $params,
            $eTag,
            $graphVersion
        );
    }

    /**
     * Factory to create FacebookFile's.
     *
     * @param string $pathToFile
     *
     * @return FacebookFile
     *
     * @throws FacebookSDKException
     */
    public function fileToUpload($pathToFile)
    {
        return new FacebookFile($pathToFile);
    }

    /**
     * Factory to create FacebookVideo's.
     *
     * @param string $pathToFile
     *
     * @return FacebookVideo
     *
     * @throws FacebookSDKException
     */
    public function videoToUpload($pathToFile)
    {
        return new FacebookVideo($pathToFile);
    }
}
</code></pre>

<p>Note : I am using Ubuntu OS</p>

<p><a href=""https://i.stack.imgur.com/E0n78.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/E0n78.jpg"" alt=""enter image description here""></a></p>",0,php|facebook|codeigniter
32904738,CakePHP 3: Encrypt/decrypt password,"<p>How can I show the decrypted user password in an edit form?</p>

<p>I am using <code>DefaultPasswordHasher</code> for <code>Hashing</code> passwords while registration of <code>users</code> using this:</p>

<pre><code>protected function _setPassword($password) {
  return (new DefaultPasswordHasher)-&gt;hash($password);
}
</code></pre>

<p>It works well and the password is encrypted...</p>

<p>But when I used <code>user table</code> in <code>view page</code> and <code>edit page</code> it shows the <strong>encrypted</strong> password. So how can I decrypt the password in the controller and when edit page it also decrypt and store in database in <code>CakePHP 3.x</code>?</p>",0,cakephp-3.0
32768367,"Carbon, Javascript Date Objects and timezone","<p>I'm using the <a href=""https://github.com/mattlewis92/angular-bootstrap-calendar"" rel=""nofollow"">angular-bootstrap-calendar</a> and my event list has this format:</p>

<pre><code>{""events"":[{""eventid"":""7"",""title"":""Events"",""type"":""info"",""startsAt"":""2015-09-24T10:00:00+00:00"",""endsAt"":""2015-09-24T11:00:00+00:00"",""draggable"":""true"",""resizable"":""true""}]}
</code></pre>

<p>But when my events are displayed in the calendar, it shows 6am instead of 10am.</p>

<p>I'm guessing it has to do the Carbon conversion of my dates?</p>

<pre><code>$startAt = Carbon::parse($appointments['appointment_start'])-&gt;toATOMString();
</code></pre>

<p>or  the conversion of my dates to Javascript Date Objects and timezones  </p>

<pre><code> $http.get('../api/events').success(function(events) {

 //  Convert dates to Javascript Date Object
 for (var i = 0; i &lt; events.events.length; i++) {
    events.events[i].startsAt = new Date(events.events[i].startsAt);
    events.events[i].endsAt   = new Date(events.events[i].endsAt);
 }
</code></pre>

<p>Not sure how I should handle this? I guess my event dates (i.e 2015-09-24T10:00:00+00:00 ) should have a different format?</p>",2,javascript|php|angularjs|php-carbon
32732342,White page with Nginx Php-fpm and no errors logged,"<p>I have a server running with archlinux, nginx and Php-fpm and when I try to load a page all I get is a white page.I've tried multiple fixes found on the internet but none have worked for me.</p>

<p>Here is my nginx conf file :</p>

<pre><code>server {

listen  80; 

root /home/www-data/websites/subdomain.domain.net;
index index.php index.html index.htm;

server_name subdomain.domain.net;

access_log /root/logs/nginx/subdomain.access.log;
error_log /root/logs/nginx/subdomain.error.log;

location ~ \.php$ {
            fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;
            fastcgi_index index.php;
            fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;
                  }

location ~* \ (gif|jpg|png) {
            expires 30d;
                            }

location ~ ^/favicons/.*$ {
            try_files $uri /data/$uri;
                          }

location / {
            index index.php index.html index.htm;
            try_files $uri /public/$uri /index.php$is_args$args;
           }
}
</code></pre>

<p>The error logs of both nginx &amp; subdomain.error.log are empty.</p>

<p>The file is located in /home/www-data/websites/subdomain.domain.net/index.php and contains the following :</p>

<pre><code>&lt;?php phpinfo() ?&gt;
</code></pre>

<p>Any help would be appreciated :)</p>",2,php|nginx|archlinux
32900332,How to trace a script running successfully or timeout in PHP,"<p>I have a PHP script which running some crawling job, and which probably require 5 minutes above to complete.</p>

<p>My question as below:</p>

<ol>
<li><p>If I try to execute the script via browser request, probably will experience a request timeout after 30 seconds, but is it the script still running on server until completion?</p></li>
<li><p>If I execute the script via cron job, how do I trace the running status? How do I know if the script still running or already been kill by server?</p></li>
<li><p>Is it possible to increase the maximum execution time via PHP code without touching the php.ini file?</p></li>
</ol>

<p>Appreciate for the reply. </p>",0,php|cron|timeout
32847682,How to get username from articles in Laravel 5?,"<p>Let's say each article is related with a user by holding a user_id value that is a foreign key to the id field in the users table.</p>

<p>And we defined the <code>user</code> method inside Article model with <code>$this-&gt;belongsTo('App\User')</code>, and the <code>article</code> method inside User model with <code>$this-&gt;hasMany('App\Article')</code>.</p>

<p>What is the proper way to get the articles along with the username of the creator, in order to use them in the view?</p>",1,php|laravel-5.1
32824662,Sort products by category (in parent category view),"<p>I have a quite unique problem.</p>

<p>I have a shop where there are multiple categories in a setup like this</p>

<blockquote>
  <p>Collection<br />
    .... Shorts (products: small 16 - RED and small 20 - BLUE)<br />
    .... Dress (products: blue: 16 , Green 19)</p>
</blockquote>

<p>If I open Collection in the shop I get the items like this</p>

<blockquote>
  <p>Blue 16<br />
    Green 19<br /> 
    small 16 - RED<br />
    small 20 - BLUE<br /></p>
</blockquote>

<p>I want my output to be like this: </p>

<blockquote>
  <p>small 16 - RED<br />
    small 20 - BLUE<br />
     Blue 16<br />
    Green 19<br /> </p>
</blockquote>

<p>How can i get this results? I'm sorry i haven't provided any code, as i have no idea how i should achieve this</p>",8,php|magento|e-commerce|magento-1.9.1
32623791,How can I change cbuttoncolumn label dynamically in yii cgridview,"<p>I am trying to change cbuttoncolumn label dyanamically. But somehow it does not work. My code is </p>

<pre><code>array(
      'class'=&gt;'CButtonColumn',
      'template'=&gt;'{publish}',
      'buttons'=&gt;array(
          'publish'=&gt;array(
             //'type'=&gt;'raw',
             'label'=&gt;'$data-&gt;content_type == 1 ? ""View &amp; Publish"" : ""Publish""',
             'icon'=&gt;'ok',
             'url'=&gt;'Yii::app()-&gt;createUrl(""/admin/contentToPublish/publish"")',
           ),
       ),
),
</code></pre>

<p>How can i do this??</p>",3,php|yii|cgridview|cbuttoncolumn
32535977,Listing all running processes on server using PHP,"<p>I am trying to get a list of all processes currently running on my Ubuntu server using <code>PHP</code>. Ideally, I would like to get the following information:</p>

<ul>
<li>The Process ID</li>
<li>The Command Used to Execute the Process</li>
<li>The Arguments Given to the Process</li>
</ul>

<p>I know that I can use <code>exec</code> to call <code>ps</code> to list the currently running processes.</p>

<pre><code>exec('ps aux', $output);
</code></pre>

<p>However, the output is formatted with arbitrary number of spaces, so parsing it is not the easiest thing in the world.</p>

<p>I could potentially use <code>explode</code> or <code>preg_split</code> to parse, but <strong>is there an easier way to get a list of all running processes using <code>php</code>, along with the process id, command, and arguments?</strong></p>",5,php|linux|ubuntu|process|ps
32624941,"PhpStorm terminal jumps from external monitor to default on focus, mac os x","<p>I have 2 monitors: my notebook monitor, and primary big dell monitor. PhpStorm 9.02 and MacOS X 10.10.5.</p>

<p>When I work at PhpStorm, I move my terminal window to secondary notebook display, and when I focus PhpStorm or terminal, terminal jumps to primary monitor. When I work with 1 tab of terminal everything looks fine after switching on Pinned mode and Floating mode at terminal settings. But today I open 3 tabs, and terminal starts jumps again.</p>

<p>It's very annoying when you often switch between browser and PhpStorm. </p>

<p>Do somebody have the same problem and fix for it?</p>",0,macos|phpstorm|multiple-monitors
32644451,display text if in mysql there is a number,"<p>I have a database with 4 columns, <code>id</code>, <code>user</code>, <code>vipplan</code> and <code>expire</code>.
What i want to do, is this:</p>

<p>i have my <code>vipplan</code> table, and:<br>
if number 0 is in database: then display ""N/A""<br>
if number 1 is in database: then display ""Sr.Pro""<br>
if number 2 is in database: then display ""No seas""<br>
if number 3 is in database: then display ""Level0""<br></p>

<p>But i do not know how to do it, i post my code:</p>

<pre><code>&lt;?php
echo ""&lt;h2&gt;Resultados:&lt;/h2&gt;&lt;p&gt;"";

  if(isset($_POST['user']))
        {
        $find = $_POST['user'];
        if ($find == """")
        {
        echo ""&lt;p&gt;Olvidaste poner tu usuario -.-!!!"";
        exit;
        }
mysql_connect(""localhost"", ""root"", ""2513"") or             die(mysql_error());
mysql_select_db(""invasionvip"") or die(mysql_error());
            $find = strtoupper($find);
            $find = strip_tags($find);
            $find = trim ($find);
            $iname = mysql_query(""SELECT * FROM users WHERE usuario LIKE '%$find%'"")
             or die(mysql_error());
            while($result = mysql_fetch_array( $iname ))
            {
            echo ""id:"" .$result['id'];
            echo ""&lt;br&gt;"";
            echo ""usuario:"".$result['usuario'];
            echo ""&lt;br&gt;"";
            echo ""Plan VIP:"".$result['planvip'];
            echo ""&lt;br&gt;"";
            echo ""Vencimiento :"".$result['vencimiento'];
            echo ""&lt;br&gt;"";
            }
            $anymatches = mysql_num_rows($iname);
            if ($anymatches == 0)
            {
            echo ""Sorry, but we can not find an entry to match your query...&lt;br&gt;&lt;br&gt;"";
            }
            echo ""&lt;b&gt;Searched For:&lt;/b&gt; "" .$find;
            }
            ?&gt;
</code></pre>

<p>and my form is very simple:</p>

<pre><code>&lt;form class=""pure-form"" method=""post"" action=""user.php""&gt;
&lt;center&gt;Aqui podrás ver tus servicios activos, como V.I.P, vehiculos, skins, etc.&lt;/center&gt;&lt;br/&gt;
&lt;span style=""text-align:left;font-size:25px;""&gt;Usuario:&amp;nbsp;&lt;/span&gt;
&lt;input type=""text"" name=""user""&gt;
&lt;button type=""submit"" class=""pure-button""&gt;Search&lt;/button&gt;
&lt;/form&gt;
</code></pre>

<p>thank you, :)</p>",1,php|mysql|forms
32771576,php GD add padding to image and keep rectangle,"<p>A somewhat similar question to here:
<a href=""https://stackoverflow.com/questions/10589704/php-gd-add-padding-to-image"">php GD add padding to image</a></p>

<p>However, that answer turns the image into a square. I would like to keep the image height and width as a rectangle, unchanged, and add fixed padding at top and bottom instead of making it a square as shown.</p>",0,php|image|gd
32806587,Get message instead of table when mysql table has no data,"<p>I'm quite new at PHP and have created a simple table that gets the data from a mysql database and displays it. However I want that, when the 'region' field has no records, to get a message 'No records' instead of the table. On the other hand, if the 'region' field has data, then the table should appear normally.</p>

<p>So, in the example below, if there are no records for the region'Alsace', no table should appear...</p>

<p>It seems quite simple in principle, but I cannot seem to find a way of doing this...
.</p>

<p>Here is my code:</p>

<pre><code>&lt;?php
$dbhost = 'localhost';
$dbuser = 'root';
$dbpass = '';
$db = ""tournois"";


$conn = mysql_connect($dbhost, $dbuser, $dbpass)
or die(""Could not connect : "" . mysql_error());



mysql_select_db($db, $conn)
or die(""Could not select database"");

mysql_query(""SET NAMES 'utf8'"");
mysql_query('SET character_set_connection=utf8');
mysql_query('SET character_set_client=utf8');
mysql_query('SET character_set_results=utf8');

$query = ""SELECT date, tournoi, lieu, region, prix,ritme, link FROM tournois_france WHERE region = 'Alsace'"";
$result = mysql_query($query);

if ($result){?&gt;
&lt;table class='table table-hover'&gt;
&lt;tr class=info&gt;
&lt;th&gt;Date&lt;/th&gt;
&lt;th&gt;Tournois&lt;/th&gt;
&lt;th&gt;Lieu&lt;/th&gt;
&lt;th&gt;Region&lt;/th&gt;
&lt;th&gt;Prix&lt;/th&gt;
&lt;th&gt;Ritme&lt;/th&gt;
&lt;/tr&gt;

&lt;?php while($row = mysql_fetch_array($result)) {?&gt;
&lt;tr&gt;
&lt;td&gt;&lt;?php echo $row-&gt;Date;?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?php echo $row-&gt;Tournoi;?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?php echo $row-&gt;Lieu;?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?php echo $row-&gt;Region;?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?php echo $row-&gt;Prix;?&gt;&lt;/td&gt;
&lt;td&gt;&lt;?php echo $row-&gt;Ritme;?&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;?php }?&gt;        
&lt;/table&gt;
&lt;?php } ?&gt;   
</code></pre>",0,php|mysql
32568138,ajax load checkbox after select combo box - php,"<p>Please help me!
I have a form that seeks ajax in the neighborhoods that are registered within a city, this city is chosen and the neighborhoods it is loaded on a select.
It works perfectly, but I need to put checkboxes so you can be chosen more than one neighborhood, I'm trying, but it does not work out.
I'm trying to use jQuery plugin MULTIPLE SELECT.</p>

<pre><code>&lt;head&gt;
    &lt;link href=""multiple-select.css"" rel=""stylesheet""/&gt;

&lt;script language=""javascript""&gt;
function search_data(city)
{
  ajax.open(""GET"", ""search.php?city="" + city, true);
  ajax.onreadystatechange = handleHttpResponse;
  ajax.send(null);
}
function handleHttpResponse()
{
  campo_select = document.form_av.neighborhood;
  if (ajax.readyState == 4) {
    campo_select.options.length = 0;
    results = ajax.responseText.split("","");
    for( i = 0; i &lt; results.length; i++ )
    {
      string = results[i].split( ""|"" );
      if ( string[0] != """" ){
      campo_select.options[i] = new Option( string[0], string[0] );
      } else {
      campo_select.options[i] = new Option( ""all neighborhoods"" , """", ""defaultSelected"",""selected"" );
      }
    }
  }
}
function getHTTPObject()
{
    if(window.XMLHttpRequest)
    {
        return new XMLHttpRequest();
    } else
    if(window.ActiveXObject)
    {
        var prefixes = [""MSXML2"", ""Microsoft"", ""MSXML"", ""MSXML3""]; 
        for(var i = 0; i &lt; prefixes.length; i++)
        {
             try
            {
             return new ActiveXObject(prefixes[i] + "".XMLHTTP"");
            } catch (e) {}
        }
    }
}
var ajax = getHTTPObject();
&lt;/script&gt;

&lt;/head&gt;
&lt;body&gt;

&lt;form name=""form_av"" id=""hongkiat-form"" method=""get"" action=""""&gt;


                    City

                    &lt;select name=""city"" size=""1"" class=""txtinput"" id=""city"" style=""width:130px;"" onChange=""search_data( this.value )""&gt;
                        &lt;option selected value=""""&gt;Todas&lt;/option&gt;
                        &lt;? $consulta = mysql_query(""SELECT * FROM city ORDER BY city_name ASC"");
                        while( $row = mysql_fetch_assoc($consulta)){?&gt;
                        &lt;option value=""&lt;? echo retira_acentos($row['city_name']);?&gt;""&gt;&lt;? echo retira_acentos($row['city_name']);?&gt;&lt;/option&gt;
                        &lt;? }?&gt;
                    &lt;/select&gt;




                   Neighborhood

                    &lt;select name=""neighborhood"" size=""1"" class=""txtinput"" id=""neighborhood"" style=""width:130px;"" multiple=""multiple""&gt;
                        &lt;option value="""" selected&gt;------&lt;/option&gt;
                    &lt;/select&gt;

               &lt;/form&gt;

    &lt;script src=""jquery-1.7.2.min.js""&gt;&lt;/script&gt;    
    &lt;script src=""jquery.multiple.select.js""&gt;&lt;/script&gt;
    &lt;script&gt;
        $('#neighborhood').multipleSelect();
    &lt;/script&gt;

&lt;/body&gt;
</code></pre>

<p>Thanks!</p>",1,javascript|php|jquery|ajax
32844617,PHP how to cache POST request?,"<p>In my cart I have a 'go back' button. When I'm removing sth from the cart the page is refreshed. And when I click the back button here, the action of removing sth from the cart is reverted. I found the solution not to cache this action of removing something in the cart but it doesn't work (clicking back button shows 'Confirm Form Resubmission' page). I'm using these headers: </p>

<pre><code>header(""Cache-Control: no-store, no-cache, must-revalidate, max-age=0"");
header(""Cache-Control: post-check=0, pre-check=0"", false);
header(""Pragma: no-cache"");
</code></pre>

<p>what could be wrong? I'm using Symfony 2. </p>",1,php|caching
32845863,Jquery select row from table to grab the values,"<p>I have a live search feature on my site and i want users to be able to select the results and the values be passed down to an input field.</p>

<p>If i have a static table, the code below works fine but if i perform a search from an mysql table, its not finding the rows. I can only select the values from the entire table. Any ideas?</p>

<p><strong>From Static Table - THIS WORKS FINE</strong></p>

<pre><code>    &lt;table class=""formatHTML5"" &gt;

        &lt;!-- TABLE HEADER--&gt;
        &lt;thead&gt;

            &lt;tr&gt;
                &lt;th&gt;Loan&lt;/th&gt;&lt;th&gt;Month&lt;/th&gt;&lt;th&gt;Rate&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;tr&gt;
                &lt;td class=""p""&gt;Loan&lt;/td&gt;&lt;td class=""i""&gt;36&lt;/td&gt;&lt;td class=""n""&gt;.02881&lt;/td&gt;&lt;td class=""z""&gt;.02881&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td class=""p""&gt;Loan&lt;/td&gt;&lt;td class=""i""&gt;36&lt;/td&gt;&lt;td class=""n""&gt;.02751&lt;/td&gt;&lt;td class=""z""&gt;.02881&lt;/td&gt;
             &lt;/tr&gt;

        &lt;/tbody&gt;
     &lt;/table&gt;


 &lt;script&gt;
 $(""tbody tr"").click(function () {
        $('.selected').removeClass('selected');
        $(this).addClass(""selected"");
        var product = $('.p',this).html();
        var infRate =$('.i',this).html();
        var note =$('.n',this).html();
        var gnote =$('.z',this).html();
        alert(product +','+ infRate+','+ note);
    });
     &lt;/script&gt;
</code></pre>

<p><strong>FROM LIVE SEARCH - THIS DOES NOT WORK</strong></p>

<pre><code>      index.php
                &lt;div class=""row mt""&gt;
                    &lt;div class=""col-lg-12""&gt;
                        &lt;div class=""content-panel tablesearch""&gt;

                            &lt;section id=""unseen""&gt;
                                &lt;table id=""resultTable"" class=""table table-bordered table-hover table-condensed formatHTML5""&gt;
                                    &lt;thead&gt;

                                        &lt;tr&gt;

                                            &lt;th class=""small""&gt;Name&lt;/th&gt;
                                            &lt;th class=""small""&gt;Company&lt;/th&gt;
                                            &lt;th class=""small""&gt;Zip&lt;/th&gt;
                                            &lt;th class=""small""&gt;City&lt;/th&gt;

                                        &lt;/tr&gt;
                                    &lt;/thead&gt;

                                    &lt;tbody&gt;

                                    &lt;/tbody&gt;
                                &lt;/table&gt;
                            &lt;/section&gt;

                        &lt;/div&gt;&lt;!-- /content-panel --&gt;
                    &lt;/div&gt;&lt;!-- /col-lg-4 --&gt;
                &lt;/div&gt;&lt;!-- /row --&gt;


  search.php

  // Output HTML formats

  $html = '&lt;tr&gt;';
  $html .= '&lt;td class=""small""&gt;nameString&lt;/td&gt;';
  $html .= '&lt;td class=""small""&gt;compString&lt;/td&gt;';
  $html .= '&lt;td class=""small""&gt;zipString&lt;/td&gt;';
  $html .= '&lt;td class=""small""&gt;cityString&lt;/td&gt;';
  $html .= '&lt;/tr&gt;';

// Check for results
    if (isset($result_array)) {
    foreach ($result_array as $result) {
    // Output strings and highlight the matches
     $d_name = preg_replace(""/"".$search_string.""/i"", ""&lt;b&gt;"".$search_string.""&lt;/b&gt;"", $result['name']);
     $d_comp = $result['company'];
     $d_zip = $result['zip'];
     $d_city = $result['city'];
    // Replace the items into above HTML
    $o = str_replace('nameString', $d_name, $html);
    $o = str_replace('compString', $d_comp, $o);
    $o = str_replace('zipString', $d_zip, $o);
    $o = str_replace('cityString', $d_city, $o);
    // Output it
    echo($o);
        }
    }else{
    // Replace for no results
    $o = str_replace('nameString', '&lt;span class=""label label-danger""&gt;No Names Found&lt;/span&gt;', $html);
    $o = str_replace('compString', '', $o);
    $o = str_replace('zipString', '', $o);
    $o = str_replace('cityString', '', $o);
    // Output
    echo($o);
   }
   }
</code></pre>",0,php|jquery|mysql
32680409,Cut an arabic string,"<p>I have a string in the arabic language like:</p>

<pre><code>على احمد يوسف
</code></pre>

<p>Now I need to cut this string and output it like:</p>

<pre><code>...على احمد يو
</code></pre>

<p>I tried this function:</p>

<pre><code>function short_name($str, $limit) {
    if ($limit &lt; 3) {
        $limit = 3;
    }

    if (strlen($str) &gt; $limit) {
        if (preg_match('/\p{Arabic}/u', $str)) {
            return substr($str, 0, $limit - 3) . '...';
        }
        else {
            return '...'.substr($str, 0, $limit - 3);
        }
    }
    else {
        return $str;
    }
}
</code></pre>

<p>The problem is that sometimes it displays a symbol like this at the end of the string:</p>

<pre><code>...�على احمد يو
</code></pre>

<p>Why does this happen?</p>",1,php
32608022,PHP - Timestamp Issues [LDAP],"<p>I have searched endlessly online and still can't seem to get the correct answer for my query.</p>

<p>In PHP I am pulling the whenCreated ldap attribute of a user and it is coming out in the format below:</p>

<pre><code>echo $user[""whenCreated""]
//20150915110643.0Z
</code></pre>

<p>This user was created on 15th September 2015 at 11:06:43</p>

<p>I then want to add 1 day to this and insert it into the accountExpires attribute.</p>

<p>The issue I am having is converting timestamps, performing the addition of 1 day, then converting back.</p>

<p>From this site: <a href=""http://www.epochconverter.com/epoch/ldap-timestamp.php"" rel=""nofollow"">http://www.epochconverter.com/epoch/ldap-timestamp.php</a> there appears to be a calculator (which, unfortunately, doesn't show the function used.)</p>

<p>However, it is saying that the format is <code>YMD LDAP TIMESTAMP</code> so <code>YYYYMMDDHHMMSST. T</code></p>

<p>I know that with a UNIX timestamp it is easy enough to add 1 day.
So, when I use the following to convert to UNIX Timestamp from an answer on StackOverflow:</p>

<pre><code>$winSecs       = (int)($user[""whenCreated""] / 10000000); // divide by 10 000 000 to get seconds
$unixTimestamp = ($winSecs - 11644473600); // 1.1.1600 -&gt; 1.1.1970 difference in seconds
echo date(DateTime::RFC822, $unixTimestamp);
</code></pre>

<p>I get the following output:</p>

<blockquote>
  <p>Sat, 16 May 09 05:09:39 +0200</p>
</blockquote>

<p>So any help on correct formatting etc. for these timestamps would be greatly appreciated.</p>

<p>Thanks</p>",2,php|datetime|ldap
32899161,How to get timespan values Codeigniter,"<p>I am trying to get the values from <code>timespan()</code> function in Code Igniter. I have one problem, how can I know whether each of the date format is displayed? For example in regards with the codes below, one timespan might be <code>2 Months, 6 Days, 13 Hours, 14 Minutes</code> which would have 4 elements but another might be <code>2 Months, 1 Week, 3 Days, 4 Hours, 39 Minutes</code> which has 5 elements. If do the <code>preg_replace</code> then I won't know which are the months or weeks or days etc.</p>

<p>So how do I find out if it is the week or days or hours etc? Because I want to convert the values into cycles like <code>39mins/1440mins</code> would be 0.0270833 days, then I will calculate for the hours days weeks months and years and add all of them together</p>

<pre><code>// Hold Cycle Time Conversion

foreach($results as $key =&gt; $values)
{
    // Convert mysql timestamp to unix
    $remove = array('-', ':', ' ');
    $hold_timestamp = mysql_to_unix( str_replace( $remove, '', $values['hold_date'] ) );

    // Get timespan
    $hold_timestamp = timespan($hold_timestamp);

    // Explode into arrays
    $timestamp_format = explode(',', $hold_timestamp);

    // Check each array to get value
    foreach($timestamp_format as $ts)
    {
        $separated_stamp = preg_replace('/[^0-9]/', '', $ts);

        /*** Stuck here, incomplete ***/
    }

}
</code></pre>",1,php|codeigniter|timestamp|unix-timestamp|timespan
32854758,Symfony 2 best practice DBAL without object doctrine,"<p>Well I am finally started to learn Symfony and I think peoples will understand my question (I Hope) and my wish to structure my code...</p>

<p>Well, I would like to create a Class which is called Reception and this class has a sql let's say in each methods/function. Each and evry methods can return a different nombre of column results. </p>

<p>Example : 
Sql 1 : Jo;DATE;
Sql 2 : Client;Car;Time</p>

<p>Let's tell that I don't want to create a Entity to use it with doctrine...</p>

<p>I would like to use DBAL (pdo doctrine sql query) to do execute my queries... like in normal PHP poo programming. </p>

<p>Finally the question is : wether I should do this class as a Service, Entity? or I can simple put the pdo query in the controller....</p>

<p>Thanks in advance for your answers...
I avoid doctrine for the moment because I principaly doing some statistiques and also to play a bit with symfony and to increase the difficutly level progresivly... </p>

<p>thanks for your understanding...
Good Day</p>",1,php|symfony|pdo|doctrine-orm|doctrine
32718249,"Driver MongoDB with xampp-win32-5.6.12-0-VC11 ""The specified module could not be found""","<p>I was trying to connect mongodb to php of xampp with version <strong>""xampp-win32-5.6.12-0-VC11-installer""</strong>, but always error.
I use driver from <strong>""<a href=""https://s3.amazonaws.com/drivers.mongodb.org/php/php_mongo-1.6.8.zip"" rel=""nofollow"">https://s3.amazonaws.com/drivers.mongodb.org/php/php_mongo-1.6.8.zip</a>""</strong></p>

<p>The message log is :
<strong>""[22-Sep-2015 13:13:11 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library 'C:\XAMPP\php\ext\php_mongo.dll' - The specified module could not be found. in Unknown on line 0""</strong></p>

<p>Can anyone help me to solve this problem?</p>",0,php|windows|mongodb|xampp|driver
32786706,How do I use usort() on a multidimensional array?,"<p>I have the following multidimensional array that is being created from a loop. the 'date' is in the format of 'Ymd'. (I'm doing this because I have 2 different date fields coming in in different formats and I want to combine them and sort by a common format)</p>

<pre><code>$myArray = array (
    'date' =&gt; $eDate,
    'title' =&gt; $title,
    'permalink' =&gt; $permalink
 );
</code></pre>

<p>How would I write a simple comparison function to pass into the usort() so that I could sort by that key of 'date'? So then I could do a simple foreach?</p>",-1,php|usort
32835902,Connecting to MSSQL (on another machine) from Php in MAMP,"<p>I am trying to connect to a MSSQL database on another machine (Windows 8.1 &amp; SQL Server 2014 - Express) within the same network in Php using the mssql_connect function. </p>

<p>I have installed MSSQL into MAMP (it is present as an area in phpinfo();) and I have tested the credentials using the SQLPro for MSSQL (<a href=""http://www.macsqlclient.com/"" rel=""nofollow"">http://www.macsqlclient.com/</a>) and it loads fine with SQLPro.</p>

<p>Although when connecting via mssql_connect keeps giving the error: "" mssql_connect(): Unable to connect to server:""</p>

<p>I was wondering if I have missed anything? Thank you in advance.</p>",1,php|sql-server|mamp
32679173,codeigniter sending a variable from ajax to controller,"<p>I'm currently doing an ajax add,update and delete. And I think I'll just start with the delete since it is the easiest and hope that it might help me in the others.</p>

<p>In jquery (this is inside $doc.ready and the event is triggered properly)</p>

<pre><code>if ($a == ""Delete"") 
{
    var postid = $(this).next('.postid').val();
    $(this).closest("".todo-content"").fadeOut();
    jQuery.ajax({
        type: ""POST"",
        dataType: 'json',
        url: ""&lt;?=base_url()?&gt;.index.php/classes/deletepost"",
        data: {postid: postid},         
        async: false,
  });
}
</code></pre>

<p>in html</p>

<pre><code>&lt;form method=""post""&gt;
    &lt;button class=""btn"" onclick=""return confirm('Are you sure to delete this item?')""&gt;Delete&lt;/button&gt;
    &lt;input type=""hidden"" value=""&lt;?php echo $id; ?&gt;"" name=""postid""&gt;
&lt;/form&gt;
</code></pre>

<p>In controller</p>

<pre><code>public function deletepost(){
        $id = $this-&gt;input-&gt;post('postid');
        $data = array('active' =&gt; 0);
        $this-&gt;Model_name-&gt;deletepost($id,$data);
        redirect('/abc/123');
    }
</code></pre>

<p>This is already working but then I am planning on making the crud to ajax. I'm trying to pass the <code>postid</code> from ajax to controller to delete this post. The <code>fadeout</code> already works but only the ajax does not. I'm very new to ajax so I do not know where I am going wrong and I might also ask questions again regarding the other parts of crud.</p>",0,javascript|php|jquery|codeigniter
32774629,Laravel 5 model validation and authorization,"<p>I am facing a dilemma on how to implement validation in my laravel project, let me explain the situation.</p>

<ol>
<li>I am using an angular JS front end user interface and communicating to laravel using <a href=""http://laravel.com/docs/5.1/controllers#restful-resource-controllers"" rel=""nofollow"">restful resource controllers</a>.</li>
<li>I am using <a href=""http://laravel.com/docs/5.1/validation#form-request-validation"" rel=""nofollow"">form request validation</a> in my controller's <code>store()</code> and <code>update()</code> methods to validate the data via the <code>rules()</code> method and determining the authorization using <code>authorize()</code> method, which ensures both that my data is correct, and only users with correct permission levels can add/edit data. Everything is working well at this point, so long as the data is coming via a form/ajax request made to the api.</li>
</ol>

<p>Now, here is the problem. Sometimes the insert/edit operation needs to be done programatically, for e.g. whenever a row is created in table A, a row needs to be created in table B, but before doing so, it should also run the same validation rules and check authorization that it would do if table B was created using a form request, but if I just called say <code>TableA::Create([])</code> the row would be created without any validation.</p>

<p>Sure, I can use <code>Validator::make()</code> inside the model as well but then,
a) it makes the model cluttered b) is a repetition of code   </p>

<p>So, my objective is to ensure that no matter how Table A's records are going into the database, if its done from the application, the checks will be performed before saving the data, while keeping the validation and authorization rules central. It seems to me that the way to go is to put a hook onto the model's ""saving"" event and somehow trigger the formrequest validator? But I am not sure.</p>

<p>I saw Jeffrey Way's <a href=""https://github.com/JeffreyWay/Laravel-Model-Validation"" rel=""nofollow"">automatic model validator</a>, but that is for Laravel 4. Is there any elegant way to do this in Laravel 5.x ?</p>

<p>Also, as an add-on question, when I had asked this question elsewhere, a few people said they were ""not a fan of model based validation"", without explaining why it is not a good idea for them, so I would also like to know what are the drawbacks of model based validation? </p>",2,php|laravel|laravel-5.1
32921807,El Capitan pgsql extension,<p>I just installed OS X El Capitan and it apparently overrode my php and pgsql settings. Can anyone walk me through install/settings to get this back up?</p>,2,php|osx-elcapitan|php-pgsql
32714289,Cross-Origin Request Blocked in angularjs,"<p>I have created a GET function using Slim which is working fine in browser, i.e. when i hit the link, but when I called the same <code>url</code> through <code>angularjs</code> it is showing error.</p>

<pre><code> ""NetworkError: 404 Not Found - http://www.example.com/folder_name/getSongs/0/10""
  Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://www.example.com/folder_name/getSongs/0/10. (Reason: CORS header 'Access-Control-Allow-Origin' missing).
  Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource. (Reason: CORS request failed).
</code></pre>

<p>slim framework is install in folder_name folder</p>

<p><em>my code in index.php of slim are as follows.</em></p>

<pre><code>//my db functions file
require_once './common/myfunctions.php';

require 'Slim/Slim.php';
\Slim\Slim::registerAutoloader();

$app = new \Slim\Slim();

$app-&gt;get('/getSongs/:minLimit/:maxLimit', function ($minLimit, $maxLimit) use ($app) {

    $response = $app-&gt;response();
    $response-&gt;header('Access-Control-Allow-Origin', '*');
    $response-&gt;header('Access-Control-Allow-Methods', 'POST, GET, OPTIONS, DELETE, PUT');
    $response-&gt;header('Access-Control-Max-Age', '1000');
    $response-&gt;header('Access-Control-Allow-Headers', 'x-requested-with, Content-Type, origin, authorization, accept, client-security-token');

    $response_array = array(); //response will be send

    $songList = getSongsList($minLimit, $maxLimit);

    if (isset($songList) &amp;&amp; !empty($songList)) {

        foreach ($songList as $key =&gt; $value) {
            $response_array['data'][$key] = $value;
        }
        $response_array['success'] = TRUE;

        $app-&gt;status(200); //Ok
    }
    //blank array
    else {
        $response_array = array(""success"" =&gt; TRUE, ""data"" =&gt; NULL);
        $app-&gt;status(204); //No Content
    }

    echo json_encode($response_array);
});

$app-&gt;run();
</code></pre>",1,javascript|php|slim
32542274,How to make custom categories for every post type in Wordpress?,"<p>I have custom post types on my page and I need custom categories for each post type. Is it possible to do that? I found this question: <a href=""https://stackoverflow.com/questions/25127594/custom-category-for-custom-post-type"">Custom category for custom post type</a> but it creates only <strong>TAGS</strong> I need category checkboxes.. </p>

<p>Can someone help?</p>",0,php|wordpress|custom-post-type|custom-taxonomy
32620928,cPanel cron job not executing Magento cron script but works manually,"<p>I have a Magento store hosted on a cPanel server. Although I have the following cron job setup, it doesn't seem to do anything, with no errors reported anywhere:</p>

<pre><code>php /home/username/public_html/cron.php
</code></pre>

<p>When I execute this from SSH manually, it works every time (and the cron_schedule table updates). I have checked the permissions for both cron.php and cron.sh and compared them with other installations that do work, and everything looks correct.</p>

<p>Anyone have any ideas?</p>",0,php|magento|cron|cpanel|magento-1.9
32894943,Unwanted square brackets in json response,"<p>I have little problem with a PHP code that gives JSON response. Let me give you an example to be clear.
Let's say we have the following table in a database:</p>

<pre><code>      | firstname | lastname | age |
      +===========+==========+=====+
      | Nick      | James    | 21  |
      +-----------+----------+-----+
      | John      | Manson   | 23  |
      +-----------+----------+-----+
</code></pre>

<p>In my PHP code the column names are stored in the array $col_fields. Number of columns is stored in the variable $num_fields. Array $row stores each row of the database table, so row[0] is the firstname, row[1] is lastname and row[2] is age. Also I use the auxiliary array $row_aux to store pairs: ""key"" => ""value"". So, in our example, the pairs will be the following:</p>

<p>row 1: ""firstname"" => ""Nick"", ""lastname"" => ""James"", ""age"" => ""21""</p>

<p>row 2: ""firstname"" => ""John"", ""lastname"" => ""Manson"", ""age"" => ""23""</p>

<p><strong>What I'm waiting as a JSON response is described here:</strong></p>

<p>{ ""table_name"" :[ { ""firstname"" : ""Nick"",  ""lastname"" : ""James"", ""age"" : 21}, { ""firstname"" : ""John"",  ""lastname"" : ""Manson"", ""age"" : 23}]}</p>

<p><strong>But What I' m really getting is described here:</strong></p>

<p>{ ""table_name"" :[ { ""firstname"" : <strong>[</strong>""Nick""<strong>]</strong>,  ""lastname"" : <strong>[</strong>""James""<strong>]</strong>, ""age"" : <strong>[</strong>""21""<strong>]</strong>}, { ""firstname"" : <strong>[</strong>""John""<strong>]</strong>,  ""lastname"" : <strong>[</strong>""Manson""<strong>]</strong>, ""age"" : <strong>[</strong>""23""<strong>]</strong>}]}</p>

<p>The code I used is:</p>

<pre><code>while ($i &lt; $num_fields) {
  $row_aux[$col_fields[$i]][] = $row[$i];
  $i++;
}
echo json_encode($row_aux);
</code></pre>

<p>Could anyone tell me how to fix it?</p>",0,php|mysql|arrays|json
32787422,PHP SimpleXML Parsing elements with multiple attributes,"<p>I have to parse data from a web service that returns XML through php. I have no issues with getting the data but I am having trouble accessing a specific attribute. The xml I am parsing looks like this when I var_dump it.</p>

<pre><code>object(SimpleXMLElement)#13 (2) { [""@attributes""]=&gt; array(1) { [""Label""]=&gt; string(4) ""11am"" } [""Value""]=&gt; object(SimpleXMLElement)#14 (1) { [""@attributes""]=&gt; array(1) { [""Y""]=&gt; string(6) ""204.68"" } } }
</code></pre>

<p>To get that element I am looping through the xml and each element is like this</p>

<pre><code>foreach($details as $key){
    foreach($key as $value){
        var_dump($value);           
    }
}
</code></pre>

<p>To access the Label part of the element I can just echo $value['Label'] but I am having trouble accessing the Y element. Any help would be very much appreciated!</p>",1,php|xml|simplexml
32926584,Populate Selectize Dropdown from PHP,"<p>I am using the Selectize jQuery plugin and would like to populate the dropdown box with the results of a PHP output.  I am able to get the data in the box, but there are multiple options and it is putting them all on one line instead of separate options.  Any ideas?</p>

<p>jQuery</p>

<pre><code>$(""#SearchForm_1"").submit(function() {
    $.post($(this).attr(""action""), 
           $(this).serialize(),
           function(data) {
                var selectize_tags = $(""#GameDetails_1"")[0].selectize;
                selectize_tags.addOption({
                    text:data,
                    value: data
                });
                selectize_tags.addItem(data);
        });
    );
});

$('#GameDetails_1').selectize({
    selectOnTab:true
});
</code></pre>

<p>HTML</p>

<pre><code>&lt;div class=""control-group""&gt;         
    &lt;select id=""GameDetails_1"" name=""GameDetails_1"" autocomplete=""false""&gt;

    &lt;/select&gt;
&lt;/div&gt;
</code></pre>

<p>PHP Output</p>

<pre><code>echo $query_result['GameTitle'];
</code></pre>",0,javascript|php|jquery|html
32553143,LIKE clause is not working in $wpdb->prepare() in wordpress,"<p>I am creating simple searching script with LIKE clause. 
Below is the simple query with LIKE clause using php. </p>

<pre><code>$rows = mysql_query(""select * from description where tags like '%{$keyword}%'"");
</code></pre>

<p>This above query work successfully. But LIKE clause not working with <code>$wpdb-&gt;prepare()</code>. Below is the code for that</p>

<pre><code>$rows = $wpdb-&gt;get_results($wpdb-&gt;prepare(""select * from description where tags like '%{%s}%'"",$keyword));
</code></pre>

<p>What I am missing in this?</p>",1,php|mysql|wordpress
32893233,"Setting a path HTTP GET Request using curl on PHP, for web API","<p>I'm working on a web_app using teamviewer API. According to the <a href=""http://download.teamviewer.com/integrate/TeamViewer_API_Documentation.pdf"" rel=""nofollow"">documentation</a>, it works using HTTP requests (GET, POST, etc..).</p>

<p>I don't get how to make a request on PHP using CURL. The documentation said to do this: </p>

<pre><code>POST /api/v1/oauth2/token HTTP/1.1
Host: webapi.teamviewer.com
Content-Type: application/x-www-form-urlencoded
</code></pre>

<p>so I wrote this</p>

<pre><code>$url = 'webapi.teamviewer.com';
$headers = array(
    'GET /api/v1/oauth2/authorize HTTP/1.1',
    'Content-type: application/x-www-form-urlencoded'
);
//data
$data = [
    'response_type' =&gt; 'authorization_code',
    'redirect_uri' =&gt; 'https%3A%2F%2FTesting%2Ecom%2F',
    'client_id'   =&gt; '65671-XDdsxUNyxGmskcJHQgLC'
];

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_HEADER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
curl_setopt($ch, CURLOPT_POST, false);
curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
</code></pre>

<p>I just can't figure out how to indicate the request the <code>HTTP/1.1</code> and the path <code>/api/v1/oauth2/authorize</code>. I'm putting it in the header but I'm sure it doesn't go there.</p>

<p>I use to work on embedded C and I remember that first you connect to the host and then write GET path HTTP/1.1 as a command.</p>",1,php|http|curl|http-headers|httprequest
32657554,Can I configure yii2 function afterAction to return my api data?,"<p>I am working on my yii2 api and I was looking for a way to get data from my controller actions. This is a sample of what I need on my response in json or xml.</p>

<pre><code>{""success"": true,
 ""message"": {data},
 ""session"": ""U0phRm51az"",
 ""metadata"": ""metadata""
}
</code></pre>

<p>I am getting message from the controller whereas success checks whether response is OK, session is the session data and metadata is other data.
My actions looks like these.</p>

<pre><code>public function actionIndex(){
    $data = array();
}
</code></pre>

<p>All these use the same functions so I do not want to repeat in all actions. I would like to know how to get <code>$data</code> from each action using <code>afterAction</code> or <code>beforeSend</code> event of the response component on my module class <em>(not config file)</em>. If this is not possible, how can I achieve this?</p>",0,php|yii2|yii2-basic-app
32735765,"Cannot run phpunit test, failed opening required class","<p>So, here is the strucuture of my project <br> <br></p>

<pre><code>project_name
  /classes
      Calculator.php
  /test
      CalculatorTest.php
  /vendor
      // Related composer/phpunit etc ... stuff
  composer.json
  composer.lock
</code></pre>

<p><strong>Calculator.php <br></strong></p>

<pre><code>&lt;?php
class Calculator{
    public function double($input){
        return $input * 2; 
    }
}
</code></pre>

<p><strong>CalculatorTest.php <br></strong></p>

<pre><code>&lt;?php

require_once '../classes/Calculator.php'; 

class CalculatorTest extends PHPUnit_Framework_TestCase{

    public $testClass; 

    public function setUp(){
        $testClass = new Calculator; 
    }

    public function testDouble(){
        $result = $testClass-&gt;double(2); 
        $this-&gt;assertEquals(4, $result);        
    }

}
</code></pre>

<p>When I run <em>phpunit ../../test</em>, I get the following error:<br></p>

<blockquote>
  <p>Warning: require_once(../classes/Calculator.php): failed to open
  stream: No such file or directory in
  C:\wamp\www\phpunit\test\CalculatorTest.php on line 3 </p>
  
  <p>Fatal error:
  require_once(): Failed opening required '../classes/Calculator.php'
  (include_path='.;C:\php\pear') in
  C:\wamp\www\phpunit\test\CalculatorTest.php on line 3</p>
</blockquote>

<p>I can't find a fix. Do you have any idea?</p>

<p><strong>EDIT</strong> <br>
Got, it, forget the <strong>spl_autoload_register</strong> within the tests classes: <br></p>

<pre><code>spl_autoload_register(function ($class) {
    require_once 'classes/' . $class . '.php'; 
}); 
</code></pre>",1,php|phpunit|composer-php
32578654,ftp_exec(): Unknown SITE command,"<p>I need to run a linux command from php. So I used <code>ftp_exec()</code> function.</p>

<pre><code> $command='ls -al&gt; /ftp_test/t.log';
 if (ftp_exec($ftp_conn,$command))
   {
     echo ""$command executed successfully."";
   }
   else
   {
   echo ""Execution of $command failed."";
   }
</code></pre>

<p>But it gives me warning</p>

<blockquote>
  <p>Warning: ftp_exec(): Unknown SITE command</p>
</blockquote>

<p>I have googled and found for <code>ftp_exec</code> ""execution via FTP isn't very widely supported.  Check that it works on the servers that you intend to connect to before you start coding something that requires this.""</p>

<p>Can anybody give me a idea to run a linux command from php ?</p>",1,php
32882186,PHP PSR-2 new lines before/ after statments,"<p>Example no 1:</p>

<pre><code>$something = [1,2,3,4]
foreach ($something as $key =&gt; $value) {
    //code code code
}
$something2 = [];
</code></pre>

<p>I can't find clear answer about new live before and after foreach, what PSR-2 say about that ?</p>",5,php|coding-style|psr-2
32824781,Laravel load settings from database,"<p>I'm looking for an efficient way to load settings/configuration from the database with Laravel 5. Settings consist of a <code>key</code> and <code>value</code> column, the model class basically looks like this:</p>

<pre><code>&lt;?php

namespace App;

use Illuminate\Database\Eloquent\Model;

class Setting extends Model
{
    protected $table = 'settings';
    protected $fillable = ['key', 'value'];
    protected $primaryKey = 'key';
}
</code></pre>

<p>At first I made a simple helper function which does the job. The problem is, this would lead to multiple calls per page request. Which is getting slow.</p>

<pre><code>/**
 * Get the value for the given setting from the database.
 *
 * @param  string  $key
 * @return string
 */
function setting($key)
{
    $setting = Setting::whereKey($key)-&gt;firstOrFail();

    return $setting-&gt;value;
}

// $foo = setting('foo'); returns 'bar'
</code></pre>

<p>In an attempt to improve this I creating a custom class called <code>Setting</code> within the <code>App\Classes</code> directory (and also created a Facade for it):</p>

<pre><code>&lt;?php

namespace App\Classes;

use Cache;

class Setting {

    /**
     * The array of settings
     *
     * @var array $settings
     */
    protected $settings = [];

    /**
     * Instantiate the class.
     */
    public function __construct()
    {
        $this-&gt;loadSettings();
    }

    /**
     * Pull the settings from the database and cache them.
     *
     * @return void;
     */
    protected function loadSettings()
    {
        $settings = Cache::remember('settings', 24*60, function() {
            return \App\Setting::all()-&gt;toArray();
        });

        $this-&gt;settings = array_pluck($settings, 'value', 'key');
    }

    /**
     * Get all settings.
     *
     * @return array;
     */
    public function all()
    {
        return $this-&gt;settings;
    }

    /**
     * Get a setting value by it's key.
     * An array of keys can be given to retrieve multiple key-value pair's.
     *
     * @param  string|array  $key;
     * @return string|array;
     */
    public function get($key)
    {
        if( is_array($key) ) {
            $keys = [];

            foreach($key as $k) {
                $keys[$k] = $this-&gt;settings[$k];
            }

            return $keys;
        }

        return $this-&gt;settings[$key];
    }

}

// $foo = Setting::get('foo');
</code></pre>

<p>And now for my question: is this the best way to tackle this problem? I'm now caching all the settings when the class gets constructed. And then retrieve setting values from the cache after that.</p>

<p>I'm beginning to understand the Repository pattern in L5, but I'm not there yet. I thought that would be overkill in this case. I would love to hear if my approach makes any sence.</p>",5,php|database|configuration|laravel-5|settings
32692825,Encrypt the data using Silex framework,"<p>I am using <a href=""http://silex.sensiolabs.org/"" rel=""nofollow"">Silex framework</a> for web application. I would like to encrypt the returning data from server to client/server.</p>

<p>Does any Silex Built-in Service related to encrypt the data such as SSL, HTTPS etc.? I had to take a look at the Silex documentation but cannot find anything.</p>",1,php|ssl|encryption|https|silex
32558782,rotate image from database and save to database blob type,"<p>Save image to database </p>

<pre><code>$query =$myClass-&gt;query(""insert into tblImage(document) values("".base64_encode(file_get_contents($_FILES['imageFile'][""tmp_name""]))."")"");   
</code></pre>

<p>Show image from database </p>

<pre><code>$image =$myClass-&gt;query(""select document from  tblImage where code=1"");                                                                             
$output_bin_string = base64_decode($image[0]['thumbDocument']);
header(""Content-Type: image/jpeg"");
header(""Content-Length: "" . strlen($output_bin_string));          
echo $output_bin_string;    
</code></pre>

<p>I can save image to file and then save to database</p>

<pre><code>$image=$myClass-&gt;query('select document form tblImage where code=1' );   
$source = imagecreatefromstring(base64_decode($image[0][""document""])) ;
$rotate = imagerotate($source,$degrees,0);
imagejpeg($rotate,'tmp/1.jpg');
$image =$myClass-&gt;query(""update tblImage set document='"".base64_encode(file_get_contents('tmp/1.jpg')).""'   where code=1"");
</code></pre>

<p><strong>Question:</strong> there is way that rotate image and save to database without save image to file like this</p>

<pre><code>$image=$myClass-&gt;query('select document form tblImage where code=1' );   
$source = imagecreatefromstring(base64_decode($image[0][""document""])) ;
$rotate = imagerotate($source,$degrees,0);
$image =$myClass-&gt;query(""update tblImage set document='"".base64_encode($rotate).""'   where code=1"");
</code></pre>

<p>This code say error:<code>base64_encode() expects parameter 1 to be string, resource given</code></p>",2,php|database|image
32883979,Laravel 5 how to get many random rows using collections,"<p>Based on <a href=""https://stackoverflow.com/questions/26983186/how-get-random-row-laravel-5"">how get random row laravel-5</a> I adjusted my query, but still not receiving the expected result.</p>

<p>I have 20 articles in the database and want to get randomly only 3 of them and show them on the page.</p>

<p>My class is just like the following:</p>

<pre><code>public function article()
{
    $article = DashArticle::where('category', '=', 0)-&gt;get()-&gt;random(3);

    $articleTitle0       = $article[0]-&gt;titel;
    $articleAutor0       = $article[0]-&gt;autor;
    $articleAbstract0    = $article[0]-&gt;abstract;
    $articleSource0      = $article[0]-&gt;source;
    $articleTitle1       = $article[1]-&gt;titel;
    $articleAutor1       = $article[1]-&gt;autor;
    $articleAbstract1    = $article[1]-&gt;abstract;
    $articleSource1      = $article[1]-&gt;source;
    $articleTitle2       = $article[2]-&gt;titel;
    $articleAutor2       = $article[2]-&gt;autor;
    $articleAbstract2    = $article[2]-&gt;abstract;
    $articleSource2      = $article[2]-&gt;source;

    return compact(
        'articleTitle0', 'articleAutor0', 'articleAbstract0', 'articleSource0',
        'articleTitle1', 'articleAutor1', 'articleAbstract1', 'articleSource1',
        'articleTitle2', 'articleAutor2', 'articleAbstract2', 'articleSource2'
    );
}
</code></pre>

<p>And here part of the view:</p>

<pre><code>&lt;div id=""a-slide"" class=""carousel slide auto panel-body""&gt;
    &lt;ol class=""carousel-indicators out""&gt;
        &lt;li class=""active"" data-slide-to=""0"" data-target=""#a-slide""&gt;&lt;/li&gt;
        &lt;li class="""" data-slide-to=""1"" data-target=""#a-slide""&gt;&lt;/li&gt;
        &lt;li class="""" data-slide-to=""2"" data-target=""#a-slide""&gt;&lt;/li&gt;
    &lt;/ol&gt;
    &lt;div class=""carousel-inner""&gt;
        &lt;div class=""item active"" style=""padding: 0 16px;""&gt;
            &lt;p style=""font-size: 16px; font-weight: bold;""&gt;{!! $articleTitle0 !!}&lt;/p&gt;
            &lt;p class=""text-muted""&gt;{!! $articleAutor0 !!}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Abstract:&lt;/strong&gt;&lt;br /&gt;{!! $articleAbstract0 !!}&lt;/p&gt;
            &lt;p&gt;
                &lt;a href=""$articleSource !!}"" target=""_blank""&gt;
                    {!! $articleSource0 !!}
                &lt;/a&gt;
            &lt;/p&gt;
        &lt;/div&gt;

        &lt;div class=""item"" style=""padding: 0 16px;""&gt;
            &lt;p style=""font-size: 16px; font-weight: bold;""&gt;{!! $articleTitle1 !!}&lt;/p&gt;
            &lt;p class=""text-muted""&gt;{!! $articleAutor1 !!}&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Abstract:&lt;/strong&gt;&lt;br /&gt;{!! $articleAbstract1 !!}&lt;/p&gt;
            &lt;p&gt;
                &lt;a href=""{!! $articleSource1 !!}"" target=""_blank""&gt;
                    {!! $articleSource1 !!}
                &lt;/a&gt;
            &lt;/p&gt;
        &lt;/div&gt;
</code></pre>

<p>The problem is when I let the random = 3
    ($article = DashArticle::where('category', '=', 0)->get()->random(3);
I get following error: ""Undefined offset: 1""</p>

<p>and when I user random = 20 (the total number of rows in the table) it works but I don't become any random articles but always the first 3 lines of the table.</p>

<p>I would appreciate any help! Thanks!</p>",0,php|random|laravel-5.1
32554392,Prestashop shipping cost depending of country,"<p>I'm working on upgrading my e-shop on Prestashop.
I want to edit shipping (carrier) cost depending of what country this will be sent. In theory I want to put price for <code>delivery = 1</code> in backoffice and then in code edit this depending of country/weight or other options.</p>

<p>I think I find out function which get shipping price. This is <strong>getTotalShippingCost</strong> or this is <strong>getOrderTotal</strong> Please, tell if I'm wrong.</p>

<p>How can I get country name for delivery in <strong>getOrderTotal</strong> at this point?<pre><code>if ($type == Cart::ONLY_SHIPPING)
return $shipping_fees;</code></pre></p>

<p>Or if at this point of order no address can't be get, please tell where this doing. In ParentOrderController.php or in PaymentModule.php or somewhere else?</p>",1,php|smarty|prestashop-1.6|shipping
32696295,Create Moodle activities programmatically,"<p>Does anyone know if it’s possible to add an activity programmatically to a course in Moodle?</p>

<p>I was thinking to maybe use the class <code>module_add_instance()</code> from the lib.php of my custom plugin...</p>

<p>e.g.</p>

<pre><code>function feedback_add_instance(stdClass $mod) {
   global $DB;

   $newmodule-&gt;timecreated = time();

   // You may have to add extra stuff in here.

   $newmodule-&gt;id = $DB-&gt;insert_record('exams', $newmodule);

   unicexams_grade_item_update($newmodule);

   return $newmodule-&gt;id;
}
</code></pre>

<p>But then again: What is the <code>$mod</code> variable? What does it contain and how to construct it?</p>

<p>Does anyone has knowledge on the subject? Or something to advise?</p>",4,php|moodle
32967768,Charset UTF-8 and php header() not working,"<p>I am having some problems with the charset on my website. I can't get the UTF-8 charset to work and I get �  instead of Å. Yes, I have searched around the web for answers and I've already used the following code:</p>

<pre><code>&lt;!DOCTYPE HTML&gt;
&lt;head&gt;
    &lt;?php header('Content-type: text/html; charset=utf-8'); ?&gt;
    &lt;meta http-equiv=""Content-Type"" content=""text/html"" charset=utf-8"" /&gt;
    &lt;title&gt;&lt;?php echo $db_title; ?&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    Some content with letters æøå
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>The database uses <code>latin1_swedish_ci</code>.</p>

<p>Any idea what it could be?</p>",3,php|html|utf-8|character-encoding
32543445,Retweet through looping hashtaRetweet through looping hashtag and media cannot be uploaded with the tweetg and media cannot be uploaded with the tweet,"<p>I created the scenario in which the user can easily rewteet all the tweets available in the specific hashtag. I used the the some scenario but I will not retweet the tweet, and also stop working or showing 500 internal error. The second issue is related to the media not tweet with the status.</p>",1,php|api|twitter|media
32695352,Laravel search multiple values on pivot table,"<p>I'm trying to do a search on a belongs to many relationship.</p>

<p>I have links, and link tags, a link can have many link tags.</p>

<p>So what I'm trying to do is search for two tags, but I only want it to return links which have BOTH tags. So far I have this:</p>

<pre><code>        $links = Link::whereHas('linktags', function($q) use($query, $where) {
            $q-&gt;whereIn('name', $query);
        })-&gt;with('linktags')-&gt;get();
</code></pre>

<p>This does search the relationship, and returns a result, but it matches ANY of the tags, not BOTH of them.</p>

<p>I've looked at the documentation but I cannot find a way of doing this. Any ideas?</p>",1,php|laravel|laravel-4|has-and-belongs-to-many
32540517,CakePhp foreach saving only last value in array,"<p>I have a problem, right now Im using this foreach loop on CakePhp on which I want to add all the values which are still not on the table for the respecting user. To give a little more context, the user has a menu. And the admin can select which one to add for the user to use. On the next code I receive a array with the menus which will be added as so:</p>

<pre><code>//This is what comes on the ['UserMenuAccessibility'] array:
    Array ( [menu_accessibility_id2] =&gt; 2 [menu_accessibility_id3] =&gt; 3 [menu_accessibility_id4] =&gt; 4 [menu_accessibility_id5] =&gt; 5 [menu_accessibility_id8] =&gt; 8 ) 
</code></pre>

<p>I get the ids of the menus which want to be added to the table for the user to use. And I use the next code to add the menus to the table if they are not there still:</p>

<pre><code>//I check if the array has something cause it can come with no ids.    
if (!(isset($this-&gt;request-&gt;data['UserMenuAccessibility']))) {
        $this-&gt;request-&gt;data['UserMenuAccessibility'] = array();
    }

    $UserMenuAccessibility = $this-&gt;request-&gt;data['UserMenuAccessibility'];

    foreach ($UserMenuAccessibility as $key =&gt; $value) {

        $conditions = array(
            'UserMenuAccessibility.menu_accessibility_id' =&gt; $value, 
            'UserMenuAccessibility.users_id' =&gt; $id
        );

        if ($this-&gt;User-&gt;UserMenuAccessibility-&gt;hasAny($conditions)) {

        }  else {
            $valuemenu['UserMenuAccessibility']['users_id'] = $id;
            $valuemenu['UserMenuAccessibility']['menu_accessibility_id'] = $value;
            if ($this-&gt;User-&gt;UserMenuAccessibility-&gt;save($valuemenu)) {

            } else {
                $this-&gt;Session-&gt;setFlash(__('The user could not be saved. Please, try again.'));
            }
        }
    }
</code></pre>

<p>For some reason the array is only saving the last new id which is not on the table and not the rest. For example if I have menu 1 and 2 and add 3 and 4 only 4 gets added to the table. For some reason I cant add all the missing menu ids to the table. Any ideas why this is happening? </p>

<p>Thanks for the help on advance.</p>",1,arrays|loops|cakephp|foreach
32542631,Preserve the folder structure when creating a Zip archive,"<p>I want to create a zip file and copy all the folders and files from a directory to it. It is successfully created and contains the files and folders, but the file tree is not preserved, everything being in the root directory.</p>

<p>My directory:</p>

<pre><code>folder/
    test.txt
    test2.txt
test.php
</code></pre>

<p>The zip archive:</p>

<pre><code>folder/
test.txt
test2.txt
test.php
</code></pre>

<p>This is my code:</p>

<pre><code>public function createZipFromDir($dir, $zip_file) {
    $zip = new ZipArchive();
    if(true !== $zip-&gt;open($zip_file, ZIPARCHIVE::CREATE | ZIPARCHIVE::OVERWRITE)) {
        return false;
    }

    $this-&gt;zipDir($dir, $zip);
    return $zip;
}

public function zipDir($dir, $zip) {
    $dir = rtrim($dir, DIRECTORY_SEPARATOR) . DIRECTORY_SEPARATOR;
    $files = scandir($dir);
    foreach($files as $file) {
        if(in_array($file, array('.', '..'))) continue;
        if(is_dir($dir . $file)) {
            $zip-&gt;addEmptyDir($file);
            $this-&gt;zipDir($dir . $file, $zip);
        } else {
            $zip-&gt;addFile($dir . $file, $file);
        }
    }
}

$zip = $this-&gt;createZipFromDir($rootPath, $archiveName);
</code></pre>",0,php
32647464,Session conflicts with multiple Laravel projects on one server,"<p>I have a shared server for several <code>Laravel</code> projects. Example:</p>

<pre><code>x.x.x.x/project1
x.x.x.x/project2
</code></pre>

<p>My problem is that when I try to login in <code>project1</code>, <code>project2</code> will automatically logout. Is it because of <code>Laravel</code> sessions?</p>

<p>Could someone suggest what I should do?</p>",1,php|laravel-5.1
32692480,Symfony UrlGeneratorInterface::ABSOLUTE_URL,"<p>Symfony 2.6.11 I need base url I use UrlGeneratorInterface::ABSOLUTE_URL</p>

<pre><code>$base_url = UrlGeneratorInterface::ABSOLUTE_URL;
</code></pre>

<p>and have true, but I need url How I can get base URL?</p>",2,php|symfony|routing
32654688,Laravel 5.1 - Built in password reset functionality not sending email with token,"<p><strong>OVERVIEW:</strong></p>

<p>I'm creating a password reset functionality using the built in system in Laravel 5.1, I have followed the instructions exactly how it says <a href=""http://laravel.com/docs/5.1/authentication#resetting-routing"" rel=""nofollow"">here</a>.</p>

<p>The view in <code>resources/views/emails/password.blade.php</code> receives a variable <code>$token</code> which contains the password reset token to match the user to the password reset request. Within the view, I have the following code which is supposed to create a URL link of the page where the user set the new password:</p>

<pre><code>   Click here to reset your password: {{ url('password/reset/'.$token) }}
</code></pre>

<p><strong>PROBLEM:</strong></p>

<p>It does not send the email at all. But I have realized that, if I remove the last trailing slash (see below):</p>

<pre><code>   Click here to reset your password: {{ url('password/reset'.$token) }}
</code></pre>

<p>I receive something like <code>http://mywebsite.com/password/reset35df435dfgdfg...</code></p>

<p><strong>CONCLUSION:</strong></p>

<p>Whenever there is a trailing slash between <code>password/reset/</code> and the <code>$token</code>, the email is not sent. Even when I manually type the URL.</p>

<p>Why would the <code>/</code> before the <code>$token</code> affect on the email being sent? Any ideas?</p>

<p><strong>ATTEMPTED SOLUTIONS:</strong></p>

<pre><code> url('password/reset', [$token]); //DID NOT WORK

 action('Auth\PasswordController@getEmail', ['token' =&gt; $token]);  //DID NOT WORK

 route('password/email', ['token' =&gt; $token]); //DID NOT WORK

 url('password/reset/'.$token); //DID NOT WORK
</code></pre>",0,php|email|laravel|url|forgot-password
32800429,how to do a multidimensional array scope in angularjs?,"<p>I have a json value which contains list of countries and list of states. I need to split these value into two scopes</p>

<p>$scope.countries and $scope.states</p>

<p>on change of country sate should change based on country.</p>

<p>Here is my sample json</p>

<pre><code>{""country"":[{""name"":""Aruba"",""state"":[{""name"":""\u00e2\u20ac\u201c""}]},{""name"":""Afghanistan"",""state"":[{""name"":""Balkh""},{""name"":""Herat""},{""name"":""Kabol""},{""name"":""Qandahar""}]},{""name"":""Angola"",""state"":[{""name"":""Benguela""},{""name"":""Huambo""},{""name"":""Luanda""},{""name"":""Namibe""}]},{""name"":""Anguilla"",""state"":[{""name"":""\u00e2\u20ac\u201c""}]},{""name"":""Albania"",""state"":[{""name"":""Tirana""}]},{""name"":""Andorra"",""state"":[{""name"":""Andorra la Vella""}]},{""name"":""Netherlands Antilles"",""state"":[{""name"":""Cura\u00c3\u00a7ao""}]},{""name"":""United Arab Emirates"",""state"":[{""name"":""Abu Dhabi""},{""name"":""Ajman""},{""name"":""Dubai""},{""name"":""Sharja""}]},{""name"":""Argentina"",""state"":[{""name"":""Buenos Aires""},{""name"":""Catamarca""},{""name"":""C\u00c3\u00b3rdoba""},{""name"":""Chaco""},{""name"":""Chubut""},{""name"":""Corrientes""},{""name"":""Distrito Federal""},{""name"":""Entre Rios""},{""name"":""Formosa""},{""name"":""Jujuy""},{""name"":""La Rioja""},{""name"":""Mendoza""},{""name"":""Misiones""},{""name"":""Neuqu\u00c3\u00a9n""},{""name"":""Salta""},{""name"":""San Juan""},{""name"":""San Luis""},{""name"":""Santa F\u00c3\u00a9""},{""name"":""Santiago del Estero""},{""name"":""Tucum\u00c3\u00a1n""}]},{""name"":""Armenia"",""state"":[{""name"":""Lori""},{""name"":""Yerevan""},{""name"":""\u00c5 irak""}]},{""name"":""American Samoa"",""state"":[{""name"":""Tutuila""}]},{""name"":""Antarctica""},{""name"":""French Southern territories""},{""name"":""Antigua and Barbuda"",""state"":[{""name"":""St John""}]},{""name"":""Australia"",""state"":[{""name"":""Capital Region""},{""name"":""New South Wales""},{""name"":""Queensland""},{""name"":""South Australia""},{""name"":""Tasmania""},{""name"":""Victoria""},{""name"":""West Australia""}]},{""name"":""Austria"",""state"":[{""name"":""K\u00c3\u00a4rnten""},{""name"":""North Austria""},{""name"":""Salzburg""},{""name"":""Steiermark""},{""name"":""Tiroli""},{""name"":""Wien""}]},{""name"":""Azerbaijan"",""state"":[{""name"":""Baki""},{""name"":""G\u00c3\u00a4nc\u00c3\u00a4""}]},{""name"":""Saudi Arabia"",""state"":[{""name"":""al-Khudud al-Samaliy""},{""name"":""al-Qasim""},{""name"":""al-Sharqiya""},{""name"":""Asir""},{""name"":""Hail""},{""name"":""Medina""},{""name"":""Mekka""},{""name"":""Najran""},{""name"":""Qasim""},{""name"":""Riad""},{""name"":""Riyadh""},{""name"":""Tabuk""}]},{""name"":""Sudan"",""state"":[{""name"":""al-Bahr al-Abyad""},{""name"":""al-Bahr al-Ahmar""},{""name"":""al-Jazira""},{""name"":""al-Qadarif""},{""name"":""Bahr al-Jabal""},{""name"":""Darfur al-Janubiya""},{""name"":""Darfur al-Shamaliya""},{""name"":""Kassala""},{""name"":""Khartum""},{""name"":""Kurdufan al-Shamaliy""}]},{""name"":""Senegal"",""state"":[{""name"":""Cap-Vert""},{""name"":""Diourbel""},{""name"":""Kaolack""},{""name"":""Saint-Louis""},{""name"":""Thi\u00c3\u00a8s""},{""name"":""Ziguinchor""}]},{""name"":""Singapore"",""state"":[{""name"":""\u00e2\u20ac\u201c""}]},{""name"":""South Georgia and the South Sa""},{""name"":""Saint Helena"",""state"":[{""name"":""Saint Helena""}]},{""name"":""Svalbard and Jan Mayen"",""state"":[{""name"":""L\u00c3\u00a4nsimaa""}]},{""name"":""Solomon Islands"",""state"":[{""name"":""Honiara""}]},{""name"":""Sierra Leone"",""state"":[{""name"":""Western""}]},{""name"":""El Salvador"",""state"":[{""name"":""La Libertad""},{""name"":""San Miguel""},{""name"":""San Salvador""},{""name"":""Santa Ana""}]},{""name"":""San Marino"",""state"":[{""name"":""San Marino""},{""name"":""Serravalle\/Dogano""}]},{""name"":""Somalia"",""state"":[{""name"":""Banaadir""},{""name"":""Jubbada Hoose""},{""name"":""Woqooyi Galbeed""}]},{""name"":""Saint Pierre and Miquelon"",""state"":[{""name"":""Saint-Pierre""}]},{""name"":""Sao Tome and Principe"",""state"":[{""name"":""Aqua Grande""}]},{""name"":""Suriname"",""state"":[{""name"":""Paramaribo""}]},{""name"":""Slovakia"",""state"":[{""name"":""Bratislava""},{""name"":""V\u00c3\u00bdchodn\u00c3\u00a9 Slovensko""}]},{""name"":""Slovenia"",""state"":[{""name"":""Osrednjeslovenska""},{""name"":""Podravska""}]},{""name"":""Sweden"",""state"":[{""name"":""\u00c3\u2013rebros l\u00c3\u00a4n""},{""name"":""East G\u00c3\u00b6tanmaan l\u00c3\u00a4n""},{""name"":""G\u00c3\u00a4vleborgs l\u00c3\u00a4n""},{""name"":""J\u00c3\u00b6nk\u00c3\u00b6pings l\u00c3\u00a4n""},{""name"":""Lisboa""},{""name"":""Sk\u00c3\u00a5ne l\u00c3\u00a4n""},{""name"":""Uppsala l\u00c3\u00a4n""},{""name"":""V\u00c3\u00a4sterbottens l\u00c3\u00a4n""},{""name"":""V\u00c3\u00a4sternorrlands l\u00c3\u00a4""},{""name"":""V\u00c3\u00a4stmanlands l\u00c3\u00a4n""},{""name"":""West G\u00c3\u00b6tanmaan l\u00c3\u00a4n""}]},{""name"":""Swaziland"",""state"":[{""name"":""Hhohho""}]},{""name"":""Seychelles"",""state"":[{""name"":""Mah\u00c3\u00a9""}]},{""name"":""Syria"",""state"":[{""name"":""al-Hasaka""},{""name"":""al-Raqqa""},{""name"":""Aleppo""},{""name"":""Damascus""},{""name"":""Damaskos""},{""name"":""Dayr al-Zawr""},{""name"":""Hama""},{""name"":""Hims""},{""name"":""Idlib""},{""name"":""Latakia""}]},{""name"":""Turks and Caicos Islands"",""state"":[{""name"":""Grand Turk""}]},{""name"":""Chad"",""state"":[{""name"":""Chari-Baguirmi""},{""name"":""Logone Occidental""}]},{""name"":""Togo"",""state"":[{""name"":""Maritime""}]},{""name"":""Thailand"",""state"":[{""name"":""Bangkok""},{""name"":""Chiang Mai""},{""name"":""Khon Kaen""},{""name"":""Nakhon Pathom""},{""name"":""Nakhon Ratchasima""},{""name"":""Nakhon Sawan""},{""name"":""Nonthaburi""},{""name"":""Songkhla""},{""name"":""Ubon Ratchathani""},{""name"":""Udon Thani""}]},{""name"":""Tajikistan"",""state"":[{""name"":""Karotegin""},{""name"":""Khujand""}]},{""name"":""Tokelau"",""state"":[{""name"":""Fakaofo""}]},{""name"":""Turkmenistan"",""state"":[{""name"":""Ahal""},{""name"":""Dashhowuz""},{""name"":""Lebap""},{""name"":""Mary""}]},{""name"":""East Timor"",""state"":[{""name"":""Dili""}]},{""name"":""Tonga"",""state"":[{""name"":""Tongatapu""}]},{""name"":""Trinidad and Tobago"",""state"":[{""name"":""Caroni""},{""name"":""Port-of-Spain""}]},{""name"":""Tunisia"",""state"":[{""name"":""Ariana""},{""name"":""Biserta""},{""name"":""Gab\u00c3\u00a8s""},{""name"":""Kairouan""},{""name"":""Sfax""},{""name"":""Sousse""},{""name"":""Tunis""}]},{""name"":""Turkey"",""state"":[{""name"":""Adana""},{""name"":""Adiyaman""},{""name"":""Afyon""},{""name"":""Aksaray""},{""name"":""Ankara""},{""name"":""Antalya""},{""name"":""Aydin""},{""name"":""\u00c3\u2021orum""},{""name"":""Balikesir""},{""name"":""Batman""},{""name"":""Bursa""},{""name"":""Denizli""},{""name"":""Diyarbakir""},{""name"":""Edirne""},{""name"":""El\u00c3\u00a2zig""},{""name"":""Erzincan""},{""name"":""Erzurum""},{""name"":""Eskisehir""},{""name"":""Gaziantep""},{""name"":""Hatay""},{""name"":""I\u00c3\u00a7el""},{""name"":""Isparta""},{""name"":""Istanbul""},{""name"":""Izmir""},{""name"":""Kahramanmaras""},{""name"":""Karab\u00c3\u00bck""},{""name"":""Karaman""},{""name"":""Kars""},{""name"":""Kayseri""},{""name"":""K\u00c3\u00bctahya""},{""name"":""Kilis""},{""name"":""Kirikkale""},{""name"":""Kocaeli""},{""name"":""Konya""},{""name"":""Malatya""},{""name"":""Manisa""},{""name"":""Mardin""},{""name"":""Ordu""},{""name"":""Osmaniye""},{""name"":""Sakarya""},{""name"":""Samsun""},{""name"":""Sanliurfa""},{""name"":""Siirt""},{""name"":""Sivas""},{""name"":""Tekirdag""},{""name"":""Tokat""},{""name"":""Trabzon""},{""name"":""Usak""},{""name"":""Van""},{""name"":""Zonguldak""}]},{""name"":""Tuvalu"",""state"":[{""name"":""Funafuti""}]},{""name"":""Taiwan"",""state"":[{""name"":""""},{""name"":""Changhwa""},{""name"":""Chiayi""},{""name"":""Hsinchu""},{""name"":""Hualien""},{""name"":""Ilan""},{""name"":""Kaohsiung""},{""name"":""Keelung""},{""name"":""Miaoli""},{""name"":""Nantou""},{""name"":""Pingtung""},{""name"":""Taichung""},{""name"":""Tainan""},{""name"":""Taipei""},{""name"":""Taitung""},{""name"":""Taoyuan""},{""name"":""Y\u00c3\u00bcnlin""}]},{""name"":""Tanzania"",""state"":[{""name"":""Arusha""},{""name"":""Dar es Salaam""},{""name"":""Dodoma""},{""name"":""Kilimanjaro""},{""name"":""Mbeya""},{""name"":""Morogoro""},{""name"":""Mwanza""},{""name"":""Tabora""},{""name"":""Tanga""},{""name"":""Zanzibar West""}]},{""name"":""Uganda"",""state"":[{""name"":""Central""}]},{""name"":""Ukraine"",""state"":[{""name"":""Dnipropetrovsk""},{""name"":""Donetsk""},{""name"":""Harkova""},{""name"":""Herson""},{""name"":""Hmelnytskyi""},{""name"":""Ivano-Frankivsk""},{""name"":""Kiova""},{""name"":""Kirovograd""},{""name"":""Krim""},{""name"":""Lugansk""},{""name"":""Lviv""},{""name"":""Mykolajiv""},{""name"":""Odesa""},{""name"":""Pultava""},{""name"":""Rivne""},{""name"":""Sumy""},{""name"":""Taka-Karpatia""},{""name"":""Ternopil""},{""name"":""T\u00c5\u00a1erkasy""},{""name"":""T\u00c5\u00a1ernigiv""},{""name"":""T\u00c5\u00a1ernivtsi""},{""name"":""Vinnytsja""},{""name"":""Volynia""},{""name"":""Zaporizzja""},{""name"":""Zytomyr""}]},{""name"":""United States Minor Outlying I""},{""name"":""Uruguay"",""state"":[{""name"":""Montevideo""}]},{""name"":""United States"",""state"":[{""name"":""Alabama""},{""name"":""Alaska""},{""name"":""Arizona""},{""name"":""Arkansas""},{""name"":""California""},{""name"":""Colorado""},{""name"":""Connecticut""},{""name"":""District of Columbia""},{""name"":""Florida""},{""name"":""Georgia""},{""name"":""Hawaii""},{""name"":""Idaho""},{""name"":""Illinois""},{""name"":""Indiana""},{""name"":""Iowa""},{""name"":""Kansas""},{""name"":""Kentucky""},{""name"":""Louisiana""},{""name"":""Maryland""},{""name"":""Massachusetts""},{""name"":""Michigan""},{""name"":""Minnesota""},{""name"":""Mississippi""},{""name"":""Missouri""},{""name"":""Montana""},{""name"":""Nebraska""},{""name"":""Nevada""},{""name"":""New Hampshire""},{""name"":""New Jersey""},{""name"":""New Mexico""},{""name"":""New York""},{""name"":""North Carolina""},{""name"":""Ohio""},{""name"":""Oklahoma""},{""name"":""Oregon""},{""name"":""Pennsylvania""},{""name"":""Rhode Island""},{""name"":""South Carolina""},{""name"":""South Dakota""},{""name"":""Tennessee""},{""name"":""Texas""},{""name"":""Utah""},{""name"":""Virginia""},{""name"":""Washington""},{""name"":""Wisconsin""}]},{""name"":""Uzbekistan"",""state"":[{""name"":""Andijon""},{""name"":""Buhoro""},{""name"":""Cizah""},{""name"":""Fargona""},{""name"":""Karakalpakistan""},{""name"":""Khorazm""},{""name"":""Namangan""},{""name"":""Navoi""},{""name"":""Qashqadaryo""},{""name"":""Samarkand""},{""name"":""Surkhondaryo""},{""name"":""Toskent""},{""name"":""Toskent Shahri""}]},{""name"":""Holy See (Vatican City State)"",""state"":[{""name"":""\u00e2\u20ac\u201c""}]},{""name"":""Saint Vincent and the Grenadin""},{""name"":""Venezuela"",""state"":[{""name"":""""},{""name"":""Anzo\u00c3\u00a1tegui""},{""name"":""Apure""},{""name"":""Aragua""},{""name"":""Barinas""},{""name"":""Bol\u00c3\u00advar""},{""name"":""Carabobo""},{""name"":""Distrito Federal""},{""name"":""Falc\u00c3\u00b3n""},{""name"":""Gu\u00c3\u00a1rico""},{""name"":""Lara""},{""name"":""M\u00c3\u00a9rida""},{""name"":""Miranda""},{""name"":""Monagas""},{""name"":""Portuguesa""},{""name"":""Sucre""},{""name"":""T\u00c3\u00a1chira""},{""name"":""Trujillo""},{""name"":""Yaracuy""},{""name"":""Zulia""}]},{""name"":""Virgin Islands, British"",""state"":[{""name"":""Tortola""}]},{""name"":""Virgin Islands, U.S."",""state"":[{""name"":""St Thomas""}]},{""name"":""Vietnam"",""state"":[{""name"":""An Giang""},{""name"":""Ba Ria-Vung Tau""},{""name"":""Bac Thai""},{""name"":""Binh Dinh""},{""name"":""Binh Thuan""},{""name"":""Can Tho""},{""name"":""Dac Lac""},{""name"":""Dong Nai""},{""name"":""Haiphong""},{""name"":""Hanoi""},{""name"":""Ho Chi Minh City""},{""name"":""Khanh Hoa""},{""name"":""Kien Giang""},{""name"":""Lam Dong""},{""name"":""Nam Ha""},{""name"":""Nghe An""},{""name"":""Quang Binh""},{""name"":""Quang Nam-Da Nang""},{""name"":""Quang Ninh""},{""name"":""Thua Thien-Hue""},{""name"":""Tien Giang""}]},{""name"":""Vanuatu"",""state"":[{""name"":""Shefa""}]},{""name"":""Wallis and Futuna"",""state"":[{""name"":""Wallis""}]},{""name"":""Samoa"",""state"":[{""name"":""Upolu""}]},{""name"":""Yemen"",""state"":[{""name"":""Aden""},{""name"":""Hadramawt""},{""name"":""Hodeida""},{""name"":""Ibb""},{""name"":""Sanaa""},{""name"":""Taizz""}]},{""name"":""Yugoslavia"",""state"":[{""name"":""Central Serbia""},{""name"":""Kosovo and Metohija""},{""name"":""Montenegro""},{""name"":""Vojvodina""}]},{""name"":""South Africa"",""state"":[{""name"":""Eastern Cape""},{""name"":""Free State""},{""name"":""Gauteng""},{""name"":""KwaZulu-Natal""},{""name"":""Mpumalanga""},{""name"":""North West""},{""name"":""Northern Cape""},{""name"":""Western Cape""}]}]}
</code></pre>

<p>here controller js code</p>

<pre><code> $scope.states = [];
        $scope.countries = [];
        var arrayState = [];
    $http.get(site_url+'assets/countrylist.json').success(function(data) 
    {
        angular.forEach(data.country, function(value,key)
            {
                $scope.countries[key] = value.name;

                angular.forEach(value.state, function(stateItem,statekey)
                {

                    $scope.states[key][statekey] = stateItem.name ;
                    console.log($scope.states);

                });
            });

        });
</code></pre>

<p>html</p>

<pre><code>&lt;select id=""deployCountry"" name=""deployCountry"" ng-options=""cn as cn for cn in countries"" ng-model=""selectedCountry"" ng-change=""changeCountry(selectedCountry)""&gt;
                    &lt;option value=""""&gt;Select Country&lt;/option&gt;
                &lt;/select&gt;                       
</code></pre>

<p>Angularjs on change function is here</p>

<pre><code>$scope.changeCountry = function(countrySelected)
        {
            $scope.state = $scope.states[countrySelected]
        };
</code></pre>

<p>onchange of country i need to populate sates of selected country.</p>

<p>How i can implement this. the above code showing error ""cannot set property '0' undefined"" on this line <code>$scope.states[key][statekey] = stateItem.name ;</code> </p>

<p>Thanks in advance</p>",3,javascript|php|json|angularjs
32561432,GraphicsMagick PHP extension fails to render Google Fonts in SVG,"<p>My Ubuntu 14.04 laptop has GraphicsMagick and the PHP extension (GMagick) installed. When I run the following from the command line, </p>

<p>gm convert -font /usr/share/fonts/truetype/google-fonts/RockSalt.ttf svg_file.svg jpeg_file.jpg </p>

<p>renders the JPEG with the font as desired. However, this PHP code</p>

<pre><code>$gm = new Gmagick();
$draw = new GmagickDraw();
$draw-&gt;setfont(""/usr/share/fonts/truetype/google-fonts/RockSalt.ttf"");
$gm-&gt;readImageBlob($svg);
$gm-&gt;setImageFormat(""jpeg"");
$gm-&gt;drawimage($draw);
$gm-&gt;writeImage($jpgFile);
$gm-&gt;clear();
</code></pre>

<p>Fails to do the same and creates a JPEG with a default font. What could be the issue here?</p>

<p>This is the SVG:</p>

<pre><code>&lt;?xml version=""1.0""?&gt;&lt;svg xmlns=""http://www.w3.org/2000/svg""    xmlns:svg=""http://www.w3.org/2000/svg"" xmlns:xlink=""http://www.w3.org/1999/xlink"" width=""737"" height=""521""&gt;&lt;defs/&gt; &lt;g class=""main""&gt;  &lt;title&gt;Main&lt;/title&gt;  &lt;rect fill=""#ffffff"" stroke-width=""0"" x=""27.24188"" y=""429.44421"" width=""682.51626"" height=""68.18413"" id=""svg_2"" class=""element"" opacity=""0.75"" stroke=""#000000""/&gt;  &lt;g text-anchor=""start"" font-family=""Rock Salt"" fill=""#000"" font-size=""20"" class=""element textarea"" id=""svg_3""&gt;   &lt;rect opacity=""0""  stroke-width=""0"" x=""27.24188"" y=""429.44421"" width=""682.51626"" height=""68.18413"" id=""svg_4""/&gt;   &lt;g class=""textGroup""&gt;    &lt;text class=""eol"" y=""470.98331"" x=""44.46314"" xml:space=""preserve""&gt;Your&amp;#xA0;memories&amp;#xA0;will&amp;#xA0;last&amp;#xA0;forever&lt;/text&gt;   &lt;/g&gt;  &lt;/g&gt; &lt;/g&gt;&lt;/svg&gt;
</code></pre>",2,php|graphicsmagick|gmagick
32596530,TinyMCE Post Image Upload to Custom URL,"<p>In order to upload images to my server I need to post to a specific URL so that I can handle it on the back end. TinyMCE seems to provide support for such functionality, but it's not entirely clear or explicit about it.</p>

<p>I tried using JustBoil.Me to upload the image, but the way it's set up does not play nicely with my Laravel and URL setup.</p>

<p>Have any of you had to do this before?</p>

<p>I found this resource to be very helpful, but the lack of literature on this topic is shocking:</p>

<ul>
<li><a href=""https://pixabay.com/en/blog/posts/direct-image-uploads-in-tinymce-4-42/"" rel=""nofollow"">Direct Image Uploads in TinyMCE 4</a> (it would be amazing to see a PHP/Laravel server side code snippet on how to return something that TinyMCE can process)</li>
</ul>",1,php|upload|tinymce
32850266,Laravel 4.2 - Can't update my database when user session timeout with Event,"<p>I currently have a problem with my laravel(4.2) app.</p>

<p>I want to update my database when the user is offline by the end of session (Automatic).</p>

<p>So I put the lifetime session to 1 minute for testing.</p>

<p>I create an event file :</p>

<pre><code>&lt;?php

Event::listen('auth.login', function($user)
{
    $user-&gt;is_online        = 1;
    $user-&gt;save();
});

Event::listen('auth.logout', function($user)
{
    $user-&gt;is_online        = 0;
    $user-&gt;save();
});
</code></pre>

<p>Everything works perfectly when I log in or log out manually but when I get automatically disconnected by the end of the session it does not work.</p>

<p>If you have an idea I would appreciate</p>

<p>Thanks.</p>",0,php|session|laravel
32774708,How to Avoid Notice: Undefined index in php and set default value,"<p>I want a default value and get rid off the notice. Below is my code </p>

<pre><code>&lt;?php
$color = $_POST[""color""]; //initialize variable
if (!isset($color)){    // if nothing selected set default to Blue
    $color = 'Blue';
}
echo $color;    
?&gt;
</code></pre>

<p>So when I run the code and nothing is selected and the blue value (as it is set for default) does show up but the notice message also shows up. I want to get rid of the notice message completely. I have tried array_key_exists as well. Still can not get rid of the notice.</p>

<p>below is the notice I'm getting.
Notice: Undefined index: color in C:\xampp\htdocs\test3\Assignment_1_Q2.php on line 17 </p>

<p>Thank you in advance.</p>",-3,php|xampp
32783152,Symfony form datetime to return unix timestamp,"<p>i want  to get the unix time using the symfony form</p>

<p>i tried with :</p>

<pre><code>$form = $this-&gt;createFormBuilder()
        -&gt;add(
            'source','text',array(
                'attr' =&gt; array('placeholder'=&gt; 'z.B Hamburg',
                    'id'=&gt; 'dirSource'),
                'label'=&gt; false
            )
        )
        -&gt;add('destination','text',array(
                'attr' =&gt; array('placeholder'=&gt;'z.B Berlin',
                    'id'=&gt; 'dirDirections'),
                'label'=&gt; false
            )
        )
        -&gt;add('time', 'datetime', array(
            'input'  =&gt; 'datetime',
            'data' =&gt; date_create(),
            'widget' =&gt; 'choice',
        ))
        -&gt;add('Berechen','submit')
        -&gt;getForm();
    $form-&gt;handleRequest($request);

$url2 = ""https://maps.googleapis.com/maps/api/directions/json?origin=Berlin&amp;destination=Hamburg&amp;mode=transit&amp;departure_time="".$timee.""&amp;key="" . $key;
</code></pre>

<p>I want to send the unix timestamp value to the google map.</p>

<p>But it returns array....</p>

<p>in the twig </p>

<pre><code>{{ time|date('U') }}
</code></pre>

<p>I also tried with <strong><em>strtotime</em></strong> but it returns error</p>",0,php|symfony
32675160,Laravel 5.1 Eloquent with() and max() using multiple has-many relationships,"<p>I'm trying to use Eloquent to find the max value of a column on the last table of a multiple has-many relationship.</p>

<p>Given the following table structure.</p>

<p>Buildings</p>

<pre><code>+----+---------------+
| id | building_name |
+----+---------------+
|  1 | Building 1    |
|  2 | Building 2    |
+----+---------------+
</code></pre>

<p>Rooms</p>

<pre><code>+----+-----------+-------------+
| id | room_name | building_id |
+----+-----------+-------------+
|  1 | Room 1    |           1 |
|  2 | Room 2    |           1 |
|  3 | Room 3    |           2 |
+----+-----------+-------------+
</code></pre>

<p>maintenancelog</p>

<pre><code>+----+-------------------+---------+---------------------+
| id | maintenance_value | room_id |      timestamp      |
+----+-------------------+---------+---------------------+
|  1 | Cleaned           |       1 | 2015-09-06 00:54:59 |
|  2 | Cleaned           |       1 | 2015-09-06 01:55:59 |
|  3 | Cleaned           |       2 | 2015-09-06 02:56:59 |
|  4 | Cleaned           |       2 | 2015-09-06 03:57:59 |
|  5 | Cleaned           |       3 | 2015-09-06 04:58:59 |
|  6 | Cleaned           |       3 | 2015-09-06 05:59:59 |
+----+-------------------+---------+---------------------+
</code></pre>

<p>I'd like to see if it's possible to generate an eloquent statement that would retrieve the building name, room name, and ONLY the LAST maintenance log date value.</p>

<p>The following works to give me a collection of ALL the values.</p>

<pre><code>$buildings = Building::with('rooms.maintenancelog')-&gt;get();
</code></pre>

<p>but this errors out, and it looks like it's trying to call max(maintenancelog.timestamp) on the buildings table..</p>

<pre><code>$buildings = Building::with('rooms.maintenancelog')-&gt;max('maintenancelog.timestamp')-&gt;get();
</code></pre>

<p>Error returned:</p>

<pre><code>.....(SQL: select max(`maintenancelog`.`timestamp`) as aggregate from `buildings`)
</code></pre>

<p>Am I just asking too much from eloquent, and should I just use the basic query builder</p>",2,php|mysql|laravel-5|eloquent
32652120,Context::getContext() how to use in Prestashop Bankwire module,"<p>I have some problem with getting delivery country on bankwire order step.
I try in <code>modules/bankwire/bankwire.php</code> <code>function __construct()</code> with <code>Context::getContext();</code> get country name like this:</p>

<pre><code>$context = Context::getContext();
$this-&gt;context-&gt;smarty-&gt;assign('country_name', $context-&gt;country-&gt;name[1]);
</code></pre>

<p>and nothing. But in Cart.php it works fine with:</p>

<pre><code>$context = Context::getContext();
if ($context-&gt;country-&gt;name[1] == 'Germany') {}
</code></pre>

<p>Also I try to get country name in same <code>modules/bankwire/bankwire.php</code>  like this:</p>

<pre><code>$context = Context::getContext();
$delivery = new Address($context-&gt;cart-&gt;id_address_delivery);
$this-&gt;context-&gt;smarty-&gt;assign('country_name', $delivery-&gt;country);
</code></pre>

<p>And get nothing too. But in <code>ParentOrderController.php</code> it works with:</p>

<pre><code>$address = new Address($this-&gt;context-&gt;cart-&gt;id_address_delivery);
$this-&gt;context-&gt;smarty-&gt;assign('country_name', $address-&gt;country);
</code></pre>

<p>Please can you tell me how can I get country name in bankwire and how can I use Context::getContext()?</p>

<p>Thanks</p>",3,php|oop|module|smarty|prestashop-1.6
32681899,How to add a news section and add links to phpbb forum,"<p>Hey there im in the middle of editing my site, and i came across this site, and am looking to get my site as the same layout with the navigation bars and such, but im new to phpbb so am stuck :( here is the site <a href=""http://www.3commandobrigade.com/"" rel=""nofollow"">http://www.3commandobrigade.com/</a></p>

<p>when you go to the home tab it shows all the posts that are posted in the ""News"" section under the category General forums </p>

<p>and also how do i add the nav links like on that site, so it has Home, Forum, Schedule, i was under the idea it was something like ""Nav Links""
thanks!</p>",0,forum|phpbb
32848457,Onelogin SAML PHP toolkit - can it be used with a none onelogin SAML Identity Provider?,"<p>I am looking for a solution to implementing SAML authentication with in house ADFS and shibboleth Idp's (identity provider) .</p>

<p>Does anyone have experience of using onelogin php toolkit?</p>

<p>Is this library suitable or just for use with the onelogin SAML Idp?</p>

<p><a href=""https://github.com/onelogin/php-saml"" rel=""nofollow"">https://github.com/onelogin/php-saml</a></p>

<p>It looks promising, the other option could be simpleSamlphp - but onelogin seems more adopted.</p>

<p>Many thanks</p>",0,php|saml|onelogin
32619212,php Get all values from multidimensional associative array,"<p>how can i get all values from multidimensional associative array
I dont want to use print_r want to control my array put all the value in normal array with unique values
 my array is look like this </p>

<pre><code>array (size=10)
  0 =&gt; 
    array (size=3)
      0 =&gt; 
        array (size=1)
          'Campaign' =&gt; string 'DEMO' (length=4)
      1 =&gt; 
        array (size=1)
          'Campaign' =&gt; string 'Home_Sec' (length=8)
      2 =&gt; 
        array (size=1)
          'Campaign' =&gt; string '' (length=0)
  1 =&gt; 
    array (size=0)
      empty
  2 =&gt; 
    array (size=0)
      empty
  3 =&gt; 
    array (size=1)
      0 =&gt; 
        array (size=1)
          'Campaign' =&gt; string 'Back_Brace' (length=10)
  4 =&gt; 
    array (size=2)
      0 =&gt; 
        array (size=1)
          'Campaign' =&gt; string 'Home_Sec' (length=8)
      1 =&gt; 
        array (size=1)
          'Campaign' =&gt; string '' (length=0)
  5 =&gt; 
    array (size=1)
      0 =&gt; 
        array (size=1)
          'Campaign' =&gt; string 'home_Sec_2' (length=10)
  6 =&gt; 
    array (size=1)
      0 =&gt; 
        array (size=1)
          'Campaign' =&gt; string 'Burial_Ins' (length=10)
  7 =&gt; 
    array (size=0)
      empty
  8 =&gt; 
    array (size=0)
      empty
  9 =&gt; 
    array (size=0)
      empty
</code></pre>

<p>I dont want to use print_r want to control my array put all the value in normal array with unique values</p>",1,php|multidimensional-array|associative-array
32841355,how to save data from Bootstrap Modal using Codeigniter?,"<p>I am trying to save data inserted from a modal. Now i have a view called users where i show the list of users.now if admin clicks on add more users it opens a bootstap modal where i have a field called no of users requested. So whatever value the admin fills that must be save into database. I am confused on how to save this.</p>

<blockquote>
  <p>Edited...................................................</p>
</blockquote>

<p>After reseller logs in he can request more users to admin so i created that modal to request the users required so i want to store the number of users required by that reseller along with his/her key </p>

<p>My Controller is :</p>

<pre><code>public function index ()
{
     $usertype=$this-&gt;session-&gt;userdata('usertype');
    if($usertype ===""reseller"")
    {
    $key= $this-&gt;session-&gt;userdata('key');

    $this-&gt;db-&gt;where(""key"",$this-&gt;session-&gt;userdata('key'));        
    $this-&gt;data['users'] = $this-&gt;user_m-&gt;get();


    // Load view
    $this-&gt;data['subview'] = 'reseller/user/index';
    $this-&gt;load-&gt;view('reseller/_layout_main', $this-&gt;data);
}
else
{
    $this-&gt;load-&gt;view('permission');

}

}
</code></pre>

<p>My view Is :</p>

<pre><code>    &lt;a href=""#"" class=""btn btn-success"" data-toggle=""modal"" data-target=""#myModal""&gt;Request More Users&lt;/a&gt;

    &lt;div id=""myModal"" class=""modal fade"" role=""dialog""&gt;
      &lt;div class=""modal-dialog""&gt;

        &lt;!-- Modal content--&gt;
        &lt;div class=""modal-content""&gt;
          &lt;div class=""modal-header""&gt;
            &lt;button type=""button"" class=""close"" data-dismiss=""modal""&gt;&amp;times;&lt;/button&gt;
            &lt;h4 class=""modal-title""&gt;Add the number of users you want&lt;/h4&gt;
          &lt;/div&gt;
          &lt;div class=""modal-body""&gt;
            &lt;form id=""loginForm"" method=""post"" class=""form-horizontal""&gt;
                        &lt;div class=""form-group""&gt;
                            &lt;label class=""col-xs-3 control-label""&gt;Number Of Users&lt;/label&gt;
                            &lt;div class=""col-xs-5""&gt;
                                &lt;input type=""text"" class=""form-control"" name=""username"" id=""spinnerInput"" /&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class=""form-group""&gt;
                            &lt;label class=""col-xs-3 control-label""&gt;Password&lt;/label&gt;
                            &lt;div class=""col-xs-5""&gt;
                                &lt;input type=""password"" class=""form-control"" name=""password"" /&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class=""form-group""&gt;
                            &lt;div class=""col-xs-5 col-xs-offset-3""&gt;
                                &lt;button type=""submit"" class=""btn btn-primary""&gt;Submit&lt;/button&gt;

                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
          &lt;/div&gt;
          &lt;div class=""modal-footer""&gt;
            &lt;button type=""button"" class=""btn btn-default"" data-dismiss=""modal""&gt;Close&lt;/button&gt;
          &lt;/div&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/div&gt;
</code></pre>",1,php|twitter-bootstrap|codeigniter
32611085,php to keep prompting for input and storing responses,"<p>I am not sure what this is called  exactly but I found a php script which i would like to understand how it works and build something similar.</p>

<p>Basically, the user needs to enter some information into a box and then has the option to add another response or to finish. Each response is stored in a seperate string variable.</p>

<p>You can find a work sample from a site I found here:
<a href=""http://www.claushc.dk/ssl/pkcs7create.php"" rel=""nofollow"">http://www.claushc.dk/ssl/pkcs7create.php</a></p>

<p>In the above example the site will only work if you paste in ssl certificate data - you can use the following certificate to test with:</p>

<pre class=""lang-none prettyprint-override""><code>-----BEGIN CERTIFICATE-----
MIIDITCCAoqgAwIBAgIQT52W2WawmStUwpV8tBV9TTANBgkqhkiG9w0BAQUFADBM
MQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkg
THRkLjEWMBQGA1UEAxMNVGhhd3RlIFNHQyBDQTAeFw0xMTEwMjYwMDAwMDBaFw0x
MzA5MzAyMzU5NTlaMGgxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlh
MRYwFAYDVQQHFA1Nb3VudGFpbiBWaWV3MRMwEQYDVQQKFApHb29nbGUgSW5jMRcw
FQYDVQQDFA53d3cuZ29vZ2xlLmNvbTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkC
gYEA3rcmQ6aZhc04pxUJuc8PycNVjIjujI0oJyRLKl6g2Bb6YRhLz21ggNM1QDJy
wI8S2OVOj7my9tkVXlqGMaO6hqpryNlxjMzNJxMenUJdOPanrO/6YvMYgdQkRn8B
d3zGKokUmbuYOR2oGfs5AER9G5RqeC1prcB6LPrQ2iASmNMCAwEAAaOB5zCB5DAM
BgNVHRMBAf8EAjAAMDYGA1UdHwQvMC0wK6ApoCeGJWh0dHA6Ly9jcmwudGhhd3Rl
LmNvbS9UaGF3dGVTR0NDQS5jcmwwKAYDVR0lBCEwHwYIKwYBBQUHAwEGCCsGAQUF
BwMCBglghkgBhvhCBAEwcgYIKwYBBQUHAQEEZjBkMCIGCCsGAQUFBzABhhZodHRw
Oi8vb2NzcC50aGF3dGUuY29tMD4GCCsGAQUFBzAChjJodHRwOi8vd3d3LnRoYXd0
ZS5jb20vcmVwb3NpdG9yeS9UaGF3dGVfU0dDX0NBLmNydDANBgkqhkiG9w0BAQUF
AAOBgQAhrNWuyjSJWsKrUtKyNGadeqvu5nzVfsJcKLt0AMkQH0IT/GmKHiSgAgDp
ulvKGQSy068Bsn5fFNum21K5mvMSf3yinDtvmX3qUA12IxL/92ZzKbeVCq3Yi7Le
IOkKcGQRCMha8X2e7GmlpdWC1ycenlbN0nbVeSv3JUMcafC4+Q==
-----END CERTIFICATE-----
</code></pre>

<p>Of course this idea doesn't necessarily need to be used with certificate but I just want to know how the php script can hold the string whilst wait for another input from the user and keep storing input without losing the previous input..</p>",1,php
32568588,Possible to use Windows workstation session to authenticate apache httpd user?,"<p>Is it possible to use a Windows session to authenticate a user so that my Apache httpd/PHP web application won't require additional authentication?  I would want to know from the Windows session who the user is so I can restrict functions on a per user basis, but I don't want the user to have to log in again.</p>

<p>I see some articles about using LDAP from Apache, but it's not clear to me if that just lets me verify the login information after requesting credentials or if it allows me to make the login seamless/invisible...</p>",0,php|apache|authentication|windows-authentication
32798651,Echo JSON object in PHP from posting through AJAX,"<p>I don't know what I did wrong, but I have this form where an admin can insert students from multiple fields. For example, the admin wants to insert five students, each student having an <code>idNumber</code>, <code>firstName</code>, <code>middleName</code>, <code>lastName</code>, <code>courseYear</code>, and <code>section</code>. I grouped all the values with same properties because I thought I could access them easily in the php file since they will be having the same indices.</p>

<p>Here is my ajax code where i looped the values and inserted them in an array through accessing their class' index:</p>

<pre><code>for(var x=0; x &lt; fieldsLength; x++) {
    id_number[x] = $('#addStudMainTable tbody tr:eq(' + x + ') .add_stud_id_number').val();
    first_name[x] = $('#addStudMainTable tbody tr:eq(' + x + ') .add_stud_firstname').val();
    mid_name[x] = $('#addStudMainTable tbody tr:eq(' + x + ') .add_stud_midname').val();
    last_name[x] = $('#addStudMainTable tbody tr:eq(' + x + ') .add_stud_lastname').val();
    course_year[x] = $('#addStudMainTable tbody tr:eq(' + x + ') .add_stud_courseyear').val();
    section[x] = $('#addStudMainTable tbody tr:eq(' + x + ') .add_stud_section').val();
    }
</code></pre>

<p>This where I made those arrays as an object and the ajax:</p>

<pre><code>var data = {
    idNumber: id_number,
    firstName: first_name,
    middleName: mid_name,
    lastName: last_name,
    courseYear: course_year,
    section: section
};

var dataJson = JSON.stringify(data);

$.ajax({
    type: ""POST"",
    url: ""manage_add_student.php"",
    datatype: ""json"",
    data: {dataJson: dataJson},
    success: function(result) {
    $(""#showResultVarDump"").html(result);
    },
});
</code></pre>

<p>Open submitting the form, I get the posted object and in the php file I <code>json_decode</code>-ed it and I get all them to be displayed using <code>var_dump</code> but I cannot access them by their property and index and I get a lot of error like:</p>

<pre><code>Warning: json_decode() expects parameter 1 to be string, array given in...
Trying to get property of non-object in...
Fatal error: Cannot use object of type stdClass as array in...
Notice: Undefined offset: 1 in...
</code></pre>

<p>What I really wanted to do is access them through their property and index so I could insert them in the database but I don't know how.</p>

<p>Can someone please help me I really don't know what I'm doing now and what I should do.</p>

<ul>
<li>No hates please but just helps as I can really be very noob at this. Thank you.</li>
</ul>",1,php|jquery|mysql|json|ajax
32805876,imap dont show all folders,"<p>I work on a webmail with imap,
I connet to imap with :</p>

<pre><code>   $IMAPHostname = ""localhost"";
    $IMAPPort = ""143"";
    $IMAPFlags = ""/novalidate-cert"";
</code></pre>

<p>I connet with</p>

<pre><code>$Folder=""INBOX.Drafts"";

$Mailbox ='{'.$IMAPHostname."":"".$IMAPPort.$IMAPFlags.'}'.$Folder;
$imap = imap_open ($Mailbox, $session-&gt;username.""@mydomain.com"", $session-&gt;password);
</code></pre>

<p>I get list folder by :</p>

<pre><code>$list = imap_list($mailbox, ""{imap.mydomain.com}"", ""*"");
</code></pre>

<p>Output :</p>

<pre><code>""pass"",""INBOX.Drafts"",""INBOX.Trash"",""INBOX.spam"",""INBOX.Sent"",""errors reports"",""Spam"",""INBOX""
</code></pre>

<p>when I try :</p>

<pre><code>imap_append($imap, ""INBOX.Drafts"", $mail-&gt;getSentMIMEMessage(), ""\\Seen"");
</code></pre>

<p>show this error :</p>

<blockquote>
  <p>""Can't append to mailbox INBOX.Drafts: no such mailbox""</p>
</blockquote>

<p>when I get count message in draft return 2 mails.
what's wrong?</p>",2,php|imap|inbox
32815686,Filter contents of SQL output table,"<p>I am new to PHP and SQL.
I have created a html table displaying sql database output.Now i want to create a filter content column which lets user to filter the table contents on basis of values submitted through filter form.
here's the code</p>

<pre><code>&lt;div class=""filter""&gt;
    &lt;label&gt;Stream:&lt;/label&gt;
    &lt;select name=""stream"" form=""filtersubmit"" required&gt;
        &lt;option value=""""&gt;Select&lt;/option&gt;
        &lt;option value=""AB""&gt;AB&lt;/option&gt;
        &lt;option value=""BC""&gt;BC&lt;/option&gt;
        &lt;option value=""CD""&gt;CD&lt;/option&gt;
    &lt;/select&gt;
    &lt;label&gt;College:&lt;/label&gt;
    &lt;select name=""college"" form=""filtersubmit""&gt;
        &lt;option value=""""&gt;Select&lt;/option&gt;
        &lt;option value=""XY""&gt;XY&lt;/option&gt;
        &lt;option value=""YZ""&gt;YZ&lt;/option&gt;
    &lt;/select&gt;

    &lt;form id=""filtersubmit""&gt;
        &lt;input type=""submit"" value=""Filter""&gt;
    &lt;/form&gt;
&lt;/div&gt;
&lt;div class=""feed""&gt;

&lt;?php

$conn4 = new mysqli(""127.0.0.1"", ""root"", """", ""signup"");
$hfeed = ""SELECT id,college,stream ,price FROM items"";
$resfeed = $conn4-&gt;query($hfeed);

echo ""&lt;table class='table table-hover'&gt;"";
echo ""&lt;thead&gt;&lt;tr&gt;&lt;th&gt;College&lt;/th&gt;&lt;th&gt;Stream&lt;/th&gt;&lt;th&gt;Price&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;"";
if ($resfeed-&gt;num_rows &gt; 0) {
    while ($row = $resfeed-&gt;fetch_assoc()) {
        echo ""&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;"" . $row[""College""] . ""&lt;/td&gt;&lt;td&gt;"" . $row[""stream""] . ""&lt;/td&gt;&lt;td&gt;"" . $row[""price""] . ""&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;"";
    }
} else {
    echo ""No data found!"";
}

echo ""&lt;/table&gt;"";
</code></pre>

<p>i am using form type filter section ,is that the right way ?
what should i use so that when a filter is selected the content updates without reloading the page.
Should i output my sql table using JSon and AJAx or Jquery.
i dont know jquery,so any help with some code would be useful.</p>",0,php|jquery|html|sql|ajax
32637154,Add class to PHP echo JHtml,"<p>I'm trying to add a class to the image below:</p>

<pre><code>&lt;?php 
   echo JHtml::_('image', 
                 $item-&gt;thumbnail,
                 $image_width, 
                 null, 
                 $this-&gt;escape($item-&gt;title)); 
?&gt;
</code></pre>

<p>I tried the solution on <a href=""https://stackoverflow.com/questions/21825763/how-to-add-a-bootstrap-class-to-jhtml-in-joomla"">this topic</a> but it didn't work.</p>

<p>The result I'm trying to achieve is to add <code>class=""scale""</code> to the <code>&lt;img&gt;</code> tag.</p>",0,php|html|image|class|joomla
32599278,PHPUnit cannot find classes namespace,"<p>I'm trying to run some unit tests using PHPUnit, but, when I use the command line to test, my test class cannot find the namespace from my main class.</p>

<p>This is my folder structure:</p>

<pre><code>data/ 
src/
    Dao/
    Entity/
        City.php
    Facade/
    SplClassLoader.php 
tests/
    Entity/
        CityTest.php
    bootstrap.php
    phpunit.xml 
vendor/ 
composer.json 
composer.lock
</code></pre>

<p>This is the content of one of my classes inside /src/Entity/</p>

<pre><code>&lt;?php

namespace Entity;

class City
{
    /**
     * @var int
     */
    private $id;
</code></pre>

<p>my phpunit.xml</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
&lt;phpunit bootstrap=""../vendor/autoload.php""&gt;
    &lt;testsuites&gt;
        &lt;testsuite name=""Application Test""&gt;
            &lt;directory&gt;tests&lt;/directory&gt;
        &lt;/testsuite&gt;
    &lt;/testsuites&gt;
&lt;/phpunit&gt;
</code></pre>

<p>And my CityTest.php</p>

<pre><code>&lt;?php

class CityTest extends PHPUnit_Framework_TestCase
{
    public function testAdd()
    {
        $city = new Entity\City(1, ""London"");
    }
}
</code></pre>

<p>When I run the command <code>phpunit tests/Entity/CityTest.php</code> I got this message error:</p>

<blockquote>
  <p>PHP Fatal error:  Class 'Entity\City' not found</p>
</blockquote>

<p>What can I do to fix this problem?</p>

<p>Thank you.</p>

<p><strong>Update</strong></p>

<p>I've resolved my problem with some updates. Here is my final folder structure:</p>

<pre><code>data/  
src/  
tests/  
vendor/
composer.json*  
composer.lock*
phpunit.xml*
</code></pre>

<p>phpunit.xml</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
&lt;phpunit backupGlobals=""false""
         backupStaticAttributes=""false""
         bootstrap=""vendor/autoload.php""
         colors=""true""
         convertErrorsToExceptions=""true""
         convertNoticesToExceptions=""true""
         convertWarningsToExceptions=""true""
         processIsolation=""false""
         stopOnFailure=""false""
         syntaxCheck=""false""
        &gt;
    &lt;testsuites&gt;
        &lt;testsuite name=""Application Test Suite""&gt;
            &lt;directory&gt;./tests/&lt;/directory&gt;
        &lt;/testsuite&gt;
    &lt;/testsuites&gt;
&lt;/phpunit&gt;
</code></pre>

<p>composer.json</p>

<pre><code>""require-dev"": {
    ""phpunit/phpunit"": ""4.8.*""
  },

  ""config"": {
    ""process-timeout"": 600,
    ""preferred-install"": ""dist"",
    ""github-protocols"": [""https""]
  },

  ""autoload"": {
    ""psr-4"": {
      """": ""src/""
    }
  },
</code></pre>",3,php|namespaces|phpunit
32961691,PHP PDO Multiple Table join,"<p>I have multiple tables and I want to access the fields in a specific table. Here are the table <code>schemas</code>:</p>

<p><a href=""https://i.stack.imgur.com/CkVg5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CkVg5.png"" alt=""enter image description here""></a></p>

<p>Each <code>tbl_acct</code> has one <code>tbl_unit</code>. A <code>tbl_unit</code> has many <code>tbl_groups</code> and a <code>tbl_groupcontact</code> consist of the contacts and the related group. Every time I log in, I set a session where <code>$_SESSION['unitid'] = $row['unitid'];</code>.</p>

<p>What I wanted to do is to access the fields in the <code>tbl_contacts</code>. For now my code is here:</p>

<pre><code>$data = $conn-&gt;prepare(""SELECT * FROM tbl_groups LEFT JOIN tbl_groupcontact ON tbl_groups.id=tbl_groupcontact.group_id WHERE tbl_groups.unitid = ?"");
$data-&gt;execute(array($_SESSION['unitid']));
foreach ($data as $row) {
    echo $row['fname'] . "" "" . $row['lname']. ""&lt;br /&gt;""; 
}
</code></pre>

<p>As you can see, I can related the <code>tbl_groups</code> and <code>tbl_groupcontact</code> in my code however, I can't get the fields in the <code>tbl_contacts</code>. Am I missing something here? Any help would be much appreciated.</p>",0,php|mysql|pdo
32693688,Remove &quot from json using laravel,"<p>Hello I wanted to know how to use blade variable in javascript.
here is my query in laravel</p>

<pre><code>$users=json_encode(DB::table('ledger')-&gt;select('name','openingbalance')-&gt;get());
</code></pre>

<p>I'm trying to access this in my javascript file like shown below </p>

<pre><code>var users =""{{ $users }}"";
</code></pre>

<p>and I get output as shown below:</p>

<pre><code>[
      {&amp;quot;name&amp;quot;:&amp;quot;Harsh&amp;quot;,&amp;quot;openingbalance&amp;quot;:&amp;quot;5755.00&amp;quot;},      
      {&amp;quot;name&amp;quot;:&amp;quot;Harh&amp;quot;,&amp;quot;openingbalance&amp;quot;:&amp;quot;-12000.00&amp;quot;},
      {&amp;quot;name&amp;quot;:&amp;quot;gfgfhgf&amp;quot;,&amp;quot;openingbalance&amp;quot;:&amp;quot;-333.00&amp;quot;}
]
</code></pre>

<p>I wanted to know how to remove &amp;quot so i get a perfect json to use.</p>",15,javascript|php|json|laravel
32569596,Order wp_page_listging results postdate desc,"<p>I need to list pages in one block by postdate desc. Now the code I have it is listing pages like this. exmp in case getpages 404,4012,414 - it is getting first all posts from 404 than all post from 4012 and than all from 414. That means if i have 8 posts 5 month ago in 404 and I'll write a new post today in 4012 ID , in the listing parent page it will be updated like first 8 posts from 404 ID and after my today's post with parent id  4012. Have you guys any idea how to merge results in whole one block and not one block separated on several blocks? Will be happy for every anwswer .THANKS</p>

<p>this is what I have. BTF it is a wordpress and it is page listings.</p>

<pre><code> &lt;div id=""archive-thumbnails-listing"" &gt;
    &lt;?php $pages = array();
    foreach (array(404, 4012, 414) as $id) {
    $pages = array_merge($pages, get_pages(array('child_of' =&gt; $id ,'sort_column' =&gt; 'post_date', 'sort_order' =&gt; 'desc' )));
    } ?&gt;
    &lt;?php foreach ($pages as $page): ?&gt;
    &lt;div class=""thumb12wrap""&gt;
    &lt;a href=""&lt;?php echo get_the_permalink($page-&gt;ID); ?&gt;""&gt;
    &lt;?php echo get_the_post_thumbnail($page-&gt;ID, 'full'); ?&gt;&lt;/a&gt;
    &lt;div class=""thumbwrapper88""&gt;
    &lt;div class=""shade23desc"" &gt;&lt;a class=""desc""  href=""&lt;?php echo get_the_permalink($page-&gt;ID); ?&gt;""&gt;&lt;?php echo $page-&gt;post_title; ?&gt;&lt;/a&gt;&lt;/div&gt;
    &lt;a class=""descarea""  href=""&lt;?php echo get_the_permalink($page-&gt;ID); ?&gt;""&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;   
    &lt;?php endforeach; ?&gt;
    &lt;/div&gt;
    &lt;/div&gt;
</code></pre>",0,php|wordpress
32669859,What is the best way to maintain relevance of figures?,"<p>We have 2 tables - <code>Orders</code> and <code>Payment_Methods</code>.</p>

<p><code>Orders</code> have <code>payment_method_id</code> column where we have foreign key for <code>Payment_Methods</code> table. At all we have 2 payment methods (cash / online payment).</p>

<p>Every 4 hours we have money collection from the cash inbox.
In our business it is very important to have exact current cash inbox figures.</p>

<p>Here are 2 ways of building current state of cash inbox.</p>

<p>1) Set up a table / field in database where we will have current cash inbox value. We will change it with each order saving. But it is hard to say how many checks we should do because payment statuses and payment methods in any order could be changed.</p>

<p>2) We should every time sum all order totals (<code>total</code> column) and minus all collections.</p>

<p>I know that I've written this in a very primitive way but I hope that I've managed to describe you the main problem.</p>",1,php|mysql|database
32963579,"Repeating instruction until not allowed anymore, then jump to other part of code","<p>I need to repeat somes instructions over and over, up until the third party API I'm calling doesn't allow me to do it anymore for the current time window, and then jump to another part of the code. Is it a good idea to do it this way ?</p>

<pre><code>foreach ($elements as $element){
    try {
       //a call to an external API (using $element)
    }
    catch(Exception $e) {
        goto next;
    }
}
next:
  //the remaining of my code
</code></pre>

<p>If no, how should I do it ?</p>

<p>Thanks</p>",1,php
32618650,Wordpress database in git,"<p>I'm trying to set up a workflow that allows me to develop a single Wordpress theme locally on both my home machine and my laptop since I spend quite a bit of time away.  I use git to keep my files all synced up but the issue I'm finding is the database.  Currently I can only run Wordpress successfully in the machine I install it in, the other giving me the ""Error establishing a database connection"", definitely expected as I don't push the database up.  My question is, how do I include the Wordpress database in my git repo?  Or if that's not possible (or wouldn't even work anyway) is there a way to successfully develop a Wordpress theme on two machines both locally?  This front-end dev would really appreciate all you awesome back-end gurus' assistance!</p>",0,php|mysql|wordpress|git
32737519,Show product category under each product,"<p>I'm trying to show each products category, right under the product image on the shop page.</p>

<p><strong><a href=""http://watchband.dk/butik/"" rel=""nofollow"">Here's the current page</a></strong></p>

<p><strong><a href=""http://i.imgur.com/BUQcUOV.jpg"" rel=""nofollow"">Here's where I want to display the category name</a></strong></p>

<p>I have tried with the following code, but it doesn't seem like it can get the current product category from the functions.php file.</p>

<p><strong>And here it comes...</strong></p>

<pre><code>function sv_add_text_under_wc_shop_image() {

    echo $product-&gt;get_categories( ', ', '&lt;span class=""posted_in""&gt;' . _n( 'Category:', 'Categories:', sizeof( get_the_terms( $post-&gt;ID, 'product_cat' ) ) ) . ' ', '&lt;/span&gt;' );
}

add_action( 'woocommerce_before_shop_loop_item_title', 'sv_add_text_under_wc_shop_image', 10 );
</code></pre>",0,php|wordpress|wordpress-plugin|woocommerce
32990379,How can I unserialize my query results from MYSQL?,"<p>How my code looks now
<div class=""snippet"" data-lang=""js"" data-hide=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code> $client = $_GET['client_number_search'];
 

$sql=(""SELECT * FROM tobytemp.fcl_reports WHERE client_number = '"" . $client . ""'"");

$result = $dbLink-&gt;query($sql);




$arr = array();
 
while ($r = $result-&gt;fetch_object()) {
   $temp=[
      ""client_number"" =&gt; $r-&gt;client_number,
      ""client_name"" =&gt; $r-&gt;client_name,
      ""service"" =&gt; unserialize($r-&gt;service),
      ""volume"" =&gt; $r-&gt;volume,
      ""deliver_point"" =&gt; $r-&gt;deliver_point,
      ""port_orgin"" =&gt; $r-&gt;port_orgin,
      ""size"" =&gt; $r-&gt;size
   ];

    array_push($arr,$temp);

}
 
 echo json_encode($arr);





/* ERROR

Request Method:GET
Status Code:500 Internal Server Error



*/</code></pre>
</div>
</div>
</p>

<p>Current Data populated in my table like this - </p>

<pre><code>service - a:2:{i:0;s:6:""Inport"";i:1;s:6:""Export"";}
</code></pre>

<p>I would like it to be shown something like - </p>

<pre><code>Service-
Import
Export 
</code></pre>

<p>(I CANT USE PHP ON MY <code>clientreports.html</code> page as I want to later use this as an APP on Phone gap).  </p>

<p><strong>AJAX CALL (clientreports.html)</strong> </p>

<pre><code>&lt;script type=""text/javascript""&gt;
    $(""#show_clientx"").click(function(e) {

        $(""table#client_profile"").empty();

        $.ajax({
            url: ""http://cmlsys/toby/client_profile.php?client_number_search="" + $(""#client_number"").val(),
            type: ""GET"",
            dataType: ""json"",
            success: function(html) {

                //  $(""table#client_profile"").append('&lt;tr&gt;&lt;th&gt;Client Number&lt;/th&gt;&lt;th&gt;Client Name&lt;/th&gt;&lt;th&gt;Address&lt;/th&gt;&lt;/tr&gt;');

                jQuery.each(html, function(key, value) {

                    $(""table#client_profile"").append('&lt;tr&gt;&lt;td&gt;' + value.client_number + '&lt;/td&gt;&lt;td&gt; client_name - ' + value.client_name + '&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;/br&gt;&lt;td&gt;service - ' + value.service + '&lt;/td&gt;&lt;/br&gt;&lt;td&gt;size - ' + value.size + '&lt;/td&gt;&lt;/br&gt;&lt;td&gt;volume - ' + value.volume + '&lt;/td&gt;&lt;/br&gt;&lt;td&gt;deliver_point -' + value.deliver_point + '&lt;/td&gt;&lt;/br&gt;&lt;td&gt;port_orgin - ' + value.port_orgin + '&lt;/td&gt;&lt;/tr&gt;');

                });

            },
            error: function(e) {
                console.log(""Error: "" + e);
            }
        });
    });
&lt;/script&gt;
</code></pre>

<p><strong>TO - client_profile.php</strong> </p>

<pre><code>$client = $_GET['client_number_search'];

$sql = (""SELECT * FROM tobytemp.fcl_reports WHERE client_number = '"".$client.
    ""'"");

$result = $dbLink - &gt; query($sql);            

$arr = array();

while ($r = $result - &gt; fetch_object()) {

    array_push($arr, array(""client_number"" =&gt; $r - &gt; client_number, ""client_name"" =&gt; $r - &gt; client_name, ""service"" =&gt; $r - &gt; service, ""size"" =&gt; $r - &gt; size, ""volume"" =&gt; $r - &gt; volume, ""deliver_point"" =&gt; $r - &gt; deliver_point, ""port_orgin"" =&gt; $r - &gt; port_orgin));

}

echo json_encode($arr);
</code></pre>

<p>Please Help</p>",0,javascript|php|jquery|ajax|serialization
32972324,Adding active class to parent and child element when child is active with PHP,"<p>Is there a solution for whenever the child element <code>Subpage1.php</code> or <code>Subpage2.php</code> is active, so that the parent element <code>practices.php</code> also gets the <code>class=""active""</code>?</p>

<pre><code>&lt;ul&gt;
    &lt;li class=""&lt;?php echo ($_SERVER['PHP_SELF'] == "" /index.php "" ? ""active "" : "" "");?&gt;""&gt;
        &lt;a href=""index.php""&gt;Start&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class=""&lt;?php echo ($_SERVER['PHP_SELF'] == "" /practices.php "" ? ""active "" : "" "");?&gt;""&gt;
        &lt;a href=""practices.php""&gt;Practices&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class=""&lt;?php echo ($_SERVER['PHP_SELF'] == "" /subpage1.php "" ? ""active "" : "" "");?&gt;""&gt;
                &lt;a href=""subpage1.php""&gt;Subpage1&lt;/a&gt;
            &lt;/li&gt;
            &lt;li class=""&lt;?php echo ($_SERVER['PHP_SELF'] == "" /subpage2.php "" ? ""active "" : "" "");?&gt;""&gt;
                &lt;a href=""subpage2.php""&gt;Subpage2&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p><a href=""https://stackoverflow.com/questions/8476225/php-set-active-link-on-page-using-includes/32969916#32969916"">A similar question was asked here, but the parent child problem couldn't be solved there</a></p>",0,php|html|drop-down-menu|submenu
32864928,How to have a multi tenant database in laravel where every tenant has multiple users?,"<p>So I am trying to understand how a multi tenant database approach works but I am confused in some places. I am trying to use it in Laravel and MySQL</p>

<p>I understand that I can have a databases for each tenant in my application so when a user logs in, I can just check which tenant it is and change the DB connection to use their database. I am guessing this is how it works.</p>

<p>But now here is where I start to get confused. The tenant that logs into the application will be able to create users and assign them roles which means that there is super admin which creates all the tenants but then there is also a super admin for a particular tenant which will creates users for the instance of the tenant itself.</p>

<p>So now how will I authenticate users in such a situation. For example, I can authenticate a tenant and then change the DB connection to the appropriate database but then I will have to log in the user of that particular tenant and how will I keep two enitities logged in at the same time in the session?</p>

<p>I am guessing a multi auth package (like <a href=""https://github.com/sboo/multiauth"" rel=""nofollow"">Multi Auth</a>) might help in doing that but since I am new to this I am mostly blurry.</p>

<p>I am hopping someone has already encountered this problem and might be able to help me.</p>",1,php|mysql|laravel|multi-tenant|laravel-5.1
32777430,Open-source libraries for voice-chat using JavaScript and PHP,"<p>I am looking for a way to implement voice-chat in my site using PHP and JavaScript. Is there any open-source libraries that could be used for this. I would also use Flash if required, but I can't use anything else than Flash, JavaScript or PHP.</p>",1,javascript|php|flash
32804475,Upload files using CKeditor,"<p>I am using ckeditor and I am trying to upload file. 
This is my code:</p>

<pre><code>    @extends('app')
@section('header')
&lt;script type=""text/javascript"" src=""{{url('ckeditor/ckeditor.js')}}""&gt;&lt;/script&gt;
@endsection
@section('content')
&lt;div class=""container""&gt;

    @include('common.errors')
&lt;div class=""row""&gt;
                &lt;div class=""col-lg-12""&gt;

                            &lt;div class=""row""&gt;
                                &lt;div class=""col-lg-9""&gt;
    {!! Form::model($info, ['route' =&gt; ['infos.update', $info-&gt;id], 'method' =&gt; 'patch','files' =&gt; true]) !!}

        @include('infos.fields')

    {!! Form::close() !!}
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection
@section('footer')
&lt;script type=""text/javascript""&gt;
    CKEDITOR.replace('editor1',{

        filebrowserImageUploadUrl : ""{{route('infos.upload')}}"",
        filebrowserWindowWidth  : 800,
        filebrowserWindowHeight : 500
    });
    window.opener.CKEDITOR.tools.callFunction(CKEditorFuncNum,url);
&lt;/script&gt;
@endsection
</code></pre>

<p>Whenever I try to upload file, I get token mismatch error. The form builder automatically adds a hidden csrf field in the main form but since the file upload(POST request) from ckeditor happens through ajax it is giving me that error.  I know that I can disable this error but when I googled I found out that it was a bad practise to disable it. How can I stop getting this error and upload files?</p>",1,javascript|php|ckeditor|laravel-5.1
32965241,"What is equivalent for ""curl -v --noproxy localhost"" in php?","<p>I cannot curl localhost from php, but any other external host works fine.</p>

<p>From cmd I've tried ""curl localhost"" - it didn't work too, but ingnoring proxy for localhost ""curl -v --noproxy localhost"" - works. </p>

<p>What is equivalent for this in php?</p>",3,php|curl
32872331,Symfony Websockets: Logged User always returns anonym within Topic,"<blockquote>
  <p>I finally found the problem - but can't explain it well. The Webserver and Websocket Server are running on ""127.0.0.1:xyz"" each. When I access my website with ""127.0.0.1:xy/app_dev.php/account"" , everything is working, cookies are sent, read and the logged in user is given back by the clientManipulator.</p>
  
  <p>When I access my website with ""localhost:xy/app_dev.php/account"", I always get back an anonymous user and the cookies are not sent. Can someone explain this to me please - and will this have affects in production mode too ? (e.g. a user can also connect with the IP of the website - and then this would bring me to the same problem, wouldn't it ? )</p>
</blockquote>

<p>This question is related to <a href=""https://stackoverflow.com/questions/31454122/symfony-2-geniusesofsymfony-websocketbundle/31662286?noredirect=1#comment53567726_31662286"">this one</a>. (Symfony 2.7)</p>

<p>I have implemented the Gos Websocket Bundle and can now send messages in realtime to channels, where users can subscribe to. The problem currently is, that I don't have access to the currently logged in User within my Notification Topic class. I already tried all that was subscribed in the related post I linked to.</p>

<p>Currently, I am injecting the ""@security.token_storage"" into my topic - but as I said the behaviour is the same for the other approaches too. I think this is a ""cookie / domain"" problem, the cookies are not sent to the websocket server. Here is my configuration:</p>

<p><strong>Symfony / php Webserver:</strong> ""Server running on <a href=""http://127.0.0.1:8000"" rel=""nofollow noreferrer"">http://127.0.0.1:8000</a>""</p>

<p><strong>Gos websocket config.yml:</strong></p>

<pre><code>gos_web_socket:
  server:
    port: 8081        #The port the socket server will listen on
    host: 127.0.0.1   #The host ip to bind to
    router:
      resources:
        - @MessageBundle/Resources/config/pubsub/routing.yml
  client:
    firewall: main
    session_handler: @session.handler.pdo
  pushers:
    zmq:
        host: 127.0.0.1
        port: 5555
        persistent: true
        protocol: tcp
</code></pre>

<p><strong>@session.handler.pdo in services.yml:</strong></p>

<pre><code>pdo:
      class: PDO
      arguments:
          dsn: mysql:host=%database_host%;port=%database_port%;dbname=%database_name%
          user: %database_user%
          password: %database_password%
      calls:
          - [ setAttribute, [3, 2] ] # \PDO::ATTR_ERRMODE, \PDO::ERRMODE_EXCEPTION

session.handler.pdo:
      class:     Symfony\Component\HttpFoundation\Session\Storage\Handler\PdoSessionHandler
      arguments: [@pdo, {lock_mode: 0}]
</code></pre>

<p><strong>Framework session configured to use pdo handler:</strong></p>

<pre><code>session:
  # handler_id set to null will use default session handler from php.ini
  handler_id:  session.handler.pdo
</code></pre>

<p><strong>JavaScript part to connect client with websocket:</strong></p>

<pre><code>var webSocket = WS.connect(""ws://127.0.0.1:8000"");

webSocket.on(""socket/connect"", function(session){

    session.subscribe(""account/notification"", function(uri, payload){
        console.log(""Received message"", payload.msg);
    });

});
</code></pre>

<hr>

<p>This is my configuration, the token storage gets injected in a service for the Notification Topic. The ""onSubscribe"" method of the topic gets hit, but the user stays anonymous, even if I am logged in:</p>

<pre><code>public function onSubscribe(ConnectionInterface $connection, Topic $topic, WampRequest $request)
{
    // always returns anonym
    dump($this-&gt;tokenStorage-&gt;getToken()-&gt;getUser());die;
}
</code></pre>

<p>What did I miss ?</p>

<p>Regards.</p>",3,php|symfony|cookies|websocket|ratchet
32736260,PHP webhook script (bitbucket),"<p>I'm trying to attempt using a webhook script so that I can just commit locally and have the script triggered server-side and pull in any change. </p>

<p>Now if I login to the server via SSH and run <code>php webhook.php</code> the cript is triggered successfully and the files are updated. So I know the file does work. But if I make edits to the files, commit and push to master, I'm not seeing the files updated. </p>

<p>The log file produced by the script suggests everything is fine, but clearly it's not. </p>

<p>My file structure is like this:</p>

<pre><code>var
  www
    my-project
    - webhook.php
       repo-folder
</code></pre>

<p>So the file should be pulling the files into repo-folder and the webhook.php is set as the webhook via the bitbucket control panel. If I view the log within bitbucket, it's showing a successful request every time I push a commit. </p>

<p>The script:</p>

<pre><code>&lt;?php

date_default_timezone_set('Europe/London');

class Deploy {

    /**
     * A callback function to call after the deploy has finished.
     *
     * @var callback
     */
    public $post_deploy;

    /**
     * The name of the file that will be used for logging deployments. Set to
     * FALSE to disable logging.
     *
     * @var string
     */
    private $_log = 'deployments.log';

    /**
     * The timestamp format used for logging.
     *
     * @link    http://www.php.net/manual/en/function.date.php
     * @var     string
     */
    private $_date_format = 'Y-m-d H:i:sP';

    /**
     * The name of the branch to pull from.
     *
     * @var string
     */
    private $_branch = 'master';

    /**
     * The name of the remote to pull from.
     *
     * @var string
     */
    private $_remote = 'origin';

    /**
     * The directory where your website and git repository are located, can be
     * a relative or absolute path
     *
     * @var string
     */
    private $_directory;

    /**
     * Sets up defaults.
     *
     * @param  string  $directory  Directory where your website is located
     * @param  array   $data       Information about the deployment
     */
    public function __construct($directory, $options = array())
    {
        // Determine the directory path
        $this-&gt;_directory = realpath($directory).DIRECTORY_SEPARATOR;

        $available_options = array('log', 'date_format', 'branch', 'remote');

        foreach ($options as $option =&gt; $value)
        {
            if (in_array($option, $available_options))
            {
                $this-&gt;{'_'.$option} = $value;
            }
        }

        $this-&gt;log('Attempting deployment...');
    }

    /**
     * Writes a message to the log file.
     *
     * @param  string  $message  The message to write
     * @param  string  $type     The type of log message (e.g. INFO, DEBUG, ERROR, etc.)
     */
    public function log($message, $type = 'INFO')
    {
        if ($this-&gt;_log)
        {
            // Set the name of the log file
            $filename = $this-&gt;_log;

            if ( ! file_exists($filename))
            {
                // Create the log file
                file_put_contents($filename, '');

                // Allow anyone to write to log files
                chmod($filename, 0666);
            }

            // Write the message into the log file
            // Format: time --- type: message
            file_put_contents($filename, date($this-&gt;_date_format).' --- '.$type.': '.$message.PHP_EOL, FILE_APPEND);
        }
    }

    /**
     * Executes the necessary commands to deploy the website.
     */
    public function execute()
    {
        try
        {
            // Make sure we're in the right directory
            chdir($this-&gt;_directory);
            $this-&gt;log('Changing working directory... ');

            // Discard any changes to tracked files since our last deploy
            exec('git reset --hard HEAD', $output);
            $this-&gt;log('Reseting repository... '.implode(' ', $output));

            // Update the local repository
            exec('git pull '.$this-&gt;_remote.' '.$this-&gt;_branch, $output);
            $this-&gt;log('Pulling in changes... '.implode(' ', $output));

            // Secure the .git directory
            exec('chmod -R og-rx .git');
            $this-&gt;log('Securing .git directory... ');

            if (is_callable($this-&gt;post_deploy))
            {
                call_user_func($this-&gt;post_deploy, $this-&gt;_data);
            }

            $this-&gt;log('Deployment successful.');
        }
        catch (Exception $e)
        {
            $this-&gt;log($e, 'ERROR');
        }
    }

}

// This is just an example
$deploy = new Deploy('/var/www/site-name/repo-name');

$deploy-&gt;execute();

?&gt;
</code></pre>",0,php|git|bitbucket
32744896,Show error or success message after submitting form in bootstrap modal window,"<p>I have a form in a bootstrap modal window, whereby the form is being processed through php,- this part does work fine in fact. However, I would like to either show a success or fail message to the user either right within the modal window or at least on the same page as the user originally was (right now the messages are stated on a blank page created by my php file). I pretty much used the same mechanics (i.e. php ajax combination) before, the only difference being that I've never used this code within a modal window. Somehow I just don't get it to work. Any help is much appreciated:)</p>

<p>Here is the relevant part of my html code:</p>

<pre><code>&lt;div class=""container""&gt;
  &lt;div class=""row text-center orderprocess""&gt;
    &lt;div class=""col-sm-4 col-md-4 col-lg-4""&gt;
      &lt;div class=""frame_orderprocess""&gt;
        &lt;h1&gt;1&lt;/h1&gt;
        &lt;h2&gt;Dr&amp;aumlksak bestellen&lt;/h2&gt;
        &lt;p&gt;Bestellen Sie online oder nehmen Sie telefonisch Kontakt auf.&lt;/p&gt;
        &lt;img src=""img/Produkte/Draeksak/iconmonstr-email-4-icon-128.png"" class=""img-responsive center-block""/&gt;
      &lt;/div&gt;&lt;!--frame orderprocess--&gt;
      &lt;div class=""highlight""&gt;&lt;a href=""#myModal"" role=""button"" data-toggle=""modal"" class=""linktext""&gt;--&gt; Jetzt bestellen&lt;/a&gt;&lt;/div&gt;
      &lt;div id=""form-messages"" style=""margin-top:1em; font-size:1.4em;""&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;!--/col-4--&gt;


    &lt;!-- Modal --&gt;
    &lt;div id=""myModal"" class=""modal fade"" tabindex=""-1"" role=""dialog"" aria-labelledby=""myModalLabel"" aria-hidden=""true""&gt;
      &lt;div class=""modal-dialog""&gt;
        &lt;div class=""modal-content""&gt;
          &lt;div class=""modal-header""&gt;
            &lt;button type=""button"" class=""close"" data-dismiss=""modal"" aria-hidden=""true""&gt;&amp;times;&lt;/button&gt;
            &lt;h3 class=""modal-title""&gt;Dr&amp;aumlksak bestellen&lt;/h3&gt;
          &lt;/div&gt;
          &lt;div class=""modal-body""&gt;
            &lt;form role=""form"" id=""ajax"" method=""post"" action=""php/dsshop.php""&gt;
              &lt;div class=""container-fluid""&gt;
                &lt;div class=""row""&gt;
                  &lt;div class=""col-md-12""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""text"" class=""form-control"" id=""firma"" name=""firma"" required placeholder=""Firma (falls vorhanden)""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie Ihren Firmennamen ein (falls vorhanden).&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-12--&gt;
                &lt;/div&gt;&lt;!--/row--&gt;
                &lt;div class=""row""&gt;
                  &lt;div class=""col-md-6""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""text"" class=""form-control"" id=""vorname"" name=""vorname"" required placeholder=""Vorname""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie Ihren Vornamen ein.&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-6--&gt;
                  &lt;div class=""col-md-6""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""text"" class=""form-control"" id=""name"" name=""name"" required placeholder=""Name""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie Ihren Namen ein.&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-6--&gt;
                &lt;/div&gt;&lt;!--/row--&gt;
                &lt;div class=""row""&gt;
                  &lt;div class=""col-md-6""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""text"" class=""form-control"" id=""strasse"" name=""strasse"" required placeholder=""Strasse""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie Ihre Strasse ein.&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-5--&gt;
                  &lt;div class=""col-md-2""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""text"" class=""form-control"" id=""plz"" name=""plz"" required placeholder=""PLZ""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie Ihre Postleitzahl ein.&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-2--&gt;
                  &lt;div class=""col-md-4""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""text"" class=""form-control"" id=""ort"" name=""ort"" required placeholder=""Ort""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie Ihren Ort ein.&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-4--&gt;
                &lt;/div&gt;&lt;!--/row--&gt;
                &lt;div class=""row""&gt;
                  &lt;div class=""col-md-8""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""email"" class=""form-control"" id=""email"" name=""email"" required placeholder=""E-Mail Adresse""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie eine g&amp;uumltige E-Mail Adresse ein.&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-8--&gt;
                  &lt;div class=""col-md-4""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""text"" class=""form-control"" id=""telefon"" name=""telefon"" required placeholder=""Telefon""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie Ihren Ort ein.&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-4--&gt;
                &lt;/div&gt;&lt;!--/row--&gt;
                &lt;div class=""row""&gt;
                  &lt;div class=""col-md-5""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;tr id='artikel0' data-id=""0""&gt;
                        &lt;td data-name=""draeksak_artikel"" data-type=""select""&gt;
                          &lt;select name=""draeksak_artikel"" class=""form-control""&gt;
                            &lt;option value""1""&gt;Auswahl Produkt&lt;/option&gt;
                            &lt;option value""2""&gt;Dr&amp;aumlksak 1m3, CHF 37.00/Stk.&lt;/option&gt;
                            &lt;option value""3""&gt;Dr&amp;aumlksak 1m3, inkl. Abholung und Entsorgung (CHF 210.00/Stk.)&lt;/option&gt;
                          &lt;/select&gt;
                        &lt;/td&gt;
                      &lt;/tr&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-5--&gt;
                  &lt;div class=""col-md-3""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;input type=""text"" class=""form-control"" id=""anzahl"" name=""anzahl"" required placeholder=""Anzahl""&gt;
                      &lt;span class=""help-block"" style=""display: none;""&gt;Anzahl Produkt&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-3--&gt;
                  &lt;div class=""col-md-4""&gt;
                    &lt;div class=""form-group""&gt;
                      &lt;tr id='lieferung0' data-id=""1""&gt;
                        &lt;td data-name=""lieferung"" data-type=""select""&gt;
                          &lt;select name=""lieferung"" class=""form-control""&gt;
                            &lt;option value""1""&gt;Lieferung&lt;/option&gt;
                            &lt;option value""2""&gt;Ja, per Post senden (Porto CHF 10.00/Stk.)&lt;/option&gt;
                            &lt;option value""3""&gt;Nein, ich hole den Dr&amp;aumlksak vor Ort ab.&lt;/option&gt;
                          &lt;/select&gt;
                        &lt;/td&gt;
                      &lt;/tr&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;&lt;!--/col-4--&gt;
                &lt;/div&gt;&lt;!--/row--&gt;
                &lt;div class=""form-group""&gt;
                  &lt;textarea rows=""10"" cols=""100"" class=""form-control"" id=""message"" name=""message"" required placeholder=""Geben Sie hier Ihre Nachricht ein, falls erw&amp;#252;nscht.""&gt;&lt;/textarea&gt;
                  &lt;span class=""help-block"" style=""display: none;""&gt;Bitte geben Sie eine Nachricht ein.&lt;/span&gt;
                &lt;/div&gt;              
                &lt;button type=""submit"" class=""btn btn-primary btn-lg"" style=""display: block; margin-top: 10px;""&gt;Bestellen&lt;/button&gt;
              &lt;/div&gt;&lt;!--/container-fluid--&gt;  
            &lt;/form&gt; &lt;!--/form--&gt;
          &lt;/div&gt;&lt;!-- End of Modal body --&gt;
        &lt;/div&gt;&lt;!-- End of Modal content --&gt;
      &lt;/div&gt;&lt;!-- End of Modal dialog --&gt;
    &lt;/div&gt;&lt;!-- End of Modal --&gt;
</code></pre>

<p>And my .js file:</p>

<pre><code>$(function() {

// Get the form.
var form = $('#ajax');

// Get the messages div.
var formMessages = $('#form-messages');

// Set up an event listener for the contact form.
$(form).submit(function(e) {
    // Stop the browser from submitting the form.
    e.preventDefault();

    // Serialize the form data.
    var formData = $(form).serialize();

    // Submit the form using AJAX.
    $.ajax({
        type: 'POST',
        url: $(form).attr('action'),
        data: formData
    })
    .done(function(response) {
        // Make sure that the formMessages div has the 'success' class.
        $(formMessages).removeClass('error');
        $(formMessages).addClass('success');

        // Set the message text.
        $(formMessages).text(response);

        // Clear the form.
        $('#firma').val('');
        $('#vorname').val('');
        $('#name').val('');
        $('#strasse').val('');
        $('#plz').val('');
        $('#ort').val('');
        $('#email').val('');
        $('#telefon').val('');
        $('#draeksak_artikel').val('');
        $('#anzahl').val('');
        $('#lieferung').val('');
        $('#message').val('');
    })
    .fail(function(data) {
        // Make sure that the formMessages div has the 'error' class.
        $(formMessages).removeClass('success');
        $(formMessages).addClass('error');

        // Set the message text.
        if (data.responseText !== '') {
            $(formMessages).text(data.responseText);
        } else {
            $(formMessages).text('Ups! Leider ist ein Fehler aufgetreten und Ihre Bestellung konnte nicht versendet werden.');
        }
    });

}); });
</code></pre>

<p>And the php file, although that should be fine I guess:</p>

<pre><code>&lt;?php
// My modifications to mailer script from:
// http://blog.teamtreehouse.com/create-ajax-contact-form
// Added input sanitizing to prevent injection

// Only process POST requests.
if ($_SERVER[""REQUEST_METHOD""] == ""POST"") {
    // Get the form fields and remove whitespace.
    $firma = strip_tags(trim($_POST[""firma""]));
$firma = str_replace(array(""\r"",""\n""),array("" "","" ""),$firma);
    $vorname = strip_tags(trim($_POST[""vorname""]));
$vorname = str_replace(array(""\r"",""\n""),array("" "","" ""),$vorname);
    $name = strip_tags(trim($_POST[""name""]));
$name = str_replace(array(""\r"",""\n""),array("" "","" ""),$name);
    $strasse = strip_tags(trim($_POST[""strasse""]));
$strasse = str_replace(array(""\r"",""\n""),array("" "","" ""),$strasse);
    $plz = strip_tags(trim($_POST[""plz""]));
$plz = str_replace(array(""\r"",""\n""),array("" "","" ""),$plz);
    $ort = strip_tags(trim($_POST[""ort""]));
$ort = str_replace(array(""\r"",""\n""),array("" "","" ""),$ort);

    $email = filter_var(trim($_POST[""email""]), FILTER_SANITIZE_EMAIL);

    $telefon = strip_tags(trim($_POST[""telefon""]));
$telefon = str_replace(array(""\r"",""\n""),array("" "","" ""),$telefon);

    $draeksak_artikel = trim($_POST[""draeksak_artikel""]);
    $anzahl = trim($_POST[""anzahl""]);
    $lieferung = trim($_POST[""lieferung""]);
    $message = trim($_POST[""message""]);

    // Check that data was sent to the mailer.
    if ( empty($vorname) OR empty($name) OR empty($strasse) OR empty($plz) OR empty($ort)
        OR empty($email) OR empty($telefon) OR !filter_var($email, FILTER_VALIDATE_EMAIL)) {
        // Set a 400 (bad request) response code and exit.
        http_response_code(400);
        echo ""Ups! Leider ist ein Fehler aufgetreten. Bitte stellen Sie sicher, dass Sie alle Felder korrekt eingesetzt haben."";
        exit;
    }

    // Set the recipient email address.
    // FIXME: Update this to your desired email address.
    $recipient = ""asymmetrisch@gmail.com"";

    // Set the email subject.
    $subject = ""Bestellung Draeksak von unserer Webseite: $firma, $vorname, $name"";

    // Build the email content.
    $email_content = ""Firma: $firma\n"";
    $email_content .= ""Vorname: $vorname\n"";
    $email_content .= ""Name: $name\n"";
    $email_content .= ""Strasse: $strasse\n"";
    $email_content .= ""PLZ: $plz\n"";
    $email_content .= ""Ort: $ort\n"";
    $email_content .= ""Telefon: $telefon\n"";
    $email_content .= ""Email: $email\n\n"";
    $email_content .= ""Artikel: $draeksak_artikel\n"";
    $email_content .= ""Anzahl: $anzahl\n"";
    $email_content .= ""Lieferung: $lieferung\n"";
    $email_content .= ""Nachricht:\n$message\n"";

    // Build the email headers.
    $email_headers = ""From: $name &lt;$email&gt;"";

    // Send the email.
    if (mail($recipient, $subject, $email_content, $email_headers)) {
        // Set a 200 (okay) response code.
        http_response_code(200);
        echo ""Danke Ihnen, wir haben Ihre Bestellung erhalten und bearbeiten diese sofort."";
    } else {
        // Set a 500 (internal server error) response code.
        http_response_code(500);
        echo ""Ups! Etwas ist falsch gelaufen; leider konnte Ihre Bestellung nicht versendet werden."";
    }

} else {
    // Not a POST request, set a 403 (forbidden) response code.
    http_response_code(403);
    echo ""Es ist ein Problem aufgetreten. Ihre Bestellung konnte leider nicht versendet werden."";
} ?&gt;
</code></pre>

<p>As one can see, I have a div id=""form-messages"" where either the success or error message should be posted (right now it is outside of the modal window, which would also be fine). In the form tag I included an id=""ajax"" which is then referenced in the .js file. But google chrome tells me, that this is an uncaught typeError: $ is not a function, it says. It's worth mentioning that I included the following files on the bottom of my html file:</p>

<pre><code>&lt;!-- jQuery (necessary for Bootstrap's JavaScript plugins) --&gt;
&lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js""&gt;&lt;/script&gt;
&lt;script src=""js/ajax_dsshop.js""&gt;&lt;/script&gt;
&lt;!-- Include all compiled plugins (below), or include individual files as needed --&gt;
&lt;script src=""js/bootstrap.min.js""&gt;&lt;/script&gt;
&lt;!-- bxSlider Javascript file --&gt;
&lt;script src=""js/bx_slider/jquery.bxslider.min.js""&gt;&lt;/script&gt;
&lt;!-- bxSlider CSS file --&gt;
&lt;link href=""js/bx_slider/jquery.bxslider.css"" rel=""stylesheet"" /&gt;
&lt;script&gt;
</code></pre>",0,php|ajax|forms|twitter-bootstrap|modal-window
32542464,Laravel Request not found when called within a Controller's function,"<p>I am trying to authorise the user to submit a post request, by using a <code>Request</code> within Laravel. The error I am getting is:</p>

<blockquote>
  <p>ReflectionException in RouteDependencyResolverTrait.php line 57: Class
  App\Http\Controllers\UpdateClinicDescriptionFormRequest does not exist</p>
</blockquote>

<p>It's as if Laravel is trying to look within Controllers for the Request, but it's clearly in the Request's folder. </p>

<p>The <code>UpdateClinicDescriptionFormRequest.php</code> file is in the Request's folder. </p>

<p>The function trying to access to Request is:</p>

<pre><code> public function postUpdateDescription(UpdateClinicDescriptionFormRequest $request, $id)
 {
    $clinic = Clinic::find($id);

    $clinic-&gt;description = Input::get('description');
    $clinic-&gt;save();
    return redirect()-&gt;back();

}
</code></pre>

<p>Any help would be hugely appreciated.</p>",3,php|laravel|request|laravel-5
32549897,"Storing values in a particular format in the array, which are retrieved from a .csv file to the array in PHP","<p>An attribute from a .csv file which looks like:</p>

<pre><code>[[-8.585676,41.148522],[-8.585712,41.148639],[-8.585685,41.148855]]
</code></pre>

<p>I want to split this data into an 2D array USING PHP, which I want to look like this:</p>

<pre><code>arr[0][0] = -8.585676
arr[0][1] = 41.148522

arr[1][0] = -8.585712
arr[1][1] = -41.148639

arr[2][0] = -8.585685
arr[2][1] = 41.148855
</code></pre>

<p>I have done it like this:</p>

<pre><code>$arr = preg_split('[,]', $str);
    $n = count($arr);
    for($i=0;$i&lt;$n;$i++){
        echo $arr[$i];

        echo ""&lt;br&gt;"";
    }
    echo ""&lt;br&gt;&lt;br&gt;"";
</code></pre>

<p>Its output looks like:</p>

<pre><code>[[-8.585676
41.148522]
[-8.585712
41.148639]
[-8.585685
41.148855]
</code></pre>",0,php|arrays|csv
32852697,MySQL Determine if Query Run when No Change to DB Fields,"<p>I want to determine if this script was run regardless if there was a change to the database.</p>

<p>For Example:</p>

<p>1) If name was previously ""Joe"" then <code>$rowsAffect</code> returns the 'correct' answer ""1"".</p>

<p>2) If name was previously ""Bob"" then <code>$rowsAffect</code> returns the 'INCORRECT' answer ""0"".</p>

<p>Is there a variable I can use that will tell me the script was run?</p>

<pre><code>$query = ""UPDATE table
          SET name='Bob'
          WHERE id=25"";

$result =  $link-&gt;query($query);
$rowsAffect = mysqli_affected_rows($link);
</code></pre>",0,php|mysql
32956182,Warning: Illegal string offset from if statement,"<p>I am seeing the below error on my page:</p>

<blockquote>
  <p>Warning: Illegal string offset 'status' in XXX on line 344</p>
</blockquote>

<p><strong>Line 344/335</strong></p>

<pre><code>if ($status['status'] == '1') {
    echo""&lt;font color='green'&gt; Live &lt;/font&gt;""; 
}  
</code></pre>

<p>Can anyone tell me what I'm doing wrong/why im seeing this error?</p>",1,php
32716551,"ajax json_encode returns null for thai, arabic and chinese characters","<p>I am working with multilingual(asian languages) website, and facing strange problem. I have a function which return string wrapped in json_encode.</p>

<p>I am using <strong>codeigniter</strong> and i have set </p>

<blockquote>
  <p>$db['default']['char_set'] = 'utf8'; </p>
  
  <p>$db['default']['dbcollat'] = 'utf8_general_ci';</p>
</blockquote>

<p>If i <strong>directly print output then it displays</strong> chinese, arabic, thai string properly that means i have properly coded my webpage and php to print multilingual string, but <strong>if i fetch that string via ajax and use json_encode it prints '??????'</strong> </p>

<p>So far i tried </p>

<ol>
<li>Adding ""JSON_UNESCAPED_UNICODE"" to json_encode function. (server throws error for this, php5 doesnt support this i guess)</li>
<li>Adding UTF header just before json_encode function</li>
<li>Also tried setting UTF header in ajax request </li>
<li>Even tried adding </li>
</ol>

<blockquote>
  <p>mb_convert_encoding($reviewsui, 'ISO-8859-1', 'UTF-8');</p>
</blockquote>

<p>but nothing worked so far. Did i miss anything ? </p>

<p><strong>Edit</strong>
I even tried to pass that string through <strong>utf8_encode()</strong> that didnt solved my problem even. The only difference i saw is instead of ""????"" i see ""à¤¸à¤®à¤¾à¤ à¤ªà¤°"". </p>",0,php|json|ajax|codeigniter|multilingual
32743443,nginx php-fpm crashes (maybe docker),"<p>I use the following Dochkerfile and config files to create my nginx and php-fpm container.</p>

<p><strong>Dockerfile:</strong></p>

<pre><code>FROM richarvey/nginx-php-fpm
RUN php5enmod mcrypt

RUN rm -f /etc/nginx/sites-available/default.conf
RUN rm -f /etc/nginx/sites-enabled/*

COPY config/default.conf /etc/nginx/sites-available/default.conf

RUN apt-get update &amp;&amp; apt-get install -y php5-dev nano

ENV TERM xterm

COPY config/nginx.conf /etc/nginx/
</code></pre>

<p><strong>nginx.conf</strong></p>

<pre><code>user www-data;
worker_processes 1;
pid /run/nginx.pid;

events {
    worker_connections 1024;
    # multi_accept on;
}

http {

    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] ""$request ""'
                      '$status $body_bytes_sent ""$http_referer"" '
                      '""$http_user_agent"" ""$http_x_forwarded_for""';
    access_log  /var/log/nginx/access.log  main;

    sendfile        on;
    autoindex off;
    map $scheme $fastcgi_https { ## Detect when HTTPS is used
        default off;
        https on;
    }

    keepalive_timeout  10;

    gzip  on;
    gzip_comp_level 2;
    gzip_proxied any;
    gzip_types      text/plain text/html text/css application/x-javascript text/xml application/xml application/xml+rss text/javascript;

    ##
    # Virtual Host Configs
    ##

    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-available/*;
}
</code></pre>

<p><strong>default.conf</strong></p>

<pre><code>server {
    listen   80; ## listen for ipv4; this line is default and implied
    listen   [::]:80 default ipv6only=on; ## listen for ipv6

    #server_name  172.17.0.15;
    root /usr/share/nginx/html/magento;

    # Disable sendfile as per https://docs.vagrantup.com/v2/synced-folders/virtualbox.html
    sendfile off;

    location / {
        index index.html index.php; ## Allow a static html file to be shown first
        try_files $uri $uri/ @handler; ## If missing pass the URI to Magento's front handler
        expires 30d; ## Assume all files are cachable
    }

    # redirect server error pages to the static page /50x.html
    #
    error_page 500 502 503 504 /50x.html;
    location = /50x.html {
            root /usr/share/nginx/html;
    }

    ## These locations would be hidden by .htaccess normally
    location ^~ /app/                { deny all; }
    location ^~ /includes/           { deny all; }
    location ^~ /lib/                { deny all; }
    location ^~ /media/downloadable/ { deny all; }
    location ^~ /pkginfo/            { deny all; }
    location ^~ /report/config.xml   { deny all; }
    location ^~ /var/                { deny all; }


    location /var/export/ { ## Allow admins only to view export folder
        auth_basic           ""Restricted""; ## Message shown in login window
        auth_basic_user_file htpasswd; ## See /etc/nginx/htpassword
        autoindex            on;
    }

    location  /. { ## Disable .htaccess and other hidden files
        return 404;
    }

    location @handler { ## Magento uses a common front handler
        rewrite / /index.php;
    }

    location ~ .php/ { ## Forward paths like /js/index.php/x.js to relevant handler
        rewrite ^(.*.php)/ $1 last;
    }

    location ~ .php$ { ## Execute PHP scripts
        if (!-e $request_filename) { rewrite / /index.php last; } ## Catch 404s that try_files miss

        expires        off; ## Do not cache dynamic content
        fastcgi_pass   unix:/var/run/php5-fpm.sock;
        #fastcgi_pass 127.0.0.1:9000;
        #fastcgi_param  HTTPS $fastcgi_https;
        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
        fastcgi_param  MAGE_RUN_CODE default; ## Store code is defined in administration &gt; Configuration &gt; Manage Stores
        fastcgi_param  MAGE_RUN_TYPE store;
        include        fastcgi_params; ## See /etc/nginx/fastcgi_params
    }

    location ~* \.(jpg|jpeg|gif|png|css|js|ico|xml)$ {
            expires           5d;
    }

    # deny access to . files, for security
    #
    location ~ /\. {
            log_not_found off;
            deny all;
    }

}
</code></pre>

<p>After I start my container with the following docker run everything works fine (my files in mycontainerfiles show correctly in my browser):</p>

<pre><code>docker run --name mycontainer -p 32770:80 -v /Users/sja/Sites/mycontainerfiles:/usr/share/nginx/html --link=mycontainer_db:db nginx-php-fpm-magento
</code></pre>

<p>Now I edit some crontab on my container and restart it with docker stop and docker start.</p>

<p>After that my browser show me ""<strong>ERR_CONNECTION_REFUSED</strong>"" Error when I call <a href=""http://192.168.99.100:32770/"" rel=""nofollow noreferrer"">http://192.168.99.100:32770/</a></p>

<p>With ""docker logs mycontainer"" I become the following error lines:</p>

<pre><code>sed: -e expression #1, char 18: unknown option to `s'
sed: -e expression #1, char 18: unknown option to `s'
sed: -e expression #1, char 18: unknown option to `s'
sed: -e expression #1, char 18: unknown option to `s'
sed: can't read /usr/share/nginx/html/magento/app/code/core/Mage/XmlConnect/Block/Catalog/Product/sedwFWhs9: Permission denied
sed: can't read /usr/share/nginx/html/magento/lib/Varien/Io/sedBAAtQM: Permission denied
</code></pre>

<p>Also my vbox task is very busy</p>

<p><a href=""https://i.stack.imgur.com/tGkI8.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/tGkI8.png"" alt=""enter image description here""></a></p>

<p>I suspect that this is not a docker problem but rather some     misconfiguration with my nginx and php-fpm? Some other container with apache2 and php runs without any abnormality.</p>

<p><strong>Update: After a long time of waiting my container is suddenly available and my vbox process is sleeping</strong> </p>

<p><a href=""https://i.stack.imgur.com/dGjNB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dGjNB.png"" alt=""enter image description here""></a>
<a href=""https://i.stack.imgur.com/9mHyU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/9mHyU.png"" alt=""enter image description here""></a></p>",2,php|linux|nginx|docker
32794261,Can i display my name in messages send through whatsapp api?,"<p>As the title says, Can i display my name in messages send through whatsapp API?</p>

<p>I am using whatsapp PHP API <a href=""https://github.com/WHAnonymous/Chat-API/"" rel=""nofollow"">https://github.com/WHAnonymous/Chat-API/</a> to send messages. But i need to send the message without displaying my name instead displaying the name. </p>",1,javascript|php|whatsapp
32963301,PAMI can't find class,"<p>I'm trying to install <a href=""https://github.com/marcelog/PAMI"" rel=""nofollow"">PAMI library</a>
I installed it via pear:</p>

<pre><code># pear channel-discover pear.marcelog.name
# pear install marcelog/PAMI
</code></pre>

<p>and trying to use example.php</p>

<pre><code>    $pamiClientOptions = array(
        'host' =&gt; '127.0.0.1',
        'scheme' =&gt; 'tcp://',
        'port' =&gt; 9999,
        'username' =&gt; 'admin',
        'secret' =&gt; 'mysecret',
        'connect_timeout' =&gt; 10000,
        'read_timeout' =&gt; 10000
    );

    use PAMI\Client\Impl\ClientImpl as PamiClient;
    $pamiClient = new PamiClient($pamiClientOptions);

    // Open the connection
    $pamiClient-&gt;open();

    // Close the connection

$pamiClient-&gt;close();
</code></pre>

<p>when I try to use this script I receive error:</p>

<pre><code>Class 'PAMI\Client\Impl\ClientImpl' not found 
</code></pre>

<p>It's first time, I see that classes are included like this (use).
I'm using debian Linux also. Please, help.</p>

<p><br><strong>UPDATE</strong><br>
Also it's installed in /usr/share/php/PAMI/</p>",0,php|debian|asterisk|asteriskami
32876280,Laravel - How to register custom broadcaster,"<p>I want to register a custom broadcaster with the BroadcastManager without having to change the internal framework code...</p>

<p>Now I have to do something like this in the <code>Illuminate\Broadcasting\BroadcasterManager</code> class:</p>

<pre><code>protected function createMyCustomDriver(array $config) {
  // return instance....
}
</code></pre>

<p>There is an extend method however, but I don't know if it's ment for this use case or how to use it...</p>

<p>The goal is to use a Broadcaster implementation that uses ZMQ to send these broadcasted events to the WebSocket php server instance.</p>

<p>Any help appreciated!</p>

<p>edit: Link to api doc <a href=""http://laravel.com/api/5.1/Illuminate/Broadcasting/BroadcastManager.html"" rel=""nofollow"">http://laravel.com/api/5.1/Illuminate/Broadcasting/BroadcastManager.html</a></p>",3,php|laravel-5.1
32603752,"How to share image with facebook ""share dialog"" among others","<p>I'm making a website which is a test and, based on the result on the test, I want to share a specific image through facebook.
The problem is that all the results are on the same page, which will show to the user only the one that matches his answers.</p>

<p>I know that I have to use the following og code to set an image as thumbmail for the sharer:</p>

<pre><code>&lt;meta property=""og:image""            content=""http://food.png""&gt;
</code></pre>

<p>The problem is, how can i select the image that matches the user's result?
This is a part of my code:</p>

<pre><code>var superman = new insieme(all0, imm[0], des0, desc0, pg0);  \\The imm[i] contains the image relative to each result
var darth_vader = new insieme(all1, imm[1], des1, desc1, pg1);
var jorah_mormont = new insieme(all2, imm[2], des2, desc2, pg2);
var spiderman = new insieme(all3, imm[3], des3, desc3, pg3);
var voldemort = new insieme(all4, imm[4], des4, desc4, pg4);
var vendetta = new insieme(all5, imm[5], des5, desc5, pg5);
var sparrow = new insieme(all6, imm[6], des6, desc6, pg6);
var joker = new insieme(all7, imm[7], des7, desc7, pg7);

var pg = new Array(spiderman, superman, jorah_mormont, darth_vader, voldemort, joker, sparrow, vendetta);  &lt;-- This is the array that contains the results' objects
</code></pre>

<p>In order to access the user's result i use a php variable called $res->random (It's a SQL result which contains different attributes).</p>

<p>It's use is like this:</p>

<pre><code>document.write(""&lt;h3&gt;"" + pg[&lt;?php echo $res-&gt;Random; ?&gt;].allineamento + ""&lt;/h3&gt;"");
document.write(""&lt;h4&gt;"" + pg[&lt;?php echo $res-&gt;Random; ?&gt;].personaggio + ""&lt;/h4&gt;"");
document.write(pg[&lt;?php echo $res-&gt;Random; ?&gt;].immagine); &lt;-- Here it shows the image that matches the user's result
. . .
</code></pre>

<p>Here i ask for you help, how can i set a different image for the sharing based on the result? And, while we're at this, how can i set different titles through the following code?</p>

<pre><code>&lt;meta property=""og:title"" content=""title_here"" /&gt;
</code></pre>

<p>Thanks in advance for the help!</p>",1,javascript|php|html|facebook-graph-api
32854638,Getting a whole bunch of server output along with wanted output,"<p>When I run the php script I end up with a page that says all this:</p>

<p>2015-09-29 22:01:01 SERVER -> CLIENT: ....[alot of server stuff]
Message has been sent. Thank you for contacting us. We will be in touch with you very soon.</p>

<p>I only want he message has been sent text to show but for some reason Its showing the whole connecting to smtp ,sending message stuff. My code is as follows:</p>

<pre><code>&lt;?php
if(isset($_POST['email'])) {
    $email_subject = ""New customer requesting information/appointment"";
    function died($error) {
        // your error code can go here
        echo ""We are very sorry, but there were error(s) found with the form you submitted. "";

        echo ""These errors appear below.&lt;br /&gt;&lt;br /&gt;"";
        echo $error.""&lt;br /&gt;&lt;br /&gt;"";
        echo ""Please go back and fix these errors.&lt;br /&gt;&lt;br /&gt;"";
        die();

    }
    if(!isset($_POST['first_name']) ||
       !isset($_POST['last_name']) ||
       !isset($_POST['email']) ||
       !isset($_POST['telephone']) ||
       !isset($_POST['comments'])) {

        died('We are sorry, but there appears to be a problem with the form you submitted.');       

    }
    $first_name = $_POST['first_name']; // required
    $last_name = $_POST['last_name']; // required
    $email_from = $_POST['email']; // required
    $telephone = $_POST['telephone']; // not required
    $comments = $_POST['comments']; // required

    $error_message = """";

    $email_exp = '/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/';

    if(!preg_match($email_exp,$email_from)) {

    $error_message .= 'The Email Address you entered does not appear to be valid.&lt;br /&gt;';

}

$string_exp = ""/^[A-Za-z .'-]+$/"";

if(!preg_match($string_exp,$first_name)) {
    $error_message .= 'The First Name you entered does not appear to be valid.&lt;br /&gt;';
}

if(!preg_match($string_exp,$last_name)) {
    $error_message .= 'The Last Name you entered does not appear to be valid.&lt;br /&gt;';
}

if(strlen($comments) &lt; 2) {
    $error_message .= 'The Comments you entered do not appear to be valid.&lt;br /&gt;';
}

if(strlen($error_message) &gt; 0) {
    died($error_message);
}

$email_message = ""Form details below.\n\n"";

function clean_string($string) {
    $bad = array(""content-type"",""bcc:"",""to:"",""cc:"",""href"");
    return str_replace($bad,"""",$string);
}

$email_message .= ""First Name: "".clean_string($first_name).""\n"";
$email_message .= ""Last Name: "".clean_string($last_name).""\n"";
$email_message .= ""Email: "".clean_string($email_from).""\n"";
$email_message .= ""Telephone: "".clean_string($telephone).""\n"";
$email_message .= ""Comments: "".clean_string($comments).""\n"";

require(""PHPMailerAutoload.php"");

$mail = new PHPMailer();  // create a new object
$mail-&gt;IsSMTP(); // enable SMTP
$mail-&gt;SMTPDebug = 2;  // debugging: 1 = errors and messages, 2 = messages only
$mail-&gt;SMTPAuth = true;  // authentication enabled
$mail-&gt;SMTPSecure = 'tls'; // secure transfer enabled REQUIRED for GMail
$mail-&gt;Host = 'smtp.gmail.com';
$mail-&gt;Port = 587; 
$mail-&gt;Username = ""user@gmail.com"";  
$mail-&gt;Password = ""password"";

$mail-&gt;From     = ""user@gmail.com"";
$mail-&gt;AddAddress(""sendTO@gmail.com"");

$mail-&gt;Subject  = $email_subject;
$mail-&gt;Body     = $email_message;
$mail-&gt;WordWrap = 50;

if(!$mail-&gt;Send()) {
    echo 'Message was not sent.';
    echo 'Mailer error: ' . $mail-&gt;ErrorInfo;
} else {
    echo 'Message has been sent.';
}
?&gt;
Thank you for contacting us. We will be in touch with you very soon.
&lt;?php

}?&gt; 
</code></pre>

<p>I am using xampp, Apache to run the php script and have only been doing this stuff for about 3 days so I'm sure its a silly mistake/misunderstanding.</p>",0,php|apache|xampp|phpmailer
32855696,Selection of a random AND 'published' row from table in mysql,"<p>I've read many answers to this question but none seem to answer in the scenario when you need to pick one random row in a DB of articles, say a wordpress db, where in the wp_posts, you actually have both revisions, trashed and published articles.</p>

<p>Previous answers seems to return blank result if the id is random and the post is not published like in this code</p>

<pre><code>SELECT * FROM wp_posts AS w
    JOIN (SELECT (RAND() *  (SELECT MAX(id)  FROM wp_posts)) AS id)  AS r2
    WHERE w.id &gt;= r2.id
    AND w.post_status = 'publish'
    ORDER BY w.id ASC
    LIMIT 1
</code></pre>",0,php|mysql|wordpress
32641876,Can't Assign Value to Global Variable,"<p>I have a global variable like</p>

<pre><code>&lt;?PHP
function PrintVariable($str){
   global ${""check"" . $str} = ""some value"";
   echo  $checkmap;    
}
 PrintVariable('map');
</code></pre>

<p>but I am getting this error:</p>

<p><strong>Parse error: syntax error, unexpected '=', expecting ',' or ';' in C:\wamp\www\PHP\index.php on line 3</strong></p>

<p>after removing the <code>global</code> from the code everything work fine but I have to create <code>global</code> at this function.</p>",1,php
32707899,its possible using fullcalendar js to setting holiday only,"<p>I trying using <code>fullcalendar.js</code> to do a calendar view thats allow user just click the day and set the holiday only.This is the interface:<a href=""https://i.stack.imgur.com/uftqJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uftqJ.png"" alt=""""></a></p>

<p><strong>The white space there, i will list out all input holiday.</strong><br>
<strong>When user add new holiday input form.</strong>
<a href=""https://i.stack.imgur.com/nfXMv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nfXMv.png"" alt=""enter image description here""></a></p>

<p>The problem is when user can create more than one event on the day. <br></p>

<p>How to only allow user create one event on the day and when user
click the day is update the event, not create a new event?</p>

<p>I saw this code from <a href=""http://demo.kimlabs.com/gentelella/production/calender.html"" rel=""nofollow noreferrer"">http://demo.kimlabs.com/gentelella/production/calender.html</a>.
Thank you very much.</p>",1,javascript|php|jquery|fullcalendar
32787007,What do returned values of PHP gnupg signature verification mean?,"<p>I want to verify pgp signed text in PHP. Following PHP documentation and answer to <a href=""https://stackoverflow.com/questions/25779172/verify-digital-signature-using-php/25782478#25782478"">this</a> question i made simple script to test gnupg library. I sent signed email between two email accounts using Thunderbird with Enigmail - receiving Thunderbird shows that signature is correct.</p>

<p>In PHP, when i use plain email text and senders public key, <code>verify()</code> function returns array like this:</p>

<pre><code>array(1) {
  [0]=&gt;
  array(5) {
    [""fingerprint""]=&gt;
    string(40) ""468F82339FC55DE5CAFD71BB63DD32AE1308A57F""
    [""validity""]=&gt;
    int(0)
    [""timestamp""]=&gt;
    int(1443033896)
    [""status""]=&gt;
    int(0)
    [""summary""]=&gt;
    int(0)
  }
}
</code></pre>

<p>When i change in signed message single word, result changes to:</p>

<pre><code>array(1) {
  [0]=&gt;
  array(5) {
    [""fingerprint""]=&gt;
    string(16) ""63DD32AE1308A57F""
    [""validity""]=&gt;
    int(0)
    [""timestamp""]=&gt;
    int(0)
    [""status""]=&gt;
    int(117440520)
    [""summary""]=&gt;
    int(4)
  }
}
</code></pre>

<p>And finally, when i change a lot of text or broke signature, function returns <code>false</code>.</p>

<p>So, what do these array values mean?</p>

<ul>
<li>Why <code>validity</code> is always <code>0</code>?</li>
<li><code>timestamp</code> value is a timestamp of what? Time when message was signed?</li>
<li>Why <code>status</code> value is so big in second case? Its just random value or specific error code?</li>
<li>Same with <code>summary</code> what stands value of <code>4</code> for?</li>
</ul>

<p>If i want to just simply recognize if text is signed correctly or not, can i just compare returned <code>fingerprint</code> with fingerprint of public key and check if status and summary are equal to <code>0</code>?</p>",3,php|gnupg|pgp
32687039,Installing redis with pecl,"<p>I'm trying to install redis with pecl and finally got the error.</p>

<pre><code>sudo pecl install redis 

In file included from /private/tmp/pear/install/redis/redis.c:27:
/private/tmp/pear/install/redis/common.h:1:10: fatal error: 'php.h' file not found
#include ""php.h""
     ^
1 error generated.
make: *** [redis.lo] Error 1
ERROR: `make' failed
</code></pre>

<p>I found the same question as mine </p>

<p><a href=""https://stackoverflow.com/questions/22039989/installing-phpredis-on-osx-with-pecl"">Installing phpredis on osx with pecl</a></p>

<p>Answer: Looks like your php is not available in environment variable path or installation is picking php from some default location.</p>

<p>How I can confirm if my php is not available in environment variable path or installation is picking php from some default location? Plus, please let me know if you know another way to make it.</p>",3,php|redis|pecl
32700284,How to access this in my view,"<p>I am new with this laravel , I am using resource.</p>

<pre><code>namespace App\Http\Controllers;

use Illuminate\Http\Request;

use App\Cars;
use App\Http\Requests;
use App\Http\Controllers\Controller;


class BookController extends Controller
{
       public function show($id)
    {
        $car = Cars::where('car_id',$id);
        return view('book.view',compact('car'));
    }
}
</code></pre>

<p>Here is my route.php</p>

<pre><code>  Route::resource('book','BookController');
</code></pre>

<p>Here is my view.blade.php</p>

<pre><code>     {{ $car-&gt;car_id }}
</code></pre>

<p>but it gives me error 
Undefined property: Illuminate\Database\Eloquent\Builder::$car_id</p>

<p>How can I display the car_id ?</p>

<p>Thank you in advance.</p>",0,php|laravel-routing|laravel-5.1
32724420,Aggregation query to match document on date fields in same document,"<p>I need to write a query that returns all documents where the the 'ts' (timestamp) is less than a certain date (document is 3 days old) AND the 'ts' equals/matches the 'mt' (modified time) of the same document. The idea is to return all documents that have not been modified.</p>

<pre class=""lang-js prettyprint-override""><code>db.posts.find(
    {   
        ""ts""       : { $lt: ISODate(""2015-09-19T20:44:35Z"") },
        ""mt""       : ""ts"",
        ""category"" : ""foo""
    }
)
</code></pre>

<p>The above is obviously wrong. I am playing with the aggregation framework to try to figure this out, but open to suggestions. This needs to execute from PHP.</p>",1,php|mongodb
32765151,"""Failed to open stream"" trying to install AsgardCMS","<p>I am trying to install AsgardCMS and i follow the instructions from the documentation. 1. <code>composer create-project asgardcms/platform your-project-name</code>2. <code>php artisan asgard:install</code>. But when I enter the second command I get this error </p>

<pre><code>Warning: require(C:\xampp\htdocs\amit\asgard\bootstrap/../vendor/autoload.php): failed to open stream: No such file or directory in C:\xampp\htdocs\amit\asgard\bootstrap\autoload.php on line 17

Fatal error: require(): Failed opening required 'C:\xampp\htdocs\amit\asgard\bootstrap/../vendor/autoload.php' (include_path='.;C:\xampp\php\PEAR') in C:\xampp\htdocs\amit\asgard\bootstrap\autoload.php on line 17
</code></pre>

<p>I supposed this is due to missing .htaccess but I am not familiar what should I write in it. I have tried with </p>

<pre><code>&lt;IfModule mod_rewrite.c&gt;
    RewriteEngine On

    RewriteRule ^(.*)$ public/$1 [L]
&lt;/IfModule&gt;
</code></pre>

<p>but it doesn`t work.</p>",0,php|.htaccess
32839713,Tsung - How to send array or object in request parameters?,"<p>I need to send object like php</p>

<pre><code>$obj = [
        array('id' =&gt; '111');
    ];
</code></pre>

<p>as POST request parameter.
I tried to use </p>

<pre><code>[{struct,[{&lt;&lt;""id""&gt;&gt;,&lt;&lt;""111""&gt;&gt;},{&lt;&lt;""id""&gt;&gt;, &lt;&lt;""222""&gt;&gt;}]}]

[{struct,[{&amp;quot;id&amp;quot;,&amp;quot;111&amp;quot;}]}]

[{struct,[{&amp;quot;id&amp;quot;:&amp;quot;111&amp;quot;}]}]

[{struct,[{&amp;quot;id&amp;quot;=&gt;&amp;quot;111&amp;quot;}]}]

[[{&amp;quot;id&amp;quot;,&amp;quot;111&amp;quot;}]]

[{&amp;quot;id&amp;quot;:&amp;quot;111&amp;quot;}]

[{&amp;quot;id&amp;quot;=&gt;&amp;quot;111&amp;quot;}]
</code></pre>

<p>but it is wrong. 
I tried to replace ""  by <code>&amp;quot;</code> but it's wrong too. 
I don't find any examples in user manual about work with array or object. Does anyone faced with this question?</p>",0,php|load-testing|tsung
32894795,How to check which SilverStripe CMS and Framework is running (Besides hovering over logo in admin view)?,"<p>I just recently upgraded a SilverStripe 3.0.5 site to the latest version (3.1.6, I'm guessing) using Composer. I went into the admin view and hovered over the SilverStripe logo and I see this message: Version: Framework: Unknown, CMS: 3.0.5</p>

<p>But this can't be correct because, judging from how the admin view looks, it's NOT SilverStripe 3.0.5 anymore. I looked at the silverstripe_version file under the cms folder and it says 3.0.5. Changing that to be whatever seems to affect what is shown when hovering over the SilverStripe logo in admin view. </p>

<p>What is another way to confirm the version of SilverStripe installed? Is there a more concrete way to tell besides just looking at how the admin view looks? </p>

<p>This is what my composer.json file looks like, for reference:</p>

<pre><code>{
    ""name"": ""silverstripe/installer"",
    ""description"": ""The SilverStripe Framework Installer"",
    ""require"": {
        ""php"": ""&gt;=5.3.2"",
        ""silverstripe/cms"": ""3.1.*"",
        ""silverstripe/framework"": ""3.1.*"",
        ""silverstripe-themes/simple"": ""*""
    },
    ""require-dev"": {
        ""silverstripe/compass"": ""*"",
        ""silverstripe/docsviewer"": ""*""
    },

    ""require"": {
    ""monolog/monolog"": ""1.0.*""
    },

    ""minimum-stability"": ""dev""
}
</code></pre>",0,composer-php|silverstripe
32901351,PHP: Building an Adjacency List through Recursive Iteration,"<p>I'm trying to build a flattened array that preserves metadata from a pretty tricky array coming from a view in my CodeIgniter project. That metadata is things like an identifier, depth, and parent node. </p>

<p>The data is from a query builder JavaScript library that allows a user to generate rules that will be used in business logic. I need to persist this data, and the model I've gone with to represent the tree-like nature of these rules is an adjacency list. </p>

<p>Here's what I have, and it does work for most cases, but it's ugly, it's made of bubble gum and duct tape, and 'most' cases are not 'all' cases. After reading the SPL docs, I suspect a RecursiveIteratorIterator may be more suited to the problem. </p>

<p>Sorry for the long winded post, but I'm pretty sure my approach sucks. Any advice? </p>

<p>Here's the input (e.g., places I would rather not be), sample image showing it in action too:</p>

<p><a href=""https://i.stack.imgur.com/hyzWl.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hyzWl.jpg"" alt=""Sample of the Query Builder""></a></p>

<pre><code>stdClass Object
(
    [condition] =&gt; OR
    [rules] =&gt; Array
        (
            [0] =&gt; stdClass Object
                (
                    [id] =&gt; Any
                    [field] =&gt; Any
                    [type] =&gt; string
                    [input] =&gt; select
                    [operator] =&gt; not equal
                    [value] =&gt; Any
                )
            [1] =&gt; stdClass Object
                (
                    [condition] =&gt; AND
                    [rules] =&gt; Array
                        (
                            [0] =&gt; stdClass Object
                                (
                                    [id] =&gt; Place
                                    [field] =&gt; Place
                                    [type] =&gt; string
                                    [input] =&gt; select
                                    [operator] =&gt; equal
                                    [value] =&gt; France
                                )
                            [1] =&gt; stdClass Object
                                (
                                    [id] =&gt; Month
                                    [field] =&gt; Month
                                    [type] =&gt; string
                                    [input] =&gt; select
                                    [operator] =&gt; equal
                                    [value] =&gt; January
                                )
                        )
                )
            [2] =&gt; stdClass Object
                (
                    [condition] =&gt; AND
                    [rules] =&gt; Array
                        (
                            [0] =&gt; stdClass Object
                                (
                                    [id] =&gt; Place
                                    [field] =&gt; Place
                                    [type] =&gt; string
                                    [input] =&gt; select
                                    [operator] =&gt; equal
                                    [value] =&gt; Rio
                                )
                            [1] =&gt; stdClass Object
                                (
                                    [id] =&gt; Month
                                    [field] =&gt; Month
                                    [type] =&gt; string
                                    [input] =&gt; select
                                    [operator] =&gt; equal
                                    [value] =&gt;  August
                                )
                        )
                )
            [3] =&gt; stdClass Object
                (
                    [condition] =&gt; AND
                    [rules] =&gt; Array
                        (
                            [0] =&gt; stdClass Object
                                (
                                    [id] =&gt; Place
                                    [field] =&gt; Place
                                    [type] =&gt; string
                                    [input] =&gt; select
                                    [operator] =&gt; equal
                                    [value] =&gt; Liberia
                                )
                            [1] =&gt; stdClass Object
                                (
                                    [id] =&gt; Month
                                    [field] =&gt; Month
                                    [type] =&gt; string
                                    [input] =&gt; select
                                    [operator] =&gt; equal
                                    [value] =&gt; July
                                )
                            [2] =&gt; stdClass Object
                                (
                                    [condition] =&gt; OR
                                    [rules] =&gt; Array
                                        (
                                            [0] =&gt; stdClass Object
                                                (
                                                    [id] =&gt; Year
                                                    [field] =&gt; Year
                                                    [type] =&gt; string
                                                    [input] =&gt; select
                                                    [operator] =&gt; equal
                                                    [value] =&gt; 2014
                                                )
                                            [1] =&gt; stdClass Object
                                                (
                                                    [id] =&gt; Year
                                                    [field] =&gt; Year
                                                    [type] =&gt; string
                                                    [input] =&gt; select
                                                    [operator] =&gt; equal
                                                    [value] =&gt; 2015
                                                )
                                        )
                                )
                        )
                )
        )
)
</code></pre>

<p>Here is the desired output for persistence. (See the values at the far right of each entry for the important bits of metadata). </p>

<pre><code>Array
(
    stdClass Object ( [id] =&gt; Any [field] =&gt; Any [type] =&gt; string [input] =&gt; select [operator] =&gt; not equal [value] =&gt; Any [condition] =&gt; OR [subgroup] =&gt; 0 [parent_subgroup] =&gt; )
    stdClass Object ( [id] =&gt; Place [field] =&gt; Place [type] =&gt; string [input] =&gt; select [operator] =&gt; equal [value] =&gt; France) [condition] =&gt; AND [subgroup] =&gt; 1 [parent_subgroup] =&gt; 0 )
    stdClass Object ( [id] =&gt; Month [field] =&gt; Month [type] =&gt; string [input] =&gt; select [operator] =&gt; equal [value] =&gt; January [condition] =&gt; AND [subgroup] =&gt; 1 [parent_subgroup] =&gt; 0 )
    stdClass Object ( [id] =&gt; Place [field] =&gt; Place [type] =&gt; string [input] =&gt; select [operator] =&gt; equal [value] =&gt; Rio [condition] =&gt; AND [subgroup] =&gt; 2 [parent_subgroup] =&gt; 0 )
    stdClass Object ( [id] =&gt; Month [field] =&gt; Month [type] =&gt; string [input] =&gt; select [operator] =&gt; equal [value] =&gt; August[condition] =&gt; AND [subgroup] =&gt; 2 [parent_subgroup] =&gt; 0 )
    stdClass Object ( [id] =&gt; Place [field] =&gt; Place [type] =&gt; string [input] =&gt; select [operator] =&gt; equal [value] =&gt; Liberia [condition] =&gt; AND [subgroup] =&gt; 3 [parent_subgroup] =&gt; 0 )
    stdClass Object ( [id] =&gt; Month [field] =&gt; Month [type] =&gt; string [input] =&gt; select [operator] =&gt; equal [value] =&gt;  July[condition] =&gt; AND [subgroup] =&gt; 3 [parent_subgroup] =&gt; 0 )
    stdClass Object ( [id] =&gt; Year [field] =&gt; Year [type] =&gt; string [input] =&gt; select [operator] =&gt; equal [value] =&gt; 2014 [condition] =&gt; OR [subgroup] =&gt; 4 [parent_subgroup] =&gt; 3 )
    stdClass Object ( [id] =&gt; Year [field] =&gt; Year [type] =&gt; string [input] =&gt; select [operator] =&gt; equal [value] =&gt; 2015 [condition] =&gt; OR [subgroup] =&gt; 4 [parent_subgroup] =&gt; 3 )    
)
</code></pre>

<p>Note: parses this correctly. Problems would arise if I had changed the order of subgroups 2 and 3, as the subgroup of group 3, the one that has rules (Year = 2014 OR Year = 2015) has a different nesting level and severely messes up my recursion.</p>

<p>Here is my code:</p>

<pre><code>function deserialize_criteria_group($criteria, $subgroup = null) {
    $array = array();

    if ($subgroup == null) {
        $first_run = true;
        $subgroup = 0;
        $condition = $criteria-&gt;condition;
        $criteria = $criteria-&gt;rules;
    }

    foreach ($criteria as $rule) {
        if ($rule-&gt;rules) {
            $subgroup++;
            $children = $this-&gt;deserialize_criteria_group($rule-&gt;rules, $subgroup);
            foreach($children as $child) {
                if ($child-&gt;condition == null) {
                    $child-&gt;condition = $rule-&gt;condition;
                }
                if ($child-&gt;parent_subgroup == null) {
                    $child-&gt;parent_subgroup = $first_run ? 0 : $subgroup - 1;
                }
                    array_push($array, $child);
            }
        } else {
            $rule-&gt;condition = $condition;
            $rule-&gt;subgroup = $subgroup;
            $rule-&gt;parent_subgroup = null;
            array_push($array, $rule);
        }

    }

    if ($first_run) {
        //Ensure a root node exists, if not stub one out. 
        $criteria_group = json_decode(json_encode($array), true);
        $root_encountered = $criteria_group[0]['subgroup'] &gt; 0 ? false : true;
        if (!$root_encountered) {
            $root = array(  'subgroup'          =&gt; 0, 
                            'parent_subgroup'   =&gt; null, 
                            'condition'         =&gt; $condition);
            array_unshift($criteria_group, $root); 
            array_unshift($array, $root);
        }

        //Ensure the ALM is not broken. 
        $subgroup = 0;
        foreach($criteria_group as $c) {
            if($c['subgroup'] &gt; $subgroup + 1) {
                $msg = ""Bad Order. Halting execution."";
                print $msg; 
                log_message('error', $msg); 
                log_message('debug', 'expected: ' . $subgroup . ' actual: ' . $c['subgroup']);
                log_message('debug', print_r($criteria_group, true));
                die;
            }
            $subgroup = $c['subgroup'];
        }
    }
    return $array;
}
</code></pre>",0,php|recursion|persistence|adjacency-list
32777765,Woocommerce cart deposit,"<p>I have this code for Woocommerce orders, basically a deposit fee per order. But the customer should only be able to pay this fee and the rest later. There are heaps of solutions for product based deposit fees, but not per cart. Any ideas, thoughts on how to force this on checkout and the rest later?</p>

<pre><code>add_action( 'woocommerce_cart_calculate_fees', 'booking_fee' );
function booking_fee() {
    global $woocommerce;

    if ( is_admin() &amp;&amp; ! defined( 'DOING_AJAX' ) )
        return;

 $bookingfee_array = array( '2434' );

    $fixed = 40.00;

    foreach ( $woocommerce-&gt;cart-&gt;get_cart() as $cart_item_key =&gt; $values ) {

        if( in_array( $values['product_id'], $bookingfee_array ) ) {
            $surcharge = $fixed;
            $woocommerce-&gt;cart-&gt;add_fee( 'Broneeringutasu', $surcharge, true, '' );
        }

    }

}
</code></pre>",1,php|wordpress|woocommerce|cart
32892781,Netbeans x PHP x Chrome - XDebug not working after El Capitan update,"<p>After updating from Yosemite to El Capitan, breakpoints are not working in Netbeans anymore, I keep getting this error: </p>

<p>Waiting for connection (netbeans-xdebug)...</p>

<p>Anything i should change on my php.ini / httpd.conf files after updating?</p>

<p>Here is my xdebug section on php.ini:</p>

<pre><code>[xdebug] 
zend_extension=""/usr/lib/php/extensions/no-debug-non-zts-20121212/xdebug.so""
xdebug.remote_autostart=on
xdebug.remote_enable=on
xdebug.remote_enable=1
xdebug.remote_handler=""dbgp""
;xdebug.remote_connect_back=1
xdebug.remote_port=9000
xdebug.remote_mode=req
xdebug.idekey=""netbeans-xdebug""
</code></pre>",1,php|netbeans|xdebug|osx-elcapitan
32655774,Mysql: Inserting Current TimeStamp with microseconds Precision,"<p>As given here, We can insert fractional Seconds:
<a href=""http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html"" rel=""nofollow"">http://dev.mysql.com/doc/refman/5.6/en/fractional-seconds.html</a></p>

<p>If  Execute this Query
<code>CREATE TABLE t1 (t TIME(3), dt DATETIME(6));</code>
and Insert using NOW() I GET <code>2015-09-18 20:11:40.000000</code> in database.</p>

<p>Further if I set  Attribute with DATETIME <code>ON UPDATE CURRENT_TIMESTAMP</code> it does not store the fractional Seconds.</p>

<p>How can i save Fractional Seconds in MYSQL? i don't want to insert it i want the Current TimeStamp or something like NOW()?
What Query can be used to Insert the Timestamp?</p>

<p>Further can php be used if there is no function available in MYSQL?</p>",1,php|mysql
32736672,how to send the value of combobox to database?,"<p>i'm tring to developping an application using mysql/php and i would send the values of combobox (year-day...) i would send all the values of the combobox in one case to the database using php but my code can't do it can you help me?</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code> &lt;?php 
 require_once('connect.php');
//si l'utilisateur a clicker sur valider
if (isset($_POST['submit'])){
 if(isset($_POST['id'])) $id = htmlspecialchars(mysql_real_escape_string($_POST['id']));
 else      $id="""";
 if(isset($_POST['nom'])) $nom = htmlspecialchars(mysql_real_escape_string($_POST['nom']));
 else      $nom="""";
 if(isset($_POST['prenom'])) $prenom =  htmlspecialchars(mysql_real_escape_string($_POST['prenom']));
 else      $prenom="""";
 if(isset($_POST['email'])) $email = $email =  htmlspecialchars(mysql_real_escape_string($_POST['email']));
 else      $email="""";
 if(isset($_POST['password'])) $password =  htmlspecialchars(mysql_real_escape_string($_POST['password']));
 else      $password="""";
 if(isset($_POST['naissance'])) $naissance =  htmlspecialchars(mysql_real_escape_string($_POST['naissance']));
 else      $naissance="""";
 if(isset($_POST['sexe'])) $sexe =  htmlspecialchars(mysql_real_escape_string($_POST['sexe']));
 else      $sexe="""";
 
 $sql=""INSERT INTO poi(id, nom, prenom, email, password, naissance, sexe) VALUES 
 ($id,'$nom', '$prenom','$email', '$password', '$naissance', '$sexe')"";
 mysql_query($sql)or die(mysql_error());
} 

?&gt;
&lt;form action="""" style=""
    width: 383px;
    border: 2px solid rgb(72, 14, 54);
    height: 305px;
""&gt;
  &lt;fieldset&gt;
    &lt;div&gt;  
    &lt;/div&gt;
    &lt;legend&gt;Coordonnees&lt;/legend&gt;
    &lt;label for=""familyname""&gt;Nom :&lt;/label&gt;
    &lt;input type=""text"" id=""familyname"" placeholder=""Nom"" name=""nom"" style=""
    margin-left: 65px;
""/&gt;
 &lt;br&gt;
    &lt;label for=""firstname""&gt;Prenom :&lt;/label&gt;
    &lt;input type=""text"" id=""firstname"" placeholder=""prenom"" name=""prenom"" style=""
    margin-left: 45px;
""/&gt;
 &lt;br&gt;
    &lt;label for=""email""&gt;Email :&lt;/label&gt;
    &lt;input type=""email"" id=""email"" placeholder=""Email"" name=""email"" style=""
    margin-left: 60px;
""/&gt;
 &lt;br&gt;
    &lt;label for=""password""&gt;Mot de Passe :&lt;/label&gt;
    &lt;input type=""password"" id=""password"" name=""password""/&gt;
  &lt;/fieldset&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;Date de Naissance&lt;/legend&gt;
    &lt;label for=""jour""&gt;Jour :&lt;/label&gt;
    &lt;select name=""jour"" id=""jour""&gt;
&lt;option value=""1""&gt;1&lt;/option&gt;
&lt;option value=""2""&gt;2&lt;/option&gt;
&lt;option value=""3""&gt;3&lt;/option&gt;
&lt;option value=""4""&gt;4&lt;/option&gt;
&lt;option value=""5""&gt;5&lt;/option&gt;
&lt;option value=""6""&gt;6&lt;/option&gt;
&lt;option value=""7""&gt;7&lt;/option&gt;
&lt;option value=""8""&gt;8&lt;/option&gt;
&lt;option value=""9""&gt;9&lt;/option&gt;
&lt;option value=""10""&gt;10&lt;/option&gt;
&lt;option value=""11""&gt;11&lt;/option&gt;
&lt;option value=""12""&gt;12&lt;/option&gt;
&lt;option value=""13""&gt;13&lt;/option&gt;
&lt;option value=""14""&gt;14&lt;/option&gt;
&lt;option value=""15""&gt;15&lt;/option&gt;
&lt;option value=""16""&gt;16&lt;/option&gt;
&lt;option value=""17""&gt;17&lt;/option&gt;
&lt;option value=""18""&gt;18&lt;/option&gt;
&lt;option value=""19""&gt;19&lt;/option&gt;
&lt;option value=""20""&gt;20&lt;/option&gt;
&lt;option value=""21""&gt;21&lt;/option&gt;
&lt;option value=""22""&gt;22&lt;/option&gt;
&lt;option value=""23""&gt;23&lt;/option&gt;
&lt;option value=""24""&gt;24&lt;/option&gt;
&lt;option value=""25""&gt;25&lt;/option&gt;
&lt;option value=""26""&gt;26&lt;/option&gt;
&lt;option value=""27""&gt;27&lt;/option&gt;
&lt;option value=""28""&gt;28&lt;/option&gt;
&lt;option value=""29""&gt;29&lt;/option&gt;
&lt;option value=""30""&gt;30&lt;/option&gt;
&lt;option value=""31""&gt;31&lt;/option&gt;
    &lt;/select&gt;
    &lt;label for=""Année""&gt;Mois :&lt;/label&gt;
    &lt;select name=""mois"" id=""mois""&gt;
      
      &lt;option value=""Janvier""&gt;Janvier&lt;/option&gt;
      &lt;option value=""Fevrier""&gt;Fevrier&lt;/option&gt;
      &lt;option value=""Mars""&gt;Mars&lt;/option&gt;
      &lt;option value=""Avril""&gt;Avril&lt;/option&gt;
      &lt;option value=""Mai""&gt;Mai&lt;/option&gt;
      &lt;option value=""Juin""&gt;Juin&lt;/option&gt;
      &lt;option value=""Juillet""&gt;Juillet&lt;/option&gt;
      &lt;option value=""Aout""&gt;Aout&lt;/option&gt;
      &lt;option value=""Septembre""&gt;Septembre&lt;/option&gt;
      &lt;option value=""Octobre""&gt;Octobre&lt;/option&gt;
      &lt;option value=""Novembre""&gt;Novembre&lt;/option&gt;
      &lt;option value=""Decembre""&gt;Decembre&lt;/option&gt;
    &lt;/select&gt;
    &lt;label for=""annee""&gt;Annee :&lt;/label&gt;
    &lt;select name=""annee"" id=""annee""&gt;
      &lt;option value=""""&gt;2014&lt;/option&gt;
      &lt;option value=""""&gt;2013&lt;/option&gt;
      &lt;option value=""""&gt;2012&lt;/option&gt;
      &lt;option value=""""&gt;2011&lt;/option&gt;
      &lt;option value=""""&gt;2010&lt;/option&gt;
      &lt;option value=""""&gt;2009&lt;/option&gt;
      &lt;option value=""""&gt;2008&lt;/option&gt;
      &lt;option value=""""&gt;2007&lt;/option&gt;
      &lt;option value=""""&gt;2006&lt;/option&gt;
      &lt;option value=""""&gt;2005&lt;/option&gt;
      &lt;option value=""""&gt;2004&lt;/option&gt;
      &lt;option value=""""&gt;2003&lt;/option&gt;
      &lt;option value=""""&gt;2002&lt;/option&gt;
      &lt;option value=""""&gt;2001&lt;/option&gt;
   &lt;option value=""""&gt;2000&lt;/option&gt;
   &lt;option value=""""&gt;1999&lt;/option&gt;
   &lt;option value=""""&gt;1998&lt;/option&gt;
   &lt;option value=""""&gt;1997&lt;/option&gt;
   &lt;option value=""""&gt;1996&lt;/option&gt;
   &lt;option value=""""&gt;1995&lt;/option&gt;
   &lt;option value=""""&gt;1994&lt;/option&gt;
   &lt;option value=""""&gt;1995&lt;/option&gt;
   &lt;option value=""""&gt;1994&lt;/option&gt;
   &lt;option value=""""&gt;1993&lt;/option&gt;
   &lt;option value=""""&gt;1992&lt;/option&gt;
   &lt;option value=""""&gt;1991&lt;/option&gt;
   &lt;option value=""""&gt;1990&lt;/option&gt;
   &lt;option value=""""&gt;1989&lt;/option&gt;
   &lt;option value=""""&gt;1988&lt;/option&gt;
   &lt;option value=""""&gt;1987&lt;/option&gt;
   &lt;option value=""""&gt;1986&lt;/option&gt;
   &lt;option value=""""&gt;1985&lt;/option&gt;
    &lt;/select&gt;
    
  &lt;/fieldset&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;Civilite&lt;/legend&gt;
    &lt;label for=""m""&gt;Masculin&lt;/label&gt;
    &lt;input type=""radio"" name=""civ"" id=""m""/&gt;
    &lt;label for=""f""&gt;Feminin&lt;/label&gt;
    &lt;input type=""radio"" name=""civ"" id =""f""/&gt;
  &lt;/fieldset&gt;
  &lt;input type=""submit"" class=""botton"" value=""Envoyer"" style=""
    margin-top: 4px;
    margin-left: 90px;
""/&gt;
  &lt;input type=""submit"" class=""botton"" value=""Annuler"" style=""
    margin-top: 4px;
    margin-left: 50px;
""/&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
</p>",-1,php|mysql|combobox
32870062,Symfony Validator Constraints Assert Regex,"<p>I have an entity for which I use <code>Regex</code> and <code>NotBlank</code> to validate. I need this field to contain only English letters, without numbers. Everything works fine, but when I post Cyrillic I don't get an error. Why is that? I need only English </p>

<pre><code>/**
 * @var string
 *
 * @Assert\NotBlank()
 * @Assert\Regex(
 *           pattern= ""/^\w+/"",
 *           match=   false,
 *           message= ""This text cannot contain numbers""
 * )
 *
</code></pre>",0,php|regex|symfony|doctrine-orm
32929053,How to get user type from the database for php sessions,"<p>I'm building a website and I want to retrieve the user type that is defined on the database and redirect the logged in user to a specific page. For example, if the user is admin, it will redirect that person to administration page, if the user type is X, it will redirect that user to the specific page for user type X.</p>

<p>For now, I'm trying a temporary solution since I don't have enough time until deadline (tomorrow). And I'm trying to get the user type from the database by running a database and php query, which is as follows:</p>

<pre><code>             $_SESSION['login'] = true;
             $_SESSION['username']=$username;
             $query=""select user_type from "".$table_name."" where username='$username'"";
             $result=mysqli_query($con,$query) or die('error');
             if(mysqli_num_rows($result))
             {
                $_SESSION['user_type']=$user_type;
             }

             echo json_encode( array('result'=&gt;1));
</code></pre>

<p>I can get the username and login status but when Im trying to get the user type, I get an empty result on the _SESSIONS array.</p>

<p>Whole php code is as follows:</p>

<pre><code>&lt;?php
session_start();
    include(""db.php"");
    $con=mysqli_connect($server, $db_user, $db_pwd,$db_name) //connect to the database server
    or die (""Could not connect to mysql because "".mysqli_error());

    mysqli_select_db($con,$db_name)  //select the database
    or die (""Could not select to mysql because "".mysqli_error());

    //prevent sql injection
    $username=mysqli_real_escape_string($con,$_POST[""username""]);
    $password=mysqli_real_escape_string($con,$_POST[""password""]);
    //$user_type=mysqli_real_escape_string($con,$_POST[""user_type""]);
        //decrypt password


    //check if user exist already
    $query=""select * from "".$table_name."" where username='$username'"";
    $result=mysqli_query($con,$query) or die('error');
    if (mysqli_num_rows($result)) //if exist then check for password
        {

        //Pickup password to compare with encrypted password
        $query=""select password from "".$table_name."" where username='$username'"";
        $result=mysqli_query($con,$query) or die('error');
        $db_field = mysqli_fetch_assoc($result);
        $hashed_password=crypt($password,$db_field['password']);

         $query=""select * from "".$table_name."" where username='$username' and password='$hashed_password'"";
         $result=mysqli_query($con,$query) or die('error');
         if (mysqli_num_rows($result))  //if passwords match then check actvation status
         {
             $query=""select * from "".$table_name."" where username='$username' and password='$hashed_password' and activ_status in(1)"";
             $result=mysqli_query($con,$query) or die('error');
             if(mysqli_num_rows($result))
             {  


                 $_SESSION['login'] = true;
                 $_SESSION['username']=$username;
                 $query=""select user_type from "".$table_name."" where username='$username'"";
                 $result=mysqli_query($con,$query) or die('error');
                 if(mysqli_num_rows($result))
                 {
                    $_SESSION['user_type']=$user_type;
                 }

                 echo json_encode( array('result'=&gt;1));
             }
             else
             {
             echo json_encode( array('result'=&gt;""$msg_email_1 &lt;br /&gt;&lt;a href=\"""".$url.""\\resend_key.php?user="".$username.""\""&gt;$msg_email_2&lt;/a&gt;.""));
                // echo ""User Account not yet activated.Check your mail for activation details."";
             }

         }
         else
         {
         echo json_encode( array('result'=&gt;$msg_pwd_error));
        //   echo trim(""password incorrect"");
         }
        }   
    else
    {
    echo json_encode( array('result'=&gt;$msg_un_error));
    //  die(""Username Doesn't exist"");
    die();
    }

?&gt;
</code></pre>

<p>If you can help me with this, I'd really appreciate it.</p>

<p>Thank you very much.</p>",1,php|mysql|session
32555738,"Validate time as 24 hours from now in php, option select in html","<p>I cannot figure this one out. I have a HTML date that the user can select and below the hour for delivery. The date must be not today or before today, that part is fine but the time i cannot work out. It must be 24 hours from the current time. </p>

<p>Here is what i have: </p>

<pre><code>if (!isset($_POST[""pickupTime""])) {
$pickupTimeErr = ""Pickup Time is required"";
} elseif (date('h:i:sa', strtotime($_POST[""pickupTime""]))  &lt;= date('h:i:sa', strtotime('+ 24 hours') )) {
$pickupTimeErr = ""Time must be greater than 24hours from now"";
} else {
$pickupTime = test_input($_POST[""pickupTime""]);
}


&lt;p&gt;Preferred Time:
            &lt;select name=""pickupTime""&gt;
                &lt;option&gt;Hour&lt;/option&gt;
                &lt;option value=""7:00""&gt;7:00&lt;/option&gt;
                &lt;option value=""8:00""&gt;8:00&lt;/option&gt;
                &lt;option value=""9:00""&gt;9:00&lt;/option&gt;
                &lt;option value=""10:00""&gt;10:00&lt;/option&gt;
                &lt;option value=""11:00""&gt;11:00&lt;/option&gt;
                &lt;option value=""12:00""&gt;12:00&lt;/option&gt;
                &lt;option value=""13:00""&gt;13:00&lt;/option&gt;
                &lt;option value=""14:00""&gt;14:00&lt;/option&gt;
                &lt;option value=""15:00""&gt;15:00&lt;/option&gt;
                &lt;option value=""16:00""&gt;16:00&lt;/option&gt;
                &lt;option value=""17:00""&gt;17:00&lt;/option&gt;
                &lt;option value=""18:00""&gt;18:00&lt;/option&gt;
                &lt;option value=""19:00""&gt;19:00&lt;/option&gt;
                &lt;option value=""20:00""&gt;20:00&lt;/option&gt;
            &lt;/select&gt;
            &lt;span class=""error""&gt;* &lt;?php echo $pickupTimeErr;?&gt;&lt;/span&gt;&lt;/p&gt;
            Minute: &lt;input type=""text"" name=""pickupTime""&gt;
</code></pre>

<p>The preferred pickup time needs to be within 7:30 and 20:30. Also with the preferred time, is there a way to iterate over times and input them into the options? </p>

<p>I'm sure there is an easier way, this does not work. Please help. </p>",1,php|html
32870693,jQuery dynamic DOM elements are not posted in PHP,"<p>I have a button with id <code>btnGo</code> wrapped in a form with id <code>frmNewRequest</code>. When I tried to use </p>

<pre><code>$('#frmNewRequest').on('click', '#btnGo', (function(e){
//do something
}));
</code></pre>

<p>it was not working but when I changed to </p>

<pre><code>$('#btnGo').click(function(e){
//do something
});
</code></pre>

<p>it was working. What is the different between the two ?</p>

<p>I have a DOM dynamically generated upon the click of <code>btnGo</code>, but when posted to codeigniter's controller, the newly DOM elements are not posted. Anyone now what's the problem ?</p>",0,javascript|php|jquery|codeigniter|dom
32979147,Find similair wordpress posts from user input,"<p>im trying to show the closest matching wordpress post depending on user input. I have tried using levenstheins distance as you can see below but it doesn't work. If anyone also know how to show the content of the posts that is selected it would be great. </p>

<p>The code I have this far is below. Thanks!</p>

<pre><code> $gallery_args = array(
                    'posts_per_page'   =&gt; -1,
                    'orderby'=&gt; 'date',
                    'order'=&gt; 'DESC',
                    'post_type'=&gt; 'gallery',
                    'post_status'=&gt; 'publish',
                    'suppress_filters' =&gt; true 
        );
        $posts_gallery = get_posts( $gallery_args ); 
        foreach($posts_gallery as $rows){
            $post_titles = $rows-&gt;post_title;
        }

       $user_input = //Users input string
       $shortest = -1;

    foreach ($post_titles as $post_title) {

    $lev = levenshtein($user_input, $post_title);

    // check for an exact match
    if ($lev == 0) {

        $closest = $post_title;
        $shortest = 0;

        break;
    }

    if ($lev &lt;= $shortest || $shortest &lt; 0) {
        $closest  = $post_title;
        $shortest = $lev;
    }
}

if ($shortest == 0) {
    echo ""Exact match found: $closest\n"" . ""&lt;br /&gt;"";
} else {
    echo  $closest;
}
}
} 
</code></pre>",1,php|wordpress
32707754,Laravel 5.1 login Multi Social Network with Socialite insert into the same name field,"<p>I would like to create login form using <strong>facebook, google, and twitter accounts</strong>. First step, I can create them by using <strong><a href=""https://github.com/laravel/socialite"" rel=""nofollow noreferrer"">Socialite Package</a></strong>. Second step, I can get user's info and insert into <strong>MySQL Database</strong>. My problem is I login successfully using <strong>facebook account</strong> for the first time and then I logout. After that I login with <strong>google account</strong> instead. The error occurred like this:</p>

<pre><code>SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '' for key 'users_email_unique' (SQL: insert into `users` (`name`, `updated_at`, `created_at`) values (SrengKhorn, 2015-09-22 02:44:26, 2015-09-22 02:44:26))
</code></pre>

<p>Here my <code>users</code> table :
<a href=""https://i.stack.imgur.com/AhitS.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AhitS.png"" alt=""enter image description here""></a></p>

<p>And I found that if I delete previous record with the same username I can login with any of them without error. Do you know to resolve this problem?</p>",0,php|mysql|laravel-5.1|laravel-socialite
32793742,Pass smarty template to codeigniter variable and return as JSON data,"<p>I was wondering if anyone of you tried to pass a SMARTY template (view) into a variable and later on pass that variable to a json response?. Here is my sample code</p>

<pre><code>$content = $this-&gt;smarty-&gt;view('myview/page', array('var' =&gt; 'some value'), true);
echo json_encode(array('success' =&gt; true, 'message' =&gt; $content));exit;
</code></pre>

<p>So I was thinking of passing the <code>$content</code> variable to a json response. The content is the view/template itself. In simple codeigniter view this is something like this</p>

<pre><code>$content = $this-&gt;load-&gt;view('myview/page', array('var' =&gt; 'some value'), true);
echo json_encode(array('success' =&gt; true, 'message' =&gt; $content));exit;
</code></pre>

<p>Is this possible in smarty? its just like pass the template/view into a variable? The problem is when i use the <code>$this-&gt;smarty-&gt;view('myview/page', array('var' =&gt; 'some value'), true)</code> it automatically renders the view</p>",0,php|json|codeigniter|smarty
32947205,Duplicate Check Multiple Modules In SuiteCRM On Import,"<p>I'm trying to duplicate check against multiple modules when importing data into SuiteCRM. </p>

<p>As a simplified example, lets say I have two custom modules which store both Senders and Receivers. A Customer can be both a Sender and a Receiver however, if we import a list of Senders I would like to ensure that none of these Senders are already in the CRM as a Receiver. We can do this by checking the VAT Numbers.</p>

<p>Is there a way to do a duplicate check like this?</p>",1,php|sugarcrm|suitecrm
32962182,View Mathml Equations in browser,"<p>I hava a data which is stored in database using Wyris Editor for math equations.</p>

<pre><code>&lt;p&gt;&lt;math xmlns=""http://www.w3.org/1998/Math/MathML""&gt;  
     &lt;mfrac&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;
</code></pre>

<p>if i <code>echo</code> this data, i need to view it as equation as <code>2/2</code>..but the chrome browser just shows <code>22</code>.</p>

<p>How to view this equations?</p>",0,php|html|xml|xhtml|mathml
32832754,Error 401 Paypal,"<p>I'm making a website with paypal system payment.</p>

<p>I made tests in sandbox mode, and everything was fine and worked perfectly, Then, I  changed the configuration to live mode, I changed the keys to live mode environment, and I changed the sdk_config.ini de mode=live and the apiContext to live mode.</p>

<p>When I want to make the payment, I get the login and start session paypal, Then when confirmed the payment, it returns a 401 error and show me this message:</p>

<p><strong>Paypal\Exception\PayPalConnectionException[401]: Got Http response code 401 when accessing <a href=""https://api.sandbox.com/v1/payments/payment/PAY-022354"" rel=""nofollow"">https://api.sandbox.com/v1/payments/payment/PAY-022354</a>.....</strong></p>

<p>I'm using php 1.5 REST API for a company in Mexico, and I do not know if the account has to have a service or a special setting to change from sandbox mode to live.</p>

<p>In addition, the error shows me as if I were working in sandbox mode that shows rather than just api.sandbox.paypal.com api.paypal.com</p>

<p>Thanks in advance.</p>",1,php|paypal
32894739,Opencart Limiting drop down menu to show 5 cateogires,"<p>I have categories listed on the top navigation bar. Some have quite a few subcategories->products associated with them. So when a person goes over the navigation bar, some of the dropdown menus will span all the way down to the bottom of the screen. Is there a way to limit the amount shown to say around 5?
Would I need to go into the controller and limit something?
Thanks </p>",0,php|opencart
32532864,Need help str_ireplace using argumen if,"<p>I need help replace my result from json. I have this code:</p>

<pre><code>&lt;?php

    $arr = $item['data'];
    print_r(str_ireplace(""AA"",""11"",$arr));

?&gt;
</code></pre>

<p>This code work good if I got result from <code>$item['data'] = AA</code> will replace <code>11</code>, 
but the problem if result from data is <code>BB</code> I want to replace with <code>22</code>.</p>

<p>My question is how i can replace if got result data AA = 11, BB = 22, CC = 33..etc.</p>",0,php|string|str-replace
32838882,PHP zend style URLs build,"<p>I have url for example <a href=""http://www.website.com/page/parm1/one/parm2/two?me=you"" rel=""nofollow"">http://www.website.com/page/parm1/one/parm2/two?me=you</a></p>

<p>I need this url like zend framwork, it should be splited and give me params like </p>

<pre><code>'controller' =&gt; page
'parm1' =&gt; 'one'
'parm2' =&gt; 'two'
'me' =&gt; 'you'
</code></pre>

<p>how canI do it with <strong>PHP</strong>?</p>",-1,php
32920612,"Do you think its worth to make one more classes from an ""observer"" object?","<p>there are <code>news</code> and <code>newsTranslations</code>. Every time a <code>new</code> is created, at least one <code>translation</code> should be exists:</p>

<pre><code>class NewsModel
{
    public function add()
    {
        $newId = SQL INSERT INTO NEWS
        $this-&gt;notifyAdd ($newId);
    }
}

class NewsTranslationModel
{
    public function add ($newId)
    {
        SQL INSERT INTO
    }

    public function notifyAdd($newId)
    {
        $this-&gt;add ($newId);
    }
}

$news = new NewsModel();
$newsTranslation = new NewsTranslationModel();
$news-&gt;attach ($newsTranslation);
</code></pre>

<p>but in that way, I feel that <code>NewsTranslationModel</code> has too much responsibilities. What if I write this:</p>

<pre><code>class NewsModel
{
    public function add()
    {
        $newId = SQL INSERT INTO NEWS
        $this-&gt;notifyAdd ($newId);
    }
}

class NewsTranslationModel
{
    public function add ($newId)
    {
        SQL INSERT INTO
    }
}

class NewsTranslationObserver
{
    private $newsTranslation;

    public function __constructor ($newsTranslation)
    {
         $this-&gt;newsTranslation = $newsTranslation;
    }

    public function notifyAdd($newId)
    {
        $this-&gt;newsTranslation-&gt;add ($newId);
    }
}

$news = new NewsModel();
$newsTranslation = new NewsTranslationModel();
$news-&gt;attach (new NewsTranslationObserver($newsTranslation));
</code></pre>

<p>what do you think? Is this a better approach? Because I saw many examples but nowhere I saw this separating</p>",1,php|observer-pattern
32927163,External website data separate all H2 tags extracted,"<p>I am using the below to pull some data from an external website. Currently it is working and i am getting the data i need. The issue is i'm getting all h2 tags jumbled together. The below is what i am using:</p>

<pre><code>  $no2_row = $no1_xpath-&gt;query('//div[3]/div/div/div/h2');
  if($no2_row-&gt;length &gt; 0){
      foreach($no2_row as $row2){
        $name1 = $row2-&gt;nodeValue;
          echo $name1;
      }
</code></pre>

<p>Is there a way i can use <code>explode</code> or something so i can chose what i want to display? like <code>$name1_explode[5]</code> will show the 5th <code>H2</code> tag?</p>

<p>Thanks,</p>",-1,php|xpath
32834234,oci_connect ERR_CONNECTION_RESET when using tnsnames,"<p>I am trying to connect to an oracle database using php. When I try to connect by connection string/descriptor, it connects just fine, but when I try to connect using a tns name, the whole thing stops and chrome shows a blank error page <code>ERR_CONNECTION_RESER</code>. I see the failed response and it is 0 bytes, no header, no body... nothing.</p>

<p>here is the code:</p>

<pre><code>&lt;?php

error_reporting(E_ALL);

ini_set('display_errors', 'On');

$connStr = ""Some connection &lt;string&gt; copied from tnsnames.ora"";
//$connStr = ""Some connection &lt;name&gt; copied from tnsnames.ora"";

try
{
    $conn = oci_connect('dev', '12345678', $connStr, 'utf8');
    if (!$conn)
    {
        $err = oci_error();
        var_dump($err);
    }
    oci_close($conn);
    echo ""Success"";
}
catch(Exception $e)
{
    $err = oci_error();
    var_dump($err);
    var_dump($e);
}
</code></pre>

<p>I checked and my php can see
    ORACLE_HOME
    TNS_ADMIN
and they are pointing to the right direction.
I am using
    Windows 7 amd64
    PHP 5.6.13 TS VC11
    Apache 2.4.16 VC14
    Instant Client 12.1.0.2</p>",0,php|oci|tnsnames
32853479,WP-CLI error in connecting to the database,"<p>This is a very common wp-cli error while using MAMP. I installed wp-cli, exported the php version MAMP is using to the WP_CLI_PHP variable as recommended by the instructions. The output of <code>$ wp --info</code> is:</p>

<pre><code>PHP binary: /Applications/MAMP/bin/php/php5.6.2/bin/php
PHP version:    5.6.2
php.ini used:   /Applications/MAMP/bin/php/php5.6.2/conf/php.ini
WP-CLI root dir:    phar://wp-cli.phar
WP-CLI global config:   
WP-CLI project config:  
WP-CLI version: 0.20.1
</code></pre>

<p>I've followed along with all the solutions for this, but I'm still getting a timeout and error in connecting to the database. I also have MAMP running while running wp-cli commands. Any ideas?</p>",1,php|wordpress|mamp|wp-cli
32947530,Dynamic text in emails with php,"<p>I'm working on some dynamic content for emails and I have an idea that works for images, but not for text.</p>

<p>I have the following php code which what basically does, is looking for the location and reads one of the files depending on it.
    

<pre><code> require_once('geoplugin.class.php');

 $geoplugin = new geoPlugin();

 $geoplugin-&gt;locate();

 $city = $geoplugin-&gt;city;
 $borough = $geoplugin-&gt;regionCode;

 if ($borough == 'H9') {

    readfile('http://audreyvolpert.co.uk/dynamic_image/images/UEL1.jpg');
    //readfile('http://audreyvolpert.co.uk/dynamic_image/content/header_1.txt');

 } else {

    readfile('http://audreyvolpert.co.uk/dynamic_image/images/UEL2.jpg');
    //readfile('http://audreyvolpert.co.uk/dynamic_image/content/header_2.txt');
 }

?&gt;
</code></pre>

<p>In the html file I can have the following code if the file read is an image</p>

<pre><code>&lt;p&gt;&lt;img src=""http://audreyvolpert.co.uk/dynamic_image/geolocation/index.php"" width=""270"" height=""167"" /&gt;&lt;/p&gt;
</code></pre>

<p>Do you have an idea how I might pull text instead of an image in html? </p>

<pre><code>&lt;p&gt;Here goes the text pulled from the php file&lt;/p&gt;
</code></pre>

<p>What I want to achieve is a dynamic content for an email, therefore I can't use any php, javascript in my html.</p>

<p>Many thanks for any feedback</p>",0,php|html|geolocation|html-email|dynamic-content
32984527,Battlenet Oauth2 using Laravel - cannot get correct output,"<p>I've tried both of these libraries for the Oauth 2.0 process:</p>

<p>1) <a href=""https://github.com/thephpleague/oauth2-client"" rel=""nofollow"">https://github.com/thephpleague/oauth2-client</a>
2) <a href=""https://github.com/tpavlek/oauth2-bnet"" rel=""nofollow"">https://github.com/tpavlek/oauth2-bnet</a></p>

<p>But I haven't really made either of them work. I'm fairly new to Laravel but I want to use this framework for this project.</p>

<p>Here's the code I've been working on:</p>

<p><em>Routes</em></p>

<pre><code>Route::get('oAuth/authRequest', 'CommunityOAuthProfile@authRequest');

Route::get('oAuth/authCode', 'CommunityOAuthProfile@authCode');
</code></pre>

<p><em>Controllers(CommunityOAuthProfile.php)</em></p>

<pre><code>&lt;?php

namespace App\Http\Controllers;

use App\User;
use App\Http\Controllers\Controller;
use OAuth;

class CommunityOAuthProfile extends Controller
{
public function authRequest()
{
    $provider = new \Depotwarehouse\OAuth2\Client\Provider\WowProvider([
        'clientId'                =&gt; &lt;client_id&gt;,    // The client ID assigned to you by the provider
        'clientSecret'            =&gt; &lt;client_secret&gt;,   // The client password assigned to you by the provider
        'redirectUri'             =&gt; 'https://sc2data.com/oAuth/authCode',
    ]);

    if (!isset($_GET['code'])) 
    {
        $authorizationUrl = $provider-&gt;getAuthorizationUrl();
        $_SESSION['oauth2state'] = $provider-&gt;getState();

        header('Location: ' . $authorizationUrl);
        exit;
    }
    elseif (empty($_GET['state']) || ($_GET['state'] !== $_SESSION['oauth2state'])) {

        unset($_SESSION['oauth2state']);
        exit('Invalid state');

    } else 
    {
        try 
        {
            // Try to get an access token using the authorization code grant.
            $accessToken = $provider-&gt;getAccessToken('authorization_code', [
                'code' =&gt; $_GET['code']
            ]);

            $user = $this-&gt;provider-&gt;getResourceOwner($token);

            // We have an access token, which we may use in authenticated
            // requests against the service provider's API.
            // echo $accessToken-&gt;getToken() . ""\n"";
            // echo $accessToken-&gt;getRefreshToken() . ""\n"";
            // echo $accessToken-&gt;getExpires() . ""\n"";
            // echo ($accessToken-&gt;hasExpired() ? 'expired' : 'not expired') . ""\n"";

            // // Using the access token, we may look up details about the
            // // resource owner.
            // $resourceOwner = $provider-&gt;getResourceOwner($accessToken);

            // var_export($resourceOwner-&gt;toArray());

            // // The provider provides a way to get an authenticated API request for
            // // the service, using the access token; it returns an object conforming
            // // to Psr\Http\Message\RequestInterface.
            // $request = $provider-&gt;getAuthenticatedRequest(
                // 'GET',
                // 'http://brentertainment.com/oauth2/lockdin/resource',
                // $accessToken
            // );

        }
        catch (\League\OAuth2\Client\Provider\Exception\IdentityProviderException $e) 
        {
            exit($e-&gt;getMessage());
        }
    }
}

public function authCode()
{   
    $provider = new \Depotwarehouse\OAuth2\Client\Provider\WowProvider([
        'clientId'                =&gt; &lt;client_id&gt;,    // The client ID assigned to you by the provider
        'clientSecret'            =&gt; &lt;client_secret&gt;,   // The client password assigned to you by the provider
        'redirectUri'             =&gt; 'https://sc2data.com/oAuth/authCode',
    ]);

    try
    {
        $accessToken = $provider-&gt;getAccessToken('authorization_code', [
                    'code' =&gt; $_GET['code']
                ]);

        $user = $this-&gt;provider-&gt;getResourceOwner($token);
    }
    catch (\League\OAuth2\Client\Provider\Exception\IdentityProviderException $e) 
    {
        exit($e-&gt;getMessage());
    }
}
</code></pre>

<p>}</p>

<p>By the way, is there any recommended oauth2 library for php? So far, these 2 are the most promising I've seen but there may be others I'm not aware of? </p>",1,php|laravel|oauth-2.0
32658766,"Doctrine DBAL - SELECT join two tables, with a prefix in the keys of the result","<p>I'm currently using doctrine dbal for my database queries. I'm also using the querybuilder. And I was wondering how I could select two tables and get the results in an array that has prefixed keynames for one of the tables joined.</p>

<p>Here is an example of the desired result:</p>

<pre><code>$data   = [
    key1 =&gt; 'value1',
    key2 =&gt; 'value2',
    key3 =&gt; 'value3',
    key4 =&gt; 'value4',
    table2.key1 =&gt; 'value1',
    table2.key2 =&gt; 'value2',
    table2.key3 =&gt; 'value3',
]
</code></pre>

<p>Thanks</p>",1,php|mysql|join|doctrine-orm|dbal
32985790,Adding a data attribute to a html content (html content getting added in product looping from Custom Fields),"<p>I am using woocommerce .I am looping into products to list them.</p>

<pre><code>&lt;?php
    $args = array( 'post_type' =&gt; 'product', 'posts_per_page' =&gt; 100, 'product_cat' =&gt; 'sections', 'order' =&gt; 'ASC');
    $loop = new WP_Query( $args );
    while ( $loop-&gt;have_posts() ) : $loop-&gt;the_post(); global $product; ?&gt;


    &lt;?php   

 $image = wp_get_attachment_image_src( get_post_thumbnail_id( $loop-&gt;post-&gt;ID ), 'single-post-thumbnail' );

    the_field('html_content');
?&gt;

&lt;input type=""hidden""  name=""price_section"" value=""&lt;?php echo$saleprice = get_post_meta( get_the_ID(), '_sale_price', true);   ?&gt;"" /&gt;
        &lt;img src=""&lt;?php echo $image[0]; ?&gt;"" /&gt;
     &lt;p&gt;&lt;?php echo the_title(); ?&gt;&lt;/p&gt;
   &lt;/div&gt;

    &lt;?php endwhile; ?&gt;
&lt;?php wp_reset_query(); ?&gt;
</code></pre>

<p>In above code <strong>the_field('html_content');</strong>  is the content i am getting from custom field and its value is like this.</p>

<pre><code>&lt;div class=""dvThumb "" data-section=""One""&gt; 
 &lt;div id=""asd"" name="""" class=""dvSectionCol"" style=""width:90.2px 
!important; text-align:center;"" &gt;
&lt;/div&gt;
</code></pre>

<p>Now in looping I want to adda data attribute to the <strong>html_content</strong>  (div with id as <strong>asd</strong>).  please tell me how is it possible to add a data attribute to each html_content recieved in loop.</p>

<p>What I want in that data attribute is price .What I have tried is what you can see in loop that I made a hidden input type but I dont see any way to have a unique id and name for each price. So is there any way I can add a data attribute to each html_content in loop itself.</p>

<p><strong>It would be great if I can add a data attribute for price because than it will be very easy for me for further use.</strong></p>",1,php|jquery|html|wordpress
32678757,How to read php code with sprintf,"<p>I am self-learning php and I want to ask if am I reading this part of code correctly?
<code>If</code> powers is not empty, than make <code>array</code> from <code>values</code>, 
also each <code>power</code> will act like <code>power_id</code>. But <code>$values[]</code> is same as <code>array_pust()</code> ?  And <code>sprintf('(%d, %d)'</code> will put decimal numbers to character_id and power?</p>

<pre><code> $character_id = mysql_insert_id($db);
  if(!empty($_POST['powers'])) { 
  $values = array();
  foreach ($_POST['powers'] as $power_id) {
  $values[] = sprintf('(%d, %d)', $character_id, $power_id);  
  }
</code></pre>",0,php
32738797,How to solve queued processes in IIS,"<p>I'm using IIS 7.5 with PHP and I'm having troubles with my application, it is VERY slow and it can take more than 2 minutes to display the login screen.</p>

<p>I believe this is due to some kind of queue of requests to process.</p>

<p>I've taken a look at the ""Worker Processes"" menu in IIS and I found out there are tends request in the <em>DefaultAppPool</em> which seem to be waiting for a response.</p>

<p>Is this normal? How can I get rid of them?</p>

<p><a href=""https://i.stack.imgur.com/m5R5y.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/m5R5y.png"" alt=""enter image description here""></a></p>",0,php|iis|iis-7.5|fastcgi
32802535,post forms inputted value,"<p>can anyone explain how i get the value that is input into products_price to pass though to the &amp;price=  upon submitting</p>

<pre><code> &lt;form method=""post"" action=""epos_action.php""&gt;
</code></pre>

<p></p>

<pre><code>&lt;td width=""80%""&gt;&lt;?php echo $default_currency_symbol; ?&gt;&lt;input type=""text"" name=""products_price"" size=""14"" value=""&lt;?php echo(number_format(($_POST['products_price']), 2, '.', '')); ?&gt;""&gt;

&lt;td&gt;&lt;a width=""12%"" colspan=""1"" align=""center""&gt;&lt;a input type=""submit"" method=""post"" value=""Submit"" class=""button"" title=""&lt;?php echo 'Pay Account'; ?&gt;"" href=""#""  onclick=""this.blur(); window.location.href='epos_action.php?Action=PayBill&amp;ProductID=&lt;?php echo $dummy_product_id; ?&gt;&amp;Quantity=&lt;?php echo $fakeqty;?&gt;&amp;PayName=&lt;?php echo $results['orders_id']; ?&gt;&amp;Price=&lt;?php echo ($_POST['products_price']); ?&gt;'""&gt;&lt;span&gt;&lt;?php echo 'Make Payment'; ?&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;
</code></pre>

<p>(if i put another variable in the &amp;price= it passes the value through to the epos.action.php file as expected.</p>",0,php|html|arrays|form-submit
32828124,php spl_autoload not working from other directory,"<p>this is my index.php file in project root:</p>

<pre><code>spl_autoload_extensions('.php');
spl_autoload_register();
</code></pre>

<p>I added this into htaccess in order to redirect everything into public folder:</p>

<pre><code>RewriteEngine on
RewriteRule ^$ public/ [L]
RewriteRule (.*) public/$1 [L]
</code></pre>

<p>Inside public folder I just included index file like so:</p>

<pre><code>// public/index.php file
require '../index.php';
</code></pre>

<p>But it's throwing an error:</p>

<pre><code>Fatal error: spl_autoload(): Class controllers\TestController could not be loaded
</code></pre>

<p>Why? If I remove htaccess and not use public folder it works perfectly.</p>",1,php
32861578,Session lost in sub domain url in apache server,<p>I have a session lost problem in sub domain url (test.example.com) after login. But the same code working fine in (i.e example.com). I tried session.cookie_domain but same error exist. Please anybody help in this regards </p>,1,php
32548361,PHP embed shared library not loading any extentions,"<p>I have a similar proplem to <a href=""https://serverfault.com/questions/702661/php5-embed-does-not-load-extensions?rq=1"">https://serverfault.com/questions/702661/php5-embed-does-not-load-extensions?rq=1</a>. Not sure if he's writing a shared library using embed. But my problem is when ""running"" my built shared library. As an executable loads the extensions. But not as a shared library (.so). All my extensions fail. All of them are in the location specified.</p>

<pre><code>Failed loading /usr/lib/php5/20121212/opcache.so:  /usr/lib/php5/20121212/opcache.so: undefined symbol: zend_ini_boolean_displayer_cb
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/oci8.so' - /usr/lib/php5/20121212/oci8.so: undefined symbol: OnUpdateLong in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/pdo.so' - /usr/lib/php5/20121212/pdo.so: undefined symbol: compiler_globals in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/pdo_oci.so' - /usr/lib/php5/20121212/pdo_oci.so: undefined symbol: php_info_print_table_start in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/pdo.so' - /usr/lib/php5/20121212/pdo.so: undefined symbol: compiler_globals in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/pdo_oci.so' - /usr/lib/php5/20121212/pdo_oci.so: undefined symbol: php_info_print_table_start in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/oci8.so' - /usr/lib/php5/20121212/oci8.so: undefined symbol: OnUpdateLong in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/curl.so' - /usr/lib/php5/20121212/curl.so: undefined symbol: zend_new_interned_string in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/json.so' - /usr/lib/php5/20121212/json.so: undefined symbol: zend_new_interned_string in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20121212/readline.so' - /usr/lib/php5/20121212/readline.so: undefined symbol: OnUpdateString in Unknown on line 0
</code></pre>

<p>By the sound of the ""undefined symbol"" warning it's obviously missing something environment related. A Zend library or something not loaded to handle loading extensions.</p>

<p>The code below is exactly what I use in the .so file, except obviously main is renamed. I'm guessing somewhere, for the .so, an environment setup needs to happen:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include ""/usr/include/php/sapi/embed/php_embed.h""

int main( int argc, char *argv[] )
{       
    char *filename = ""/path/to/php/test.php"";
    argc--;
    argv++;

    PHP_EMBED_START_BLOCK(argc,argv)

        zval zoutput;
        char *include_file;     

        spprintf( &amp;include_file, 0, ""include '%s';"", filename  );
        zend_eval_string( include_file, &amp;zoutput, filename TSRMLS_CC );
        efree(include_file);

    PHP_EMBED_END_BLOCK()

    return 0;

}
</code></pre>

<p>Any help would be appreciated. Thanks.</p>",2,php|c
32614774,How to store images into amazonaws server using php,"<p>How i can store images into amazonaws server instead of storing on my hosting!</p>

<p>i have a PHP code that store images in my hosting/web dir. but i want to store them on amazon server!</p>

<p>PHP:</p>

<pre><code>$targetfolder = ""testfolder/"";
</code></pre>

<p>i want to make target folder in amazon!</p>",1,php|upload
32633839,CodeIgniter: Why variable change after callback function? Am I using it the right way?,"<p>I'm currently using CodeIgniter. And after a form validation I used the function ""set_rules"" for check if the user's information is correct.
Otherwise, I tried to send 2 variable using the ""callback"" function but it seem that the second variable change its value when I use ""callback"" function. If in my form I fil it as:   </p>

<pre><code>Username = ""test_username""    
Password = ""test_password""   
</code></pre>

<p>In my function database,       </p>

<pre><code>$username will display ""test_username""       
$password will display ""test_username,test_password"".     
</code></pre>

<p>I tried by this way:</p>

<pre><code> function index()
 {
  $this-&gt;load-&gt;library('form_validation');
  $username = $this-&gt;input-&gt;post('username');
  $password = $this-&gt;input-&gt;post('password');
  $this-&gt;form_validation-&gt;set_rules('username', 'Username', 'trim|required', 'wrong or missing username');
  $this-&gt;form_validation-&gt;set_rules('password', 'Password', 'trim|required|callback_check_database($username, $password)', 'wrong or missing password');
 }

  function check_database()
  {
    echo '$password'. '&lt;/br&gt;'; //display =&gt; test_username
    echo '$username'. '&lt;/br&gt;'; // display =&gt; test_username,test_password
  }
</code></pre>

<p>I tried to replace a few line of the higher code by:</p>

<pre><code> function index()
 {
  $this-&gt;load-&gt;library('form_validation');
  $this-&gt;form_validation-&gt;set_rules('username', 'Username', 'trim|required', 'wrong or missing username');
  $this-&gt;form_validation-&gt;set_rules('password', 'Password', 'trim|required|callback_check_database['. $this-&gt;input-&gt;post($username). ','. $this-&gt;input-&gt;post($password), 'wrong or missing password'];

  function check_database($password, $username)
  {
    echo '$password'. '&lt;/br&gt;'; //display =&gt; test_username
    echo '$username'. '&lt;/br&gt;'; // display =&gt; test_username,test_password
  }
</code></pre>

<p>But it's the same problem.
I didn't find the manual of the callback function on the CodeIgniter site. The second question I have is when I write</p>

<pre><code>  $this-&gt;form_validation-&gt;set_rules('password', 'Password', 'trim|required|callback_check_database', 'wrong or missing password');

  function check_database() //work only if I write check_database($password)
  {
    //blah blah blah
  }
</code></pre>

<p>It pop me an error. Given I didn't find any manual of call_back function, I suppose that the callback function is use into a set_rules which is testing the password variable so I think that the call_back function will automatically sent the password variable to check_database() function.(That's why I need to put $password to the check_database prototype).</p>

<p>I've already find a solution but I'm just here for know what happen(I'm curious) ?</p>

<p>Does anyone can tell me why in the first and the second code, the second parameter of callback change once it is on the check_database() ?
And by the way can you confirm me if am I right for the last code ? More precisely when I say that the call_back function will automatically sent the password variable to check_database() ?</p>

<p>Thank's</p>

<p>PS: In the code I show you before, I voluntarily remove a part of the code to avoid you to read to much because I post is a bit longer I think.</p>",0,php|codeigniter|callback
32778086,How to document loaded xml structure with phpDOC,"<p>Consider the file 'cars.xml' with complex elements:</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt;
&lt;root&gt;
    &lt;car&gt;
        &lt;model&gt;Volvo&lt;/model&gt;
        &lt;color&gt;red&lt;/color&gt;
    &lt;/car&gt;
    &lt;car&gt;
        &lt;model&gt;BMW&lt;/model&gt;
        &lt;color&gt;black&lt;/color&gt;
    &lt;/car&gt;
&lt;/root&gt;
</code></pre>

<p>Once loaded in PHP how do I document the structure of the $xml variable via phpDoc, especially so that it can use in code completion in IntelliJ-IDEA?</p>

<pre><code>/**
 * @var ?????????? $xml
 */
$xml=simplexml_load_file('cars.xml');
</code></pre>",2,php|xml|intellij-idea|phpstorm|phpdoc
32822016,Trying to get property of non-object in simple php MVC code,"<p>This questions has been answered many time, but am unable to find proper solution here. </p>

<p>Am new to php MVC framework.am trying to execute a code that is available online. here the html page displays fine with combobox for selection, but when i select an item and submit am getting this error. can anyone help me in understanding the problem and solve it.</p>

<p>Here is the code </p>

<p>Book class:</p>

<pre class=""lang-php prettyprint-override""><code>class Book
{
    public $name;
    public $version;
    public $yop;

    public function __construct($name, $version, $yop)
    {
        $this -&gt; name = $name;
        $this -&gt; version = $version;
        $this-&gt;yop=$yop;
    }
}
</code></pre>

<p>Model class :</p>

<pre class=""lang-php prettyprint-override""><code>class Model
{
    public $text;

    public function __construct()
    {
        $this-&gt;text=""Book selection"";
    }

    public function getBookList()
    {
        return array(
            'PHP for Absolute Beginners' =&gt; new Book ('PHP for Absolute Beginners', '1.2', '1999'),
            'Basic Introduction to PHP MVC' =&gt; new Book ('Basic Introduction to PHP MVC', '1.0', '2008'),
            'Advanced PHP' =&gt; new Book ('Advanced PHP', '1.2', '2004'),
            'Advanced PHP MVC' =&gt; new Book ('Advanced PHP MVC', '2.0', '2014')
        );
    }

    public function getBook($name)
    {
        $allBooks= $this-&gt;getBookList();

        return $allBooks;
    }
}
</code></pre>

<p>controller class:</p>

<pre class=""lang-php prettyprint-override""><code>class Controller
{
    public $model;

    public function __construct(Model $model)
    {
        $this-&gt;model=$model;
    }

    public function invoke()
    {
        if (!isset($_GET['book'])) {
            return $this-&gt;model-&gt;getBookList();

        } else {
            return '&lt;h2&gt;'.$this-&gt;model -&gt;text.'&lt;/h2&gt;';
        }
    }

    public function output()
    {
        return'&lt;h1&gt;' . $this -&gt; model -&gt; text . '&lt;/h1&gt;';
    }
}
</code></pre>

<p>finally this is the view </p>

<pre class=""lang-php prettyprint-override""><code>$model = new Model();
$controller = new Controller($model);

echo $controller-&gt; output();

$books = $controller -&gt;invoke();

if ($_SERVER['REQUEST_METHOD'] === ""GET"") {

    if (isset($_GET['book'])) {
        echo ""You selected "" . $books-&gt;name . "" version: "" . $books-&gt;version . "" Year of published: "" . $books-&gt;yop;

        exit();
    }
}
</code></pre>

<p>this is the HTML form for submitting data</p>

<pre class=""lang-html prettyprint-override""><code>&lt;form method=""GET"" action=""""&gt;
    &lt;select name=""book""&gt;
        &lt;?php
            foreach ($books as $x=&gt;$x_value) {
                echo '&lt;option value=""' . $x . '""&gt;' . $x . '&lt;/option&gt;';
            }
        ?&gt;
    &lt;/select&gt;
    &lt;input type=""submit"" value=""Select"" name=""submit""&gt;
&lt;/form&gt;
</code></pre>

<p>any suggestion please..</p>",0,php|model-view-controller
32847237,Adding elements from loop to Zend Form in Zend Framework 2,"<p>When adding elements to a Zend 2 Form, </p>

<pre><code>  foreach($headers as $column)
            {
                $checkbox = new Element\Checkbox('checkbox');
                $checkbox-&gt;setLabel($column . """");
                $checkbox-&gt;setUseHiddenElement(true);
                $checkbox-&gt;setCheckedValue(""true"");
                $form-&gt;add($checkbox);
            }
</code></pre>

<p>I run into the problem that only the last element is added. From stepping through the code, I know that it is running the loop multiple times, but the <code>add()</code> code of the Zend Form just seems to map the last element rather than add all of the elements. What's the best way to do something like this? </p>",0,php|zend-framework2
32778911,Laravel 5 - MD5 Hash error gravatar,"<p>I'm trying to use Gravatar which requires an MD5 hash on the email, when I try this using Laravel and blade it just outputs my code instead of running it. </p>

<p><strong>Model</strong></p>

<pre><code>public function getAvatarUrl()
{
    return ""https://www.gravatar.com/avatar/{{ md5($this-&gt;email) }}?d=mm&amp;s=40"";
}
</code></pre>

<p><strong>View</strong></p>

<pre><code>&lt;img class=""media-object avatar"" alt=""{{ $status-&gt;user-&gt;getNameOrUsername() }}"" src=""{{ $status-&gt;user-&gt;getAvatarUrl() }}""&gt;
</code></pre>

<p>The out put on the page is such - </p>

<pre><code>&lt;img class=""media-object avatar"" alt=""Sam"" src=""https://www.gravatar.com/avatar/{{ md5(sam@myemail.co.uk) }}?d=mm&amp;amp;s=50""&gt;
</code></pre>",0,php|laravel|blade
32823329,Post data from external domain to prestashop modules,<p>I will be developing a <strong>prestashop module</strong> to which i want to <code>POST</code> data from my external source. I went through their documentaion and it is mentioned there that external visitors are prohibited to load <code>mymodule.php.</code> file directly. Is there any legitimate way to achieve this ?</p>,0,php|prestashop|prestashop-1.6|prestashop-1.5
32837253,How to change table of model dynamically in laravel 4.2?,"<p>It is known that after creating a new model, there is a function to change the table used by the model.</p>

<p>For example,</p>

<pre><code>$example_model = new ExampleModel;
$example_model-&gt;setTable('myTable_'.$some_other_variable);
</code></pre>

<p>However, if I am finding record from table, is there a way to choose the table before querying the database?</p>

<p>i.e. something like this</p>

<pre><code>$example_model = ExampleModel::setTable('myTable_'.$some_other_variable)-&gt;where('myColumn', $variable_to_be_compared)-&gt;get();
</code></pre>

<p>(Noticed that the following line is not correct. I will says setTable is not a static method)</p>

<p>I have some custom function in my model, so I would prefer not to use <code>DB::table('myTable_'.$some_other_variable)</code>.</p>",1,php|mysql|database|laravel|laravel-4
32826160,Yii2 Gridview filter by permission,"<p>I have a super admin, that can create users and can assign specific locations for each user. This is stored in a simple table, where we get the ID of the user and the ID of the location.</p>

<p>Then, I have a table of clients. Each client also has a location, named loc_id. How can I filter so that in the Gridview a user can only see the clients that live in a location that the user has a permission to view (a user is a kind of admin that can manipulate the data of a client in their jurisdiction)?</p>

<p>I get the user id by</p>

<pre><code>$userId = \Yii::$app-&gt;user-&gt;identity-&gt;id
</code></pre>

<p>and then find the locations that he can view with</p>

<pre><code>$userLocation = Userlocations::find()-where(['user_id' =&gt; $userId])-&gt;all();
</code></pre>

<p>But now how can I apply this to a standard Gridview with a Search Model and a DataProvider, so that I can still filter and sort the GridView by the other properties?</p>

<pre><code>$searchModel = new AsociatiiSearch();
$dataProvider = $searchModel-&gt;search(Yii::$app-&gt;request-&gt;queryParams);

return $this-&gt;render('index', [
        'searchModel' =&gt; $searchModel,
        'dataProvider' =&gt; $dataProvider,
    ]);
</code></pre>",2,php|gridview|yii2|yii2-model
32945964,PHP: Search mysql database using multiple select dropdown lists?,"<p>I'm trying to search MYSQL database using multiple Dropdown lists on my page.</p>

<p>However, there is a small twist in this search function.</p>

<p>Basically, I need to make sure <em>All</em> the criteria (all the multiple select dropdonw values) match the items and if they do match then show the result!</p>

<p>At the moment, my code shows the results even if one of the dropdown values match the items which is not what i am trying to do.</p>

<p>This is my code:</p>

<pre><code>$searchList = """";
$clause = "" WHERE "";//Initial clause
$sql=""SELECT *
FROM `product_details`
INNER JOIN `ATTRIBUTES` ON product_details.id=ATTRIBUTES.id"";//Query stub
    if(isset($_POST['keyword']) &amp;&amp; !empty($_POST['keyword'])){

        foreach($_POST['keyword'] as $c){
            if(!empty($c)){
            $currentproduct = $_POST['product'];
            $cat = $_POST['cat'];
                ##NOPE##$sql .= $clause.""`"".$c.""` LIKE '%{$c}%'"";
                $sql .= $clause . "" (ATTRIBUTES.attr LIKE BINARY '$c') AND ATTRIBUTES.sub_cat_name='$currentproduct'"";
               $clause = "" OR "";//Change  to OR after 1st WHERE
            }
        }
        $sql .= "" GROUP BY product_details.id"";
        //print ""SQL Query: $sql&lt;br /&gt;""; //&lt;-- Debug SQl syntax.
        // Run query outside of foreach loop so it only runs one time.
        $query = mysqli_query($db_conx, $sql);
</code></pre>

<p>I even tried to remove the <code>isset</code> and did  <code>if(!empty($_POST['keyword'])){</code> but i still get results even if one of the dropdown lists values match the items credentials.</p>

<p>I'm not sure what I am doing wrong here as I thought using <code>if(!empty($_POST['keyword'])){</code> should solve this issue but it hasn't.</p>

<p>Could someone please advise on this issue?</p>

<p>any help would be appreciated.</p>

<p>EDIT: I changed the CODE to the following and it doesn't display anything:</p>

<pre><code>$clause = "" WHERE "";//Initial clause
$sql=""SELECT *
FROM `product_details`
INNER JOIN `ATTRIBUTES` ON product_details.id=ATTRIBUTES.id"";//Query stub
            $currentproduct = $_POST['product'];
            $cat = $_POST['cat'];
            if(!empty($_POST['keyword'])){

        foreach($_POST['keyword'] as $c){
            if(!empty($c)){

                ##NOPE##$sql .= $clause.""`"".$c.""` LIKE '%{$c}%'"";
                $sql .= $clause . "" (ATTRIBUTES.attr LIKE BINARY '$c') AND ATTRIBUTES.sub_cat_name='$currentproduct'"";
               $clause = "" AND "";//Change  to OR after 1st WHERE
            }
        }
        $sql .= "" GROUP BY product_details.id"";
        //print ""SQL Query: $sql&lt;br /&gt;""; //&lt;-- Debug SQl syntax.
        // Run query outside of foreach loop so it only runs one time.
        $query = mysqli_query($db_conx, $sql);
        //var_dump($query); //&lt;-- Debug query results.
        // Check that the query ran fine.
       if (!$query) {
            print ""ERROR: "" . mysqli_error($db_conx);
        }
</code></pre>",0,php|mysql
32857188,How do I access the getServiceLocator in Model ZF2,"<p>I am trying to access the getServiceLocator function in a model.  It works in the controller but when I move it into a model I get NULL when trying to access.  </p>

<pre><code> Call to a member function get() on null
</code></pre>

<p>It seemed like below link offered a comparable solution but I had trouble implementing</p>

<p><a href=""https://stackoverflow.com/questions/21524974/use-another-module-in-our-custom-helper-in-zend-framework-2"">Use another module in our custom helper in zend framework 2</a>  </p>

<p>Below is the code I am trying to run in a model.</p>

<pre><code>use Zend\ServiceManager\ServiceLocatorAwareInterface;
use Zend\ServiceManager\ServiceLocatorInterface;

class FileManager implements ServiceLocatorAwareInterface {

someFunction(){
    $thumbnailer = $this-&gt;getServiceLocator()-&gt;get('WebinoImageThumb');
    }
}  
</code></pre>

<p>Thank you
M</p>",3,php|zend-framework|zend-framework2
32891883,What are the available options for Eloquent's Model::save() method?,"<p>Eloquent has a method called <code>save()</code>, which takes an optional array of parameters (options).  However, the <a href=""http://laravel.com/api/5.1/Illuminate/Database/Eloquent/Model.html#method_save"" rel=""nofollow"">API reference</a> doesn't seem to explain what these options are.</p>

<p>Is there a list somewhere that I'm missing?  I could track them down through the source code of course (I see <code>touch</code> and <code>timestamp</code>, at least), but I figured at the very least this question would be useful as a reference to others.</p>",5,php|laravel-5|eloquent
32818477,How to get the current route on middleware in lumen framework?,"<p>I have develop the API application using lumen. And for the access permission control. I want to get the current route in middleware. But, I always get null on:</p>

<pre><code>   $route = $request-&gt;route();
</code></pre>

<p>I already try the way on the <a href=""https://stackoverflow.com/questions/30577949/can-i-get-current-route-information-in-middleware-with-lumen"">Can I get current route information in middleware with Lumen?</a> which using the routeMiddleware and  dispatcher. But it's still return null. How could I get the current route on middleware?</p>

<p>Thank a lot.. </p>",3,php|laravel|permissions|middleware|lumen
32556024,Connect to Zend Framework Controller,"<p>I have some information on a Zend Controller that I want to show on a div on index.php sort as a menu, with title as button and the content as the content itself.
I tried to follow several tutorials, but did not get anywhere.
Can someone shed some light in how to call the Controller from index?</p>

<pre><code>&lt;?php

class TabController extends Zend_Controller_Action
{

public function init()
{
    /* Initialize action controller here */
}

public function indexAction()
{
    // action body
}

public function tabcontentAction(){

   $this-&gt;_helper-&gt;viewRenderer-&gt;setNoRender();
   $this-&gt;_helper-&gt;layout()-&gt;disableLayout();


        $arr = array( array( Title =&gt; ""Women"", 
                  Content =&gt; date(""H:i:s"") . "" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sem ligula, luctus et a
(...)
         )
         );

echo json_encode($arr);
}


}
</code></pre>

<p>Thank you</p>",1,php|zend-framework
32716090,Rewrite rule in wordpress for wordpress page,"<p>I'm running wordpress in my local with ""ben.scbw.zec.dev"" vhost.</p>

<p>I have created page template to display particular event detail.</p>

<p><a href=""http://ben.scbw.zec.dev/event-view?view_event=14"" rel=""nofollow"">http://ben.scbw.zec.dev/event-view?view_event=14</a></p>

<p>I can access page with above url ""event-view"" is slug on page and page id = 439 .</p>

<p>Now, I desire to access it with below url.</p>

<p><a href=""http://ben.scbw.zec.dev/event-view/this-is-test-event/14/"" rel=""nofollow"">http://ben.scbw.zec.dev/event-view/this-is-test-event/14/</a></p>

<p>""this-is-test-event"" its fro titel of event any text , i have manage to create URl.</p>

<p>Below is code from my .htaccess</p>

<pre><code># BEGIN WordPress
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
&lt;/IfModule&gt;
# END WordPress
</code></pre>

<p>Above is Standard wordpress crated code and i have added following code.</p>

<pre><code>RewriteEngine On
RewriteBase /
RewriteCond %{SCRIPT_FILENAME} !-d
RewriteCond %{SCRIPT_FILENAME} !-f
RewriteRule ^event-view/([^/]*)/([^/]*)/$ ./index.php?page_id=439&amp;titel=$1&amp;view_event=$2 [L]
</code></pre>

<p>here 439 is in page id for ""even-view"" as i mentioned.</p>

<p>But, I'm not able to access page with ""<a href=""http://ben.scbw.zec.dev/event-view/this-is-test-event/14/"" rel=""nofollow"">http://ben.scbw.zec.dev/event-view/this-is-test-event/14/</a>"" url. it shows me 404 not found error.
I have been trying this for 4-5 day but not able to find solution.</p>

<p>I'm really very Thank full if anyone can help me in this. </p>",1,php|wordpress|.htaccess
32803925,Syntax error with unioned tables,"<p>This query works...</p>

<pre><code>$stm = $pdo-&gt;prepare(""SELECT T1.Taxon, T1.Rank, T2.Taxon, T2.Rank FROM     gz_life_reptiles_new T1
LEFT JOIN gz_life_reptiles_new T2 ON T2.Taxon = T1.Taxon
UNION
SELECT T1.Taxon, T1.Rank, T2.Taxon, T2.Rank FROM gz_life_reptiles_new T1
RIGHT JOIN gz_life_reptiles T2 ON T2.Taxon = T1.Taxon"");
 $stm-&gt;execute(array(
));
</code></pre>

<p>However, I want to combine them into a single virtual table with the name ""combined"" so I can perform more operations, including GROUP BY, something like this...</p>

<pre><code>$stm = $pdo-&gt;prepare(""SELECT *
FROM (SELECT T1.Taxon, T1.Rank, T2.Taxon, T2.Rank FROM  gz_life_reptiles_new T1
LEFT JOIN gz_life_reptiles_new T2 ON T2.Taxon = T1.Taxon
UNION
SELECT T3.Taxon, T3.Rank, T4.Taxon, T4.Rank FROM gz_life_reptiles_new T3
RIGHT JOIN gz_life_reptiles T4 ON T4.Taxon = T3.Taxon
) AS Combined
GROUP BY Taxon"");
 $stm-&gt;execute(array(
));
</code></pre>

<p>However, I didn't write it correctly. I get the error message <strong>#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') AS Combined
GROUP BY Taxon
LIMIT 0, 30' at line 6</strong></p>

<p>Can anyone see what I'm doing wrong?</p>",0,php|mysql
32589778,Validate Jasypt encrypted password on PHP server,"<p>I'm trying to implement a basic but secured log in process on my Java application.</p>

<p>The client fills his login/password on the application, the password is encrypted (or hashed?) with:</p>

<pre><code>StrongPasswordEncryptor passwordEncryptor = new StrongPasswordEncryptor();
String password = passwordEncryptor.encryptPassword(passwordTextField.getText());
</code></pre>

<p>and sent to my web server which processes the query using PHP.
The given string is stored in MySQL as the password at first connection (for test purpose at the moment).</p>

<p>Obviously, I need to check at every connection if the password matches what I have in the database.
I thought I could compare with some function the new password string to confirm if it matches the existing one in the DB.
Unfortunately, I can't figure out how to do this. </p>

<p>I might be totally wrong on the way to do it but I can't find online resources that would give clues to manage a Java client authenticating on a PHP web server.</p>

<p>I have seen references to a GitHub project to get Jasypt stuff into PHP, but the references does not exist anymore.</p>

<p>Any help would be very appreciated.</p>

<p>Sorry I'm a total newbie on the security issues.</p>

<p>Thanks.</p>",1,java|php|authentication|encryption|jasypt
32777956,Doctrine2 ORM Access ManyToMany Join Table,"<p>A follow up to my previous question </p>

<blockquote>
  <p><a href=""https://stackoverflow.com/questions/32759752/doctrine2-orm-onetoone-not-working-update-changed-to-manytomany-but-not-fully-wo"">Doctrine2 ORM OneToOne not working UPDATE changed to ManyToMany but not fully working</a>.</p>
</blockquote>

<p>I accepted the very helpful answer given, since it pointed me in the right direction. Unfortunately, I struggle to get the rest working, but since the question got too long and confusing, I start a new question. </p>

<p>I have a page where user can write adverts. User can also bookmark adverts they like to see them later in their User Section.</p>

<p>I have got 3 Database tables</p>

<pre><code>advert (id, advert_title....)
user (id, user_name....)
bookmarks (advert_id, user_id)
</code></pre>

<p>As adviced in my previous question, I have created 2 Entities, Advert and User Entity (see below) </p>

<p><strong>Advert.php</strong></p>

<pre><code>namespace Advert\Entity;

use Doctrine\ORM\Mapping as ORM;
use Doctrine\Common\Collections\ArrayCollection;
use DateTime;
use Zend\Stdlib\ArrayObject;

/** Advert
 * 
 * @ORM\Table(name=""advert"")
 * @ORM\Entity(repositoryClass=""Advert\Repository\AdvertRepository"")
 */

class Advert
{
/**
 * @var integer
 * @ORM\Column(name=""id"", type=""integer"", nullable=false)
 * @ORM\Id
 * @ORM\GeneratedValue(strategy=""IDENTITY"")
 */
     private $id;

/**
 * @ORM\ManyToMany(targetEntity=""Advert\Entity\User"", mappedBy=""bookmarks"", cascade={""persist""})
 * @ORM\JoinTable(name=""bookmarks"",
 *      joinColumns={@ORM\JoinColumn(name=""advert_id"", referencedColumnName=""id"")},
 *      inverseJoinColumns={@ORM\JoinColumn(name=""user_id"", referencedColumnName=""id"")}
 *      )
 */
    private $bookmarks;


    public function __construct() 
    { 
        $this-&gt;categories = new ArrayCollection();
        $this-&gt;images = new ArrayCollection();
        $this-&gt;advertCreated = new \DateTime(""now"");
    }

/** 
 * Set ID 
 * 
 * @param integer $id 
 * @return Advert 
 */ 
    public function setId($id) 
    { 
        $this-&gt;id = $id; 
        return $this; 
    }

/**
 * Get id
 *
 * @return integer 
 */
    public function getId()
    {
        return $this-&gt;id;
    }

 /**
 * Set bookmark
 *
 * @param  $bookmark
 * @return bookmark
 */
    public function setBookmark($bookmark)
    {
        $this-&gt;bookmark = $bookmark;
        return $this;
    }


/**
 * Get bookmark
 *
 * @return ArrayCollection
 */
    public function getBookmark()
    {
        return $this-&gt;bookmarks;
    }


/**
 * @param Collection $bookmark
 */
    public function addBookmark($bookmarks)
    {
        $this-&gt;bookmarks-&gt;add($bookmarks);
    }

/**
 * @param Collection $bookmark
 */
    public function removeBookmark($bookmarks)
    {
        $this-&gt;bookmarks-&gt;removeElement($bookmarks);     
    }
}
</code></pre>

<p><strong>User.php</strong></p>

<pre><code>namespace Advert\Entity;

use Doctrine\ORM\Mapping as ORM;
use ZfcUser\Entity\User as ZfcUser;
use Doctrine\Common\Collections\ArrayCollection;
use Doctrine\Common\Collections\Collection;


/**
 * User
 * @ORM\Table(name=""user"")
 * @ORM\Entity(repositoryClass=""Advert\Repository\UserRepository"")
 */

class User extends ZfcUser
{
/**
 * @var integer
 *
 * @ORM\Column(name=""id"", type=""integer"", nullable=false)
 * @ORM\Id
 * @ORM\GeneratedValue(strategy=""IDENTITY"")
 */
protected $id;

/**
 * @ORM\ManyToMany(targetEntity=""Advert\Entity\Advert"", inversedBy=""bookmarks"", cascade={""persist""})
 * @ORM\JoinTable(name=""bookmarks"",
 *      joinColumns={@ORM\JoinColumn(name=""user_id"", referencedColumnName=""id"")},
 *      inverseJoinColumns={@ORM\JoinColumn(name=""advert_id"", referencedColumnName=""id"")}
 *      )
 */
 private $bookmarks;


public function __construct()
{
    $this-&gt;bookmarks = new ArrayCollection();  
}

public function getBookmarks() {
     return $this-&gt;bookmarks;
}

/**
* @param Collection $bookmarks
*/
public function addBookmarks(Collection $bookmarks)
{
   foreach ($bookmarks as $bookmark) {
       $this-&gt;bookmarks-&gt;add($bookmark);
   }
}

/**
 * @param Collection $bookmarks
 */
public function removeBookmarks(Collection $bookmarks)
{
   foreach ($bookmarks as $bookmark) {
       $this-&gt;bookmarks-&gt;removeElement($bookmark);
   }
}  
}
</code></pre>

<p>I have now got a Service to check if an Advert is already Bookmarked, to delete a Bookmark or to set a Bookmark. That means I have to enter the UserId and AdvertId direct into the Join Table Bookmarks. But how do I do that, if I don't have the Bookmark Entity with the setUserId and setAdvertId?</p>

<p>Here is my Service so far the last 2 methods (save and remove) show what I used before I removed the Bookmark Entity. How can I now read the Join Table to check if a Bookmark already exists so check for userId and advertId? And again how would I access this table to delete the Bookmark directly? The Bookmark gets deleted if an Advert gets removed by the owner which is great, but obviously a User also needs to be able to delete just a Bookmark. How do I achieve this?</p>

<p><strong>BookmarkAdvertService.php</strong></p>

<pre><code>public function checkAdvertBookmarkStatus($advertId)
{
    $userId = $this-&gt;getUserEntity()-&gt;getId();  
    $advert = $this-&gt;getEntityManager()-&gt;find('Advert\Entity\Advert', $advertId);
    $bookmarkStatus= $advert-&gt;getBookmark();
    return $bookmarkStatus;
}

public function saveAdvertBookmark($advertId)
{
    //this is what I used before
    $bookmark = new BookmarkEntity();
    $userId = $this-&gt;getUserEntity()-&gt;getId();

    // $bookmark-&gt;addBookmark($advertId); ??? like this
    $bookmark-&gt;setAdvertId($advertId);
    $bookmark-&gt;setUserId($userId);

    # write new bookmmark to database tbl bookmark
    $this-&gt;getEntityManager()-&gt;persist($bookmark);
    $this-&gt;getEntityManager()-&gt;flush();
}


public function removeAdvertBookmark($advertId)
{
    // this is what I used before
    $userId = $this-&gt;getUserEntity()-&gt;getId();
    $bookmark = $this-&gt;getEntityManager()-&gt;getRepository('Advert\Entity\Bookmark')
                                         -&gt;findOneBy(array('advertId' =&gt; $advertId, 'userId' =&gt; $userId));

    # remove bookmmark from tbl bookmark
    $this-&gt;getEntityManager()-&gt;remove($bookmark);
    $this-&gt;getEntityManager()-&gt;flush();
}
</code></pre>

<p><strong>UPDATE 1 NOT WORKING</strong></p>

<p>I get 2 Error Messages:</p>

<p><code>get_class() expects parameter 1 to be object, string given</code></p>

<pre><code>vendor\doctrine\common\lib\Doctrine\Common\Persistence\Mapping\MappingException.php:96

Message:

Class '' does not exist
</code></pre>

<p><strong>Advert\Service\BookmarkAdvertService.php</strong></p>

<pre><code>class BookmarkAdvertService 
{

  public function saveAdvertBookmark($advert)
  {
    $user = $this-&gt;getUserEntity()-&gt;getId(); 

    # create a new, empty entity
    $bookmark = new \Advert\Entity\Bookmark();
    $bookmark-&gt;setUser($user);
    $bookmark-&gt;setAdvert($advert);
     # write new bookmmark to database tbl bookmark
    $this-&gt;getEntityManager()-&gt;persist($bookmark);
    $this-&gt;getEntityManager()-&gt;flush();
  }
</code></pre>

<p><strong>Advert/Entity/Bookmark.php</strong></p>

<pre><code>namespace Advert\Entity;
use Doctrine\ORM\Mapping as ORM;
use Doctrine\Common\Collections\Collection;

/** Bookmark
 * 
 * @ORM\Table(name=""bookmarks"")
 * @ORM\Entity(repositoryClass=""Advert\Repository\BookmarkRepository"")
 */
class Bookmark
{
/**
 * @ORM\Id
 * @ORM\ManyToOne(targetEntity=""Advert\Entity\Advert"", inversedBy=""bookmark"")
 * @ORM\JoinColumn(name=""advert_id"", referencedColumnName=""id"")
 */
private $advert;

/** 
 * @ORM\Id
 * @ORM\ManyToOne(targetEntity=""Advert\Entity\User"", inversedBy=""bookmark"")
 * @ORM\JoinColumn(name=""user_id"", referencedColumnName=""id"")
 */
private $user;


public function setAdvert($advert)
{
    $this-&gt;advert = $advert;
    return $this;
}

public function getAdvert()
{
    return $this-&gt;advert;
}


public function setUser($user)
{
    $this-&gt;user = $user;
    return $this;
}

public function getUser()
{
    return $this-&gt;user;
}    
}
</code></pre>

<p><strong>Advert\Entity\advert.php</strong></p>

<pre><code>namespace Advert\Entity;
use Advert\Entity;
use Doctrine\Common\Collections\ArrayCollection;
use Doctrine\Common\Collections\Collection;
/** Advert
 * 
 * @ORM\Table(name=""advert"")
 * @ORM\Entity(repositoryClass=""Advert\Repository\AdvertRepository"")
 */
class Advert
{
/**
 * @var integer
 *
 * @ORM\Column(name=""id"", type=""integer"", nullable=false)
 * @ORM\Id
 * @ORM\GeneratedValue(strategy=""IDENTITY"")
 */
private $id;

/**
 * @ORM\OneToMany(targetEntity=""Bookmark"", mappedBy=""advert"", cascade={""persist"", ""remove""})
 * @ORM\JoinColumn(name=""advert_id"", referencedColumnName=""id"")
 */
private $bookmarks;

public function setBookmark($bookmark)
{
    $this-&gt;bookmark = $bookmark;
    return $this;
}


/**
 * Get bookmark
 *
 * @return ArrayCollection
 */
public function getBookmarks()
{
    return $this-&gt;bookmarks;
}

/**
 * @param Collection $bookmarks
 */
public function removeBookmarks(Collection $bookmarks)
{
  foreach ($bookmarks as $bookmark) {
    $this-&gt;bookmarks-&gt;removeElement($bookmark);
}
}
</code></pre>

<p><strong>Advert\Entity\User.php</strong></p>

<pre><code>namespace Advert\Entity;

use Doctrine\ORM\Mapping as ORM;
use ZfcUser\Entity\User as ZfcUser;
use Doctrine\Common\Collections\ArrayCollection;
use Doctrine\Common\Collections\Collection;

/**
 * User
 *
 * @ORM\Table(name=""user"")
 * @ORM\Entity(repositoryClass=""Advert\Repository\UserRepository"")
 */

class User extends ZfcUser
{
/**
 * @var integer
 *
 * @ORM\Column(name=""id"", type=""integer"", nullable=false)
 * @ORM\Id
 * @ORM\GeneratedValue(strategy=""IDENTITY"")
 */
 protected $id;

 /**
 * @ORM\OneToMany(targetEntity=""Bookmark"", mappedBy=""user"", cascade={""persist"", ""remove""})
 * @ORM\JoinColumn(name=""user_id"", referencedColumnName=""id"")
 */
private $bookmarks;


public function __construct()
{
    $this-&gt;bookmarks = new ArrayCollection();
}


public function getBookmarks() 
{
     return $this-&gt;bookmarks;
}

/**
* @param Collection $bookmarks
*/
public function addBookmarks(Collection $bookmarks)
{
   foreach ($bookmarks as $bookmark) {
       $this-&gt;bookmarks-&gt;add($bookmark);
   }
}

/**
* @param Collection $bookmarks
*/
public function removeBookmarks(Collection $bookmarks)
{
   foreach ($bookmarks as $bookmark) {
       $this-&gt;bookmarks-&gt;removeElement($bookmark);
   }
}
</code></pre>

<p><strong>UPDATE 2 WORKING</strong></p>

<pre><code>public function saveAdvertBookmark($advertId)
{
    $userId = $this-&gt;getUserEntity()-&gt;getId(); 
    $user = $this-&gt;getEntityManager()-&gt;find('Advert\Entity\User', $userId);
    $advert = $this-&gt;getEntityManager()-&gt;find('Advert\Entity\Advert', $advertId);
     # create a new, empty entity
    $bookmark = new \Advert\Entity\Bookmark();
    $bookmark-&gt;setUser($user);
    $bookmark-&gt;setAdvert($advert);
     # write new bookmmark to database tbl bookmark
    $this-&gt;getEntityManager()-&gt;persist($bookmark);
    $this-&gt;getEntityManager()-&gt;flush();
}


public function removeAdvertBookmark($advert)
{
    $user = $this-&gt;getUserEntity()-&gt;getId();  
    $advert = $this-&gt;getEntityManager()-&gt;getRepository('Advert\Entity\Bookmark')
                                         -&gt;findOneBy(array('advert' =&gt; $advert, 'user' =&gt; $user));
    if ($advert !== NULL){

         # write new bookmmark to database tbl bookmark
        $this-&gt;getEntityManager()-&gt;remove($advert);
        $this-&gt;getEntityManager()-&gt;flush();
    }else{
        return false;
    }
}
</code></pre>",0,php|orm|doctrine-orm|zend-framework2
32787882,How to transform images on server using Guillotine (JS) & Intervention,"<p>I am using <a href=""https://github.com/matiasgagliano/guillotine"" rel=""nofollow"">Guillotine</a> to let the user transform images. No instructions or examples are provided for how to actually apply the transformations on the server side. Using <a href=""http://image.intervention.io/"" rel=""nofollow"">Intervention</a>, how do you do this properly?</p>

<p>The image is sent to the server with the following instructions:</p>

<pre><code>{ scale: 1.4, angle: 270, x: 10, y: 20, w: 900, h: 675 }
</code></pre>

<p>So how to we take that info and apply it to the photo?</p>

<p>Here is what I have so far:</p>

<pre><code>// Gets the true initial orientation
$img-&gt;orientate();

// Mirrors the image to what the user sees
$img-&gt;flip('v')-&gt;flip('h'); 

if(isset($fileData['angle']) &amp;&amp; $fileData['angle'] &gt; 0 &amp;&amp; $fileData['angle'] &lt; 360){
    $img-&gt;rotate($fileData['angle']);
}
</code></pre>",0,php|laravel|intervention
32539322,Facing parse error issue with google plusDomains rest api while creating post,"<p>I am using this link for creating posts on google plus - 
<a href=""https://developers.google.com/+/domains/posts/creating"" rel=""nofollow"">https://developers.google.com/+/domains/posts/creating</a></p>

<p>I have generated access token using these steps</p>

<ol>
<li><p>Using the following link to generate code</p>

<pre><code>https://accounts.google.com/o/oauth2/auth?client_id={client_id}&amp;redirect_uri={redirect_uri}&amp;scope=https://www.googleapis.com/auth/plus.stream.write https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/plus.me&amp;approval_prompt=force&amp;response_type=code
</code></pre></li>
</ol>

<p>result </p>

<pre><code>    {redirect_uri}/?code=4/OxhUqnNDDGPPcuf_VvE7cKuL4PXehuToUTfwyrt9U&amp;authuser=0&amp;prompt=consent&amp;session_state=7da4522b3012e15uigggguhgue1bd80e6adb1bfd9..66de#
</code></pre>

<p>received this code ""4/OxhUqnNDDGPPcuf_VvE7cKuL4PXehuToUTfwyrt9U"" with redirect uri.</p>

<ol start=""2"">
<li><p>Using this code  I made a request for token at this url</p>

<pre><code>https://www.googleapis.com/oauth2/v3/token
</code></pre></li>
</ol>

<p>post params -        </p>

<pre><code>    grant_type = authorization_code
    code = 4/OxhUqnNDDGPPcuf_VvE7cKuL4PXehuToUTfwyrt9U
    client_secret = {client_secret}
    redirect_uri = {redirect_uri}
    client_id = {client_id}
</code></pre>

<p>for which received following result</p>

<pre><code> {
""access_token"": ""{access_token}"",
""token_type"": ""Bearer"",
""expires_in"": 3600,
""id_token"": ""{token_id}""
  }
</code></pre>

<p>Now when creating a post on google plus using the above access token in following curl request I get the parse error - </p>

<pre><code> curl -v -H ""Content-Type: application/json"" -H ""Authorization: Bearer ""{access_token}"" -d ""{""object"": {""originalContent"": ""Happy Monday!#caseofthemondays""},""access"":{""kind"":""plus#acl"",""items"":[{""type"":""domain""}],""domainRestricted"":true}}"" -X POST https://www.googleapis.com/plusDomains/v1/people/{user_id}/activities
</code></pre>

<p>Results -</p>

<pre><code>  {
   ""error"": {
     ""errors"": [
       {
         ""domain"": ""global"",
         ""reason"": ""parseError"",
         ""message"": ""Parse Error""
       }
    ],
     ""code"": 400,
   ""message"": ""Parse Error""
   }
 }
</code></pre>

<p>There is no description for this error code at the following link -
<a href=""https://developers.google.com/drive/web/handle-errors"" rel=""nofollow"">https://developers.google.com/drive/web/handle-errors</a></p>

<p>And using both these permissions</p>

<pre><code>  https://www.googleapis.com/auth/plus.me
  https://www.googleapis.com/auth/plus.stream.write
</code></pre>

<p>As suggested by mahendar it does solves the parse error which I figured earlier today. But now I am facing the following issue of</p>

<pre><code>  {
    ""error"": {
      ""errors"": [
        {
          ""domain"": ""global"",
          ""reason"": ""forbidden"",
          ""message"": ""Forbidden""
        }
      ],
      ""code"": 403,
      ""message"": ""Forbidden""
    }
  }
</code></pre>

<p>I guess the permissions are wrong. I have enabled the domainPlus api in developers console. </p>

<p>I don't know what I am doing wrong here. Any help will be appreciated.</p>",1,php|curl|google-api|google-plus|posts
32796214,Send SOAP Requests using PHP and get the returned response,"<p>I am trying integrate a payment gateway in a simple PHP site (my own site) and the gateway accepts data only in SOAP format. I have absolutely no idea what the SOAP is, but thanks to Google I now know how it looks like (at least).  </p>

<p>Basically, I need to send a bunch of customer data and payment data to the gateway to act according to the response receive. Here are the sample request code and sample response code. They only provided the URLto post to and that is <code>http://69.94.141.22/SaveTransactions.asmx</code>.  </p>

<p><strong>Request</strong>  </p>

<pre><code>POST /SaveTransactions.asmx HTTP/1.1
Host: 69.94.141.22
Content-Type: application/soap+xml; charset=utf-8
Content-Length: length

&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;soap12:Envelope xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:soap12=""http://www.w3.org/2003/05/soap-envelope""&gt;
  &lt;soap12:Body&gt;
    &lt;SendTransactionsAction xmlns=""http://tempuri.org/""&gt;
      &lt;strUserName&gt;string&lt;/strUserName&gt;
      &lt;strPassword&gt;string&lt;/strPassword&gt;
      &lt;strSecureKey&gt;string&lt;/strSecureKey&gt;
      &lt;strFirstName&gt;string&lt;/strFirstName&gt;
      &lt;strLastName&gt;string&lt;/strLastName&gt;
      &lt;strPhoneNumber&gt;string&lt;/strPhoneNumber&gt;
      &lt;strStreetNumber&gt;string&lt;/strStreetNumber&gt;
      &lt;strUnitNumber&gt;string&lt;/strUnitNumber&gt;
      &lt;strStreetName&gt;string&lt;/strStreetName&gt;
      &lt;strCity&gt;string&lt;/strCity&gt;
      &lt;strState&gt;string&lt;/strState&gt;
      &lt;strZipCode&gt;string&lt;/strZipCode&gt;
      &lt;strEmailAddress&gt;string&lt;/strEmailAddress&gt;
      &lt;strBankName&gt;string&lt;/strBankName&gt;
      &lt;strRoutingNo&gt;string&lt;/strRoutingNo&gt;
      &lt;strAccountNumber&gt;string&lt;/strAccountNumber&gt;
      &lt;strCheckNo&gt;string&lt;/strCheckNo&gt;
      &lt;strAmount&gt;string&lt;/strAmount&gt;
      &lt;strNotes&gt;string&lt;/strNotes&gt;
    &lt;/SendTransactionsAction&gt;
  &lt;/soap12:Body&gt;
&lt;/soap12:Envelope&gt;
</code></pre>

<p><strong>Response</strong>  </p>

<pre><code>HTTP/1.1 200 OK
Content-Type: application/soap+xml; charset=utf-8
Content-Length: length

&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;soap12:Envelope xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:soap12=""http://www.w3.org/2003/05/soap-envelope""&gt;
  &lt;soap12:Body&gt;
    &lt;SendTransactionsActionResponse xmlns=""http://tempuri.org/""&gt;
      &lt;SendTransactionsActionResult&gt;string&lt;/SendTransactionsActionResult&gt;
    &lt;/SendTransactionsActionResponse&gt;
  &lt;/soap12:Body&gt;
&lt;/soap12:Envelope&gt;
</code></pre>

<p>How do I post these to the URL provided using PHP and how do I get that response <code>SendTransactionsActionResult</code> from the returned response?  </p>

<p>I am not asking you to do it for me, but a simple get started like codes will help a lot.<br>
Thanks in advance</p>",-1,php|soap
32832553,"Fat-Free Framework, Wix, and X-Frame-Options","<p>I have built a widget using the Fat-Free Framework for a client that should make their life easier, but they also requested that their website is created using Wix.  I thought it would be easy to embed this F3 site within the Wix site using their embedding plugins (there are built-in and plug-in versions).</p>

<p>The problem is that regardless of the answers I have received so far on SO and other sites, I still get an X-Frame-Options is set to SAMEORIGIN error.  I have tried the following:</p>

<ul>
<li><code>header_remove()</code> php command</li>
<li><code>header('X-Frame-Options: GOFORIT')</code> php command (<code>GOFORIT</code> is for anything but <code>SAMEORIGIN</code> and <code>DENY</code>)</li>
<li>adding <code>&amp;output=embed</code> to the link (this didn't work with F3)</li>
<li><p>adding the following htaccess code:</p>

<p><code>Header always append X-Frame-Options SAMEORIGIN
Header set Access-Control-Allow-Origin: ""http://editor.wix.com""
Header set Access-Control-Allow-Origin: ""http://www.wix.com""</code></p></li>
</ul>

<p>I am afraid that the Wix embed plug-in will be a bit limited and I won't be able to change much on that end. Any ideas what to try next?  Is there some configuration for F3 that will help this problem or am I using the PHP code wrong?  Does anything need to be configured on the Wix site? Thanks for any help.</p>",1,php|.htaccess|fat-free-framework|wixcode
32597542,CakePHP 3 Ldap authentication issue and clarification,"<p>I am working on integrating LDAP authentication in my project. and I followed the tutorial from official CakePHP site that guides through how to create a custom object in application src path and using those custom objects in AuthController.</p>

<p>So I created a folder called Auth in src with the file name called LdapAuthorize.php. The path looks like this src/Auth/LdapAuthorize.php</p>

<p>Here is my LdapAuthorize.php code:</p>

<pre><code>namespace App\Auth;

use Cake\Auth\BaseAuthorize;
use Cake\Network\Request;

class LdapAuthorize extends BaseAuthorize {
    public function authorize($user, Request $request) {
        if ($user == 'username') { // where username is logged on ldap user on a computer.
            return true;
        }
    }
}
</code></pre>

<p>I also called the object in AppController.php file. Here is my code:</p>

<pre><code>public function initialize()
{
    parent::initialize();
    $this-&gt;loadComponent('Flash');
    $this-&gt;loadComponent('Auth', [
        'loginRedirect' =&gt; [
            'controller' =&gt; 'Customers',
            'action' =&gt; 'index'
        ],
        'logoutRedirect' =&gt; [
            'controller' =&gt; 'Pages',
            'action' =&gt; 'display',
            'home'
        ]
    ]);      
    $this-&gt;Auth-&gt;config('authenticate', [
        'Ldap'
    ]);
}
</code></pre>

<p>So when I access the url <a href=""http://localhost/AppPath/Dashboard/index"" rel=""nofollow"">http://localhost/AppPath/Dashboard/index</a> I get <code>Authentication adapter ""Ldap"" was not found.</code></p>

<p>Since this is my first experience with CakePHP, I couldn't find that many solution online that help troubleshoot any issues.</p>

<p>Adding additional code for LdapAuthenticate.php:</p>

<pre><code>namespace App\Auth;

use Cake\Auth\BaseAuthenticate;
use Cake\Network\Request;
use Cake\Network\Response;

class OpenidAuthenticate extends BaseAuthenticate
{
    public function authenticate(Request $request, Response $response)
    {
        $users = [""john"", ""ray""];
        return $users;
    }
}
</code></pre>",2,php|cakephp|authentication|cakephp-3.0
32608822,htaccess reqrite from one directory to another,"<p>What is the best practice of rewriting URL from one directory to another.
Actualy this is my folder structure.</p>

<pre><code>/
    /folder1
        /subfolder1
            index.php
        /subfolder2
            index.php
            ...
    /folder2
        /subfolder1
            index.php
        /subfolder2
            index.php
            ...
    /folder3
        index.php
        /images
        /css
        /...
            /...
        ...
</code></pre>

<p>What I want to achieve is that only requests to <code>http://example.com/folderX/subfolder1/*</code> rewrites to <code>index.php</code> in <code>folder3</code></p>

<p>I don't want to rewrite anything from subfolder2 and I need everything from subfolder1 rewrited.</p>

<p>So far I have this. Is it good solution or there is a better way?</p>

<pre><code>&lt;IfModule mod_rewrite.c&gt;
    RewriteEngine on
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_URI} (.*?)/subfolder1$
    RewriteRule ^([^?]*)$ folder3/index.php?path=$1 [NC,L,QSA]
&lt;/IfModule&gt;
</code></pre>",1,php|regex|.htaccess|mod-rewrite|rewrite
32644076,Transform a function into template build,"<p>I'm starting in the world of PHP. Ok, right in the point, i want to build a function that print a HTML code (like a template).</p>

<p>Example:</p>

<pre><code>function template($image, $name){
  echo '&lt;figure&gt;
           &lt;img src=""'.$image.'"" /&gt;
           &lt;figcaption&gt;'.$name.'&lt;/figcaption&gt;
        &lt;/figure&gt;';
}
</code></pre>

<p>I've searched for template engine (think that is the name) and i found one called Twig.</p>

<p>But okay, what is the better way to buildy ""templates"" in PHP?</p>

<p>Thank you!</p>",1,php|function
32680216,I want to Create a Table on submit without redirecting to any other page in php,"<p>I am using Bootstrap and I want to execute the query on Button Click with just a slide Panel(jquery) Successful Message while staying on the Same TAB.<br>
<br> I have only one PAGE but different Tabs.<br>
I am using this in my PHP code:-
<br></p>

<pre><code>if ($conn-&gt;query($sql) === TRUE) {
 {     header(""Location: localhost/aryan/index.php"");}
</code></pre>

<p>I want to stay on the same tab with just the slide panel message.
<br>
But the Problem is it always redirects to HOME tab.
I have already tried <code>""localhost/aryan/index.php#menu2""</code> but doesn't work.</p>",0,javascript|php|jquery|html|twitter-bootstrap
32712392,Migrating CodeIgniter3 session backends,"<p>Currently I use the database backend for CodeIgniter session storage. I would like to move away from storing session information in the database, and would like to switch to using the filesystem backend. However, I would like not to lose all my sessions. Is there a way to migrate from one to the other without losing session data?</p>",0,php|codeigniter|session|backend
32755003,How to make foreign key same int type ?,"<p>I have the following migration file declared in laravel:</p>

<pre><code>&lt;?php

use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;

class CreateProductsTable extends Migration {

    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('products' , function($table){
            $table-&gt;increments('id');
            $table-&gt;integer('category_id');
            $table-&gt;string('title');
            $table-&gt;text('description');
            $table-&gt;decimal('height' , 6 , 2);
            $table-&gt;decimal('width' , 6 , 2);
            $table-&gt;decimal('length' , 6 , 2);
            $table-&gt;string('color');
            $table-&gt;string('material');
            $table-&gt;timestamps();

        });

        Schema::table('products' , function($table){
            $table-&gt;foreign('category_id')-&gt;references('id')-&gt;on('categories');
        });

    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::drop('products');
    }

}
</code></pre>

<p>now when i run <code>php artisan migrate</code> </p>

<p>i get an error , because the <code>id</code> in categories is int(10) and the  <code>categories_id</code> I.E. </p>

<pre><code>$table-&gt;foreign('category_id')-&gt;references('id')-&gt;on('categories');
</code></pre>

<p>is <code>int(11)</code> how do i make both int(10) ? </p>",1,php|laravel-4|database-migration
32791925,single page script error,"<p>I have this form page: <a href=""http://webauthorsgroup.com/raa/contacform/index3.html"" rel=""nofollow"">http://webauthorsgroup.com/raa/contacform/index3.html</a> which is producing an ""empty field(s)"" error, yet I can't pinpoint where this error is occurring.</p>

<p>I am using the following php form:</p>

<pre><code>&lt;?php
if($_POST)
{
    $to_Email       = ""email@email.com""; //Replace with recipient email address
    $subject        = 'Web Form'; //Subject line for emails

    //check if its an ajax request, exit if not
    if(!empty($_SERVER['HTTP_X_REQUESTED_WITH']) AND strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) != 'xmlhttprequest') {

        //exit script outputting json data
        $output = json_encode(
        array(
            'type'=&gt;'error', 
            'text' =&gt; 'Request must come from Ajax'
        ));

        die($output);
    } 

    //check $_POST vars are set, exit if any missing
    if(empty($_POST[""userFirst""]) || empty($_POST[""userLast""]) || empty($_POST[""userPhone""]) || empty($_POST[""userEmail""]))
    {
        $output = json_encode(array('type'=&gt;'error', 'text' =&gt; 'Input fields are empty!'));
        die($output);
    }

    //Sanitize input data using PHP filter_var().
    $user_First       = filter_var($_POST[""userFirst""], FILTER_SANITIZE_STRING);
    $user_Last       = filter_var($_POST[""userLast""], FILTER_SANITIZE_STRING);
    $user_Company       = filter_var($_POST[""userCompany""], FILTER_SANITIZE_EMAIL);
    $user_Address       = filter_var($_POST[""user_Address""], FILTER_SANITIZE_STRING);
    $user_City       = filter_var($_POST[""user_City""], FILTER_SANITIZE_STRING);
    $user_State       = filter_var($_POST[""user_State""], FILTER_SANITIZE_STRING);
    $user_Zip       = filter_var($_POST[""user_Zip""], FILTER_SANITIZE_STRING);
    $user_Phone       = filter_var($_POST[""user_Phone""], FILTER_SANITIZE_STRING);
    $user_Email       = filter_var($_POST[""user_Email""], FILTER_SANITIZE_STRING);
    $user_Cell       = filter_var($_POST[""user_Cell""], FILTER_SANITIZE_STRING);
    $user_Type       = filter_var($_POST[""user_Type""], FILTER_SANITIZE_STRING);
    $user_Carrier       = filter_var($_POST[""user_Carrier""], FILTER_SANITIZE_STRING);
    $user_cs_experience       = filter_var($_POST[""user_cs_experience""], FILTER_SANITIZE_STRING);
    $user_contractor_experience       = filter_var($_POST[""user_contractor_experience""], FILTER_SANITIZE_STRING);
    $user_delivery_areas       = filter_var($_POST[""user_delivery_areas""], FILTER_SANITIZE_STRING);
    $user_yr_make_model       = filter_var($_POST[""user_yr_make_model""], FILTER_SANITIZE_STRING);
    $user_ref1_company       = filter_var($_POST[""user_ref1_company""], FILTER_SANITIZE_STRING);
    $user_ref1_contact       = filter_var($_POST[""user_ref1_contact""], FILTER_SANITIZE_STRING);
    $user_ref1_address       = filter_var($_POST[""user_ref1_address""], FILTER_SANITIZE_STRING);
    $user_ref1_city       = filter_var($_POST[""user_ref1_city""], FILTER_SANITIZE_STRING);
    $user_ref1_state       = filter_var($_POST[""user_ref1_state""], FILTER_SANITIZE_STRING);
    $user_ref1_zip       = filter_var($_POST[""user_ref1_zip""], FILTER_SANITIZE_STRING);
    $user_ref2_company       = filter_var($_POST[""user_ref2_company""], FILTER_SANITIZE_STRING);
    $user_ref2_contact       = filter_var($_POST[""user_ref2_contact""], FILTER_SANITIZE_STRING);
    $user_ref2_address       = filter_var($_POST[""user_ref2_address""], FILTER_SANITIZE_STRING);
    $user_ref2_city       = filter_var($_POST[""user_ref2_city""], FILTER_SANITIZE_STRING);
    $user_ref2_state       = filter_var($_POST[""user_ref2_state""], FILTER_SANITIZE_STRING);
    $user_ref2_zip       = filter_var($_POST[""user_ref2_zip""], FILTER_SANITIZE_STRING);
    $user_Message       = filter_var($_POST[""user_Message""], FILTER_SANITIZE_STRING);

    //additional php validation
    if(strlen($user_First)&lt;3) // If length is less than 4 it will throw an HTTP error.
    {
        $output = json_encode(array('type'=&gt;'error', 'text' =&gt; 'Name is too short or empty!'));
        die($output);
    }
    if(!filter_var($user_Email, FILTER_VALIDATE_EMAIL)) //email validation
    {
        $output = json_encode(array('type'=&gt;'error', 'text' =&gt; 'Please enter a valid email!'));
        die($output);
    }
    if(!is_numeric($user_Phone)) //check entered data is numbers
    {
        $output = json_encode(array('type'=&gt;'error', 'text' =&gt; 'Only numbers allowed in phone field'));
        die($output);
    }
    /*if(strlen($user_Message)&lt;5) //check emtpy message
    {
        $output = json_encode(array('type'=&gt;'error', 'text' =&gt; 'Too short message! Please enter something.'));
        die($output);
    }*/

    //proceed with PHP email.
    $headers = 'From: '.$user_Email.'' . ""\r\n"" .
    'Reply-To: '.$user_Email.'' . ""\r\n"" .
    'X-Mailer: PHP/' . phpversion();

    $content = $user_Message.""\n"".$user_First.""\n"".$user_Last.""\n"".$user_Company.""\n"".$user_Address.""\n"".$user_City.""\n"".$user_State.""\n"".$user_Zip.""\n"".$user_Phone.""\n"".$user_Email.""\n"".$user_Cell.""\n"".$user_Type.""\n"".$user_Carrier.""\n"".$user_cs_experience.""\n"".$user_contractor_experience.""\n"".$user_delivery_areas.""\n"".$user_yr_make_model.""\n"".$user_ref1_company.""\n"".""\n"".$user_ref1_contact.""\n"".$user_ref1_address.""\n"".$user_ref1_city.""\n"".$user_ref1_state.""\n"".$user_ref1_zip.""\n"".$user_ref2_company.""\n"".$user_ref2_contact.""\n"".$user_ref2_addressl.""\n"".$user_ref2_city.""\n"".$user_ref2_state.""\n"".$user_ref2_zip;

    $sentMail = @mail($to_Email, $subject, $content, $headers);

    if(!$sentMail)
    {
        $output = json_encode(array('type'=&gt;'error', 'text' =&gt; 'Could not send mail! Please check your PHP mail configuration.'));
        die($output);
    }else{
        $output = json_encode(array('type'=&gt;'message', 'text' =&gt; 'Thank you '.$user_First .'. We will be in contact with you.'));
        die($output);
    }
}
?&gt;
</code></pre>",0,php|forms
32856544,Commands return exit code 2 while process is terminating,"<p>I have a long-running PHP process which is handling signals. The signals are handled at the end of each ""iteration"" using <a href=""http://php.net/pcntl_signal_dispatch"" rel=""nofollow""><code>pcntl_signal_dispatch()</code></a>, along with some other tasks. Some of these tasks run command line operations, such as <code>find</code>.</p>

<p>As soon as the process receives a <code>SIGINT</code> (with <kbd>Ctrl</kbd>+<kbd>C</kbd>), whether before or after the signal handling by the process, all the command line operations start failing and return exit code 2.</p>

<p>What's going on? I doubt there is any way to fix it, but I would like to understand what is causing this issue.</p>

<p><strong><em>Edit:</em></strong> Here is a code sample to reproduce the issue:</p>

<pre><code>echo ""START\n"";

$run = true;
pcntl_signal(SIGINT, function() use ($run) {
    $run = false;
});

while ($run) {
    $command = 'sleep 1 &amp;&amp; find . -name ""*.md""';
    exec($command, $result, $exitCode);

    if ($exitCode !== 0 || !isset($result[0])) {
        throw new \RuntimeException(""Command failed with exit code '{$exitCode}'."");
    }

    pcntl_signal_dispatch();
}

echo ""END\n"";
die;
</code></pre>

<p>I am completely unable to get even this small script to end properly (with <code>echo ""END\n""; die;</code>); it always ends with the <code>RuntimeException</code>.</p>

<p>It's as if the signals were also interrupting the commands launched from the process. Maybe the signals are being sent to the process as well as all its current and future children?</p>

<p>If that is the case, is there anything I can do to handle this situation better? I could set some kind of ""global"" variable indicating that a signal has been caught and that commands shouldn't be run from that point, but that's a bit messy and wouldn't work for the commands that are run during the interval between the signal and my call to <code>pcntl_signal_dispatch()</code>.</p>",1,php|command-line|signals|sigint|pcntl
32955212,Get all uploaded files,"<p>I'm uploading several files and I need to process all of them. But they have ""unknown"" names back in the form and simple foreach is not working.</p>

<pre><code>&lt;input type=""file"" name=""somethingIDontKnow""&gt;
&lt;input type=""file"" name=""somethingIDontKnowAgain""&gt;
...
</code></pre>

<p>I need to know the name parameters of inputs. Can I get them somehow?</p>",0,php
32682375,Why phpStorm marks an error on valid query,"<p>I have a query:</p>

<pre><code>$this-&gt;source-&gt;exec(""UPDATE `account` AS `m1`,
  (SELECT   `m2`.`id` 
  FROM `account` AS `m2` 
  WHERE `m2`.`userid` = ? AND `m2`.`demo` = 0 
  ORDER BY `m2`.`date` DESC LIMIT 1) AS `m2`
SET `m1`.`default` = '1' 
WHERE  `m1`.`id` = `m2`.`id` AND `m1`.`demo` = 0"", $user_id);
</code></pre>

<p>Now, phpStorm is trowing an error for the ORDER BY in the subquery. The query works perfectly when the code is run. I set MySQL as the SQL dialect in phpStorm.
The error is:</p>

<p>GROUP or HAVING expected, ORDER got.</p>

<p><strong>How can I fix this error?</strong></p>",2,mysql|phpstorm|code-inspection
32719343,how to deploy a custom skeleton application in Bluemix php,"<p>In Bluemix if I create an application starting from php template then the DocumentRoot is set to: </p>

<p><code>/htdocs</code>.</p>

<p>I actually would like to have a dir structure like this:</p>

<pre><code>/htdocs
    /public_html
        index.php
    /myCode
        myPhpClass.php
</code></pre>

<p>with httpd.conf DocumentRoot=""${HOME}/htdocs/public_html"".</p>

<p>So I tried to push this community buildpack <a href=""https://github.com/cloudfoundry/php-buildpack.git"" rel=""nofollow"">https://github.com/cloudfoundry/php-buildpack.git</a> from my local myAppName dir:</p>

<pre><code>   /var
      /www
         /myAppName
             /public_html
                 index.php
             /myCode
                 myOhoClass.php
             /.bp-config
                 options.json
</code></pre>

<p>using cf:</p>

<pre><code>[... myAppName]# cf push -s cflinuxfs2 -m 128M -b https://github.com/cloudfoundry/php-buildpack.git myAppName
</code></pre>

<p>where options.json file:</p>

<pre><code>{
    ""WEBDIR"": ""htdocs/public_html""
}
</code></pre>

<p>but what I ended to get in Bluemix is:</p>

<pre><code> /htdocs
        /public_html
            /public_html
                index.php
            /myCode
                myPhpClass.php
</code></pre>

<p>Is there a way to have a custom directory structure for an apache httpd/php application in Bluemix?</p>",3,php|httpd.conf|ibm-cloud
